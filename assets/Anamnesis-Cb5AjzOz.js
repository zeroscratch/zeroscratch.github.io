import{N as X}from"./HeaderGPT-BZmBIOgs.js";import{T as G}from"./twitch-icon-Cr6hM6st.js";import{b as Y}from"./SoloBuildStandings-DTpAlalr.js";import{d as F,r as $,g as H,c as n,a as s,t as i,F as S,B as ss,b as N,n as w,u as j,p as g,e as P,o,_ as z,D as J,m as Z,A as I,z as O,f as q}from"./index-DBRL8X6_.js";import{l as es,f as as,a as ts,i as x,b as U,g as ns}from"./ess3BuildPlayoffs-CwWSUyFB.js";import{I as os}from"./IconMarikasEye-DCvr0MMw.js";import"./elden_squares-BChk0GbN.js";/* empty css                                                                  */const is={class:"standings-wrapper"},ls={key:0,class:"loading"},rs={key:1,class:"error"},cs={class:"standings-list"},ds={class:"col-rank-number"},us={class:"col-player"},vs={class:"player-name"},ms=["href"],ps={class:"col-record-spacing"},_s={class:"col-wr"},hs={class:"col-games"},fs={class:"col-squares"},ys={class:"col-lines"},ks=F({__name:"StandingsAnamnesis",setup(u){const a=$([]),f=$(!0),_=$(null);async function d(v){const r=await fetch(v);if(!r.ok)throw new Error(`Failed to fetch ${v} (${r.status})`);return await r.json()}return H(async()=>{f.value=!0,_.value=null;try{const v=await d("/data/ScadubingoData/anamnesis/matches.json"),r=await d("/data/entries/players.json");let e=[],b=[];const m=[{receiver:"psiphicode",gamesLost:3,squaresLost:0,linesLost:0},{receiver:"blaze",gamesLost:3,squaresLost:0,linesLost:0}];a.value=Y(v,r,e,b,m)}catch(v){console.error(v),_.value=(v==null?void 0:v.message)??"Unknown error",a.value=[]}finally{f.value=!1}}),(v,r)=>(o(),n("div",is,[r[1]||(r[1]=s("h1",{class:"title"},"Anamnesis Standings",-1)),f.value?(o(),n("p",ls,"Loadingâ€¦")):_.value?(o(),n("p",rs,i(_.value),1)):(o(),n(S,{key:2},[r[0]||(r[0]=ss('<div class="standings-header" data-v-0bd161b3><div class="col-rank" data-v-0bd161b3>Rank</div><div class="col-player" data-v-0bd161b3>Player</div><div class="col-record" data-v-0bd161b3>Record</div><div class="col-wr" data-v-0bd161b3>WR%</div><div class="col-games" data-v-0bd161b3>GP</div><div class="col-squares" data-v-0bd161b3>Squares</div><div class="col-lines" data-v-0bd161b3>Lines</div></div>',1)),s("div",cs,[(o(!0),n(S,null,N(a.value,(e,b)=>(o(),n("div",{key:e.playerId,class:w(["team-card",{"playoff-yes":e.Playoffs==="yes","playoff-no":e.Playoffs==="no","playoff-maybe":e.Playoffs==="maybe"}])},[s("div",ds,i(b+1),1),s("div",us,[s("h2",vs,[j(i(e.nickname?`${e.displayName}`:e.displayName)+" ",1),e.twitch?(o(),n("a",{key:0,href:e.twitch,class:"twitch-link",target:"_blank",rel:"noreferrer"},[P(G,{class:"icon"})],8,ms)):g("",!0)])]),s("div",ps,i(e.record),1),s("div",_s,i(e.WR)+"%",1),s("div",hs,i(e.gamesPlayed),1),s("div",fs,i(e.squares),1),s("div",ys,i(e.lines),1)],2))),128))])],64))]))}}),bs=z(ks,[["__scopeId","data-v-0bd161b3"]]);function gs(u,a){const f={};Object.values(a).forEach(d=>{f[d.id]=d.displayName});const _={};return u.forEach(d=>{var b,m;_[d.week]||(_[d.week]={week:d.week,matches:[]});const[v,r]=d.participants,e=d.winner;_[d.week].matches.push({gameId:d.id,player1:{name:f[v.id]??String(v.id),score:v.score,outcome:v.id===e?d.method:"Lost"},player2:{name:f[r.id]??String(r.id),score:r.score,outcome:r.id===e?d.method:"Lost"},matchTime:d.duration,vodLink:(b=d.media)==null?void 0:b.vod,imageLink:(m=d.media)==null?void 0:m.image})}),Object.values(_).sort((d,v)=>d.week-v.week)}const ws=F({name:"AnamnesisResults",setup(){const u=$([]),a=$(3),f=$(!1),_=$(null),d=[{label:"Week 1",value:1},{label:"Week 2",value:2},{label:"Week 3",value:3},{label:"All Weeks",value:"all"}];H(async()=>{try{const[y,E]=await Promise.all([fetch("/data/ScadubingoData/anamnesis/matches.json"),fetch("/data/entries/players.json")]);if(!y.ok)throw new Error("Failed to load matches.json");if(!E.ok)throw new Error("Failed to load players.json");const W=await y.json(),A=await E.json(),T=A.players??A;u.value=gs(W.matches??W,T)}catch(y){console.error("Failed to load Anamnesis Match Results:",y)}});const v=Z(()=>a.value==="all"?u.value:u.value.filter(y=>y.week===a.value));return{selectedWeek:a,weekOptions:d,filteredWeeks:v,openLink:y=>{window.open(y,"_blank")},openImageModal:y=>{_.value=y,f.value=!0},closeModal:()=>{f.value=!1,_.value=null},getPlayerClass:y=>y==="Bingo"||y==="Majority"?"winner":y==="Lost"?"loser":"",showModal:f,modalImage:_}}}),$s={class:"match-results-container"},Ss={class:"week-selector"},Ms=["onClick"],Cs={class:"week-title"},Ls={class:"matches-list"},Ns={class:"match-line"},Ps={class:"score-line"},Ts={class:"match-details"},As={class:"match-buttons"},Rs=["onClick"],Bs=["onClick"],js={key:0,class:"no-results"},Es={class:"modal-content"},Ws=["src"];function Is(u,a,f,_,d,v){return o(),n("div",$s,[a[4]||(a[4]=s("h2",{class:"title"},"Anamnesis Match Results",-1)),s("div",Ss,[(o(!0),n(S,null,N(u.weekOptions,r=>(o(),n("button",{key:r.value,onClick:e=>u.selectedWeek=r.value,class:w(["week-button",{active:u.selectedWeek===r.value}])},i(r.label),11,Ms))),128))]),(o(!0),n(S,null,N(u.filteredWeeks,r=>(o(),n("div",{key:r.week,class:"week-block"},[s("h3",Cs,"Week "+i(r.week),1),s("div",Ls,[(o(!0),n(S,null,N(r.matches,e=>(o(),n("div",{key:e.gameId,class:"match-card"},[s("div",Ns,[s("span",{class:w(["player-name",u.getPlayerClass(e.player1.outcome)])},i(e.player1.name),3),a[2]||(a[2]=s("span",{class:"vs-text"},"vs",-1)),s("span",{class:w(["player-name",u.getPlayerClass(e.player2.outcome)])},i(e.player2.name),3)]),s("div",Ps,[s("span",{class:w(["player-score",u.getPlayerClass(e.player1.outcome)])},i(e.player1.score),3),a[3]||(a[3]=s("span",{class:"dash"}," - ",-1)),s("span",{class:w(["player-score",u.getPlayerClass(e.player2.outcome)])},i(e.player2.score),3)]),s("div",Ts,[s("p",null,"Match Time: "+i(e.matchTime),1)]),s("div",As,[e.imageLink?(o(),n("button",{key:0,class:"match-button",onClick:b=>u.openImageModal(e.imageLink)}," View Board ",8,Rs)):g("",!0),e.vodLink?(o(),n("button",{key:1,class:"match-button",onClick:b=>u.openLink(e.vodLink)}," Watch VOD ",8,Bs)):g("",!0)])]))),128))])]))),128)),u.filteredWeeks.length===0?(o(),n("div",js," No match data available for this week. ")):g("",!0),u.showModal?(o(),n("div",{key:1,class:"modal-overlay",onClick:a[1]||(a[1]=J((...r)=>u.closeModal&&u.closeModal(...r),["self"]))},[s("div",Es,[s("button",{class:"close-button",onClick:a[0]||(a[0]=(...r)=>u.closeModal&&u.closeModal(...r))},"âœ•"),s("img",{src:u.modalImage,alt:"Match Board",class:"modal-image"},null,8,Ws)])])):g("",!0)])}const Os=z(ws,[["render",Is],["__scopeId","data-v-c4826ac8"]]),Fs={class:"team-colors"},Ds={class:"status-bar"},Vs={key:0},qs={key:1},Gs={key:2},Hs={key:0,class:"next-match-pill"},zs={class:"round-tag-bar"},xs={class:"round-pill"},Us={class:"round-subtitle"},Ys={class:"series-pill-row"},Js=["onClick"],Zs={class:"layout"},Ks={class:"teams-column"},Qs={class:"team-card-header"},Xs={class:"team-title"},se={key:0,class:"winner-crown"},ee={class:"team-stats-grid"},ae={class:"team-stat"},te={class:"team-stat"},ne={class:"team-stat"},oe={class:"twitch-links"},ie=["href"],le={class:"twitch-text"},re={class:"center-column"},ce={class:"series-header"},de={class:"bo3-title"},ue={class:"is-match-ongoing"},ve={class:"series-outcome"},me={key:0,class:"series-winner-banner"},pe={key:1},_e={class:"bo3-scoreboard"},he={class:"team-score side left"},fe={class:"label"},ye={class:"score"},ke={class:"game-dots"},be={class:"team-score side right"},ge={class:"score"},we={class:"label"},$e={class:"games-list"},Se={class:"game-box-header"},Me={class:"game-title"},Ce={key:0,class:"game-time"},Le={class:"game-media"},Ne=["onClick"],Pe=["href"],Te={class:"scores"},Ae={class:"outcome-text"},Re={class:"modal-content"},Be=["src"],je="/data/ScadubingoData/anamnesis/playoffs.json",Ee="/data/ScadubingoData/anamnesis/matches.json",We="/data/entries/players.json",Ie=F({__name:"PlayoffsAnamnesis",setup(u){const a=$([]),f=$({}),_=$(!1),d=$("");function v(l){l&&(d.value=l,_.value=!0)}function r(){_.value=!1,d.value=""}const e=$(0);function b(l){e.value=l}H(async()=>{const l=await es(je);a.value=as(l),e.value=ts(a.value);const[c,k]=await Promise.all([fetch(Ee).then(p=>p.json()),fetch(We).then(p=>p.json())]),h=Y(c,k),t={};h.forEach(p=>t[p.playerId]=p),f.value=t});function m(l){return f.value[l]??null}function y(l){var c;return l.series.winner?((c=m(l.series.winner))==null?void 0:c.displayName)??"":""}function E(l){var h,t;const[c,k]=l.series.participants;return`${l.round} â€” ${((h=m(c))==null?void 0:h.displayName)??c} vs ${((t=m(k))==null?void 0:t.displayName)??k}`}function W(l){if(typeof l!="string")return`Game ${l}`;const c=l.match(/-G(\d+)$/i);return c?`Game ${c[1]}`:l}function A(l){const c=ns(l);return c?c.toLocaleString(void 0,{month:"short",day:"2-digit",hour:"numeric",minute:"2-digit",timeZoneName:"short"}):""}function T(l){return l?`var(--${l}, var(--team-unknown))`:"var(--team-unknown)"}function K(l,c){const k=l.series.games[c];if(!k||!k.winner)return{background:"#222",borderColor:"#555",opacity:.35};const h=T(k.winner);return{background:`color-mix(in srgb, ${h} 35%, #000 65%)`,borderColor:h,boxShadow:`0 0 12px ${h}`,opacity:1}}const Q=Z(()=>{var C,L;const l=a.value[e.value];if(!l)return"";const[c,k]=l.series.participants,h=l.series.winsByTeam[c]??0,t=l.series.winsByTeam[k]??0,p=((C=m(c))==null?void 0:C.displayName)??c,M=((L=m(k))==null?void 0:L.displayName)??k;return h===0&&t===0?"Series not started":l.series.winner?"MATCH COMPLETED":h===t?`Series tied ${h}-${t}`:h>t?`${p} leads ${h}-${t}`:`${M} leads ${t}-${h}`});function D(l){const c=m(l);return c?{name:c.displayName,twitch:c.twitch}:null}return(l,c)=>{var k,h;return o(),n(S,null,[s("div",Fs,[a.value.length?(o(),n("div",{key:0,class:"match-wrapper",style:I({"--team-color":T(a.value[e.value].series.winner)})},[s("div",Ds,[s("div",{class:w(["status-pill",{live:O(U)(a.value[e.value]),finished:O(x)(a.value[e.value])}])},[O(U)(a.value[e.value])?(o(),n("span",Vs,"LIVE")):O(x)(a.value[e.value])?(o(),n("span",qs," Completed Series")):(o(),n("span",Gs,"UPCOMING"))],2),A(a.value[e.value])?(o(),n("p",Hs," Next Match: "+i(A(a.value[e.value])),1)):g("",!0)]),s("div",zs,[s("span",xs,i(a.value[e.value].round),1),s("p",null,i(a.value[e.value].tag),1),s("span",Us," Best of "+i(a.value[e.value].series.bestOf),1)]),s("div",Ys,[(o(!0),n(S,null,N(a.value,(t,p)=>(o(),n("button",{key:t.series.id,class:w(["series-pill",{active:p===e.value}]),onClick:M=>b(p)},i(E(t)),11,Js))),128))]),s("div",Zs,[s("div",Ks,[(o(!0),n(S,null,N(a.value[e.value].series.participants,t=>{var p,M,C,L,R,V,B;return o(),n("div",{key:t,class:w(["team-card-inner",{"winner-glow":a.value[e.value].series.winner===t}]),style:I({"--team-color":T(t)})},[s("div",Qs,[s("h2",Xs,[j(i(((p=m(t))==null?void 0:p.displayName)??t)+" ",1),a.value[e.value].series.winner===t?(o(),n("span",se,"ðŸ‘‘")):g("",!0)])]),s("div",ee,[s("p",ae,[c[0]||(c[0]=s("span",null,"Record",-1)),s("strong",null,i(((M=m(t))==null?void 0:M.record)??"â€”"),1)]),s("p",te,[c[1]||(c[1]=s("span",null,"Squares",-1)),s("strong",null,i(((C=m(t))==null?void 0:C.squares)??"â€”"),1)]),s("p",ne,[c[2]||(c[2]=s("span",null,"Lines",-1)),s("strong",null,i(((L=m(t))==null?void 0:L.lines)??"â€”"),1)])]),s("div",oe,[(R=D(t))!=null&&R.twitch?(o(),n("a",{key:0,href:(V=D(t))==null?void 0:V.twitch,target:"_blank",class:"twitch-link"},[P(G,{class:"twitch-icon"}),s("span",le,i((B=D(t))==null?void 0:B.name),1)],8,ie)):g("",!0)])],6)}),128))]),s("div",re,[s("div",ce,[s("h3",de,"BEST OF "+i(a.value[e.value].series.bestOf),1),s("p",ue,i(Q.value),1),s("p",ve,[a.value[e.value].series.winner?(o(),n("span",me,[c[3]||(c[3]=s("span",{class:"crown-icon"},"ðŸ‘‘",-1)),j(" "+i(y(a.value[e.value]))+" wins the series! ",1)])):(o(),n("span",pe,"Series in progress"))])]),s("div",_e,[s("div",he,[s("span",fe,i((k=m(a.value[e.value].series.participants[0]))==null?void 0:k.displayName),1),s("span",ye,i(a.value[e.value].series.winsByTeam[a.value[e.value].series.participants[0]]??0),1)]),s("div",ke,[(o(!0),n(S,null,N(a.value[e.value].series.bestOf,t=>{var p;return o(),n("div",{key:"dot-"+t,class:w(["game-dot",{"not-played":!((p=a.value[e.value].series.games[t-1])!=null&&p.winner)}]),style:I(K(a.value[e.value],t-1))},i(t),7)}),128))]),s("div",be,[s("span",ge,i(a.value[e.value].series.winsByTeam[a.value[e.value].series.participants[1]]??0),1),s("span",we,i((h=m(a.value[e.value].series.participants[1]))==null?void 0:h.displayName),1)])]),s("div",$e,[(o(!0),n(S,null,N(a.value[e.value].series.games,t=>{var p,M,C,L,R;return o(),n("div",{key:t.id,class:"game-box",style:I({"--team-color":T(t.winner)})},[s("div",Se,[s("h4",Me,i(W(t.id)),1),t.duration?(o(),n("span",Ce," â± "+i(t.duration),1)):g("",!0)]),s("div",Le,[(p=t.media)!=null&&p.image?(o(),n("button",{key:0,class:"image-button",onClick:V=>{var B;return v((B=t.media)==null?void 0:B.image)}},[P(os,{class:"marika-eye"})],8,Ne)):g("",!0),(M=t.media)!=null&&M.vod?(o(),n("a",{key:1,class:"vod-button",href:(C=t.media)==null?void 0:C.vod,target:"_blank"},[P(G,{class:"youtube-icon"})],8,Pe)):g("",!0)]),s("div",Te,[s("p",{class:w({winner:t.winner===t.participants[0].id})},[j(i(((L=m(t.participants[0].id))==null?void 0:L.displayName)??t.participants[0].id)+" â€” ",1),s("strong",null,i(t.participants[0].score),1)],2),s("p",{class:w({winner:t.winner===t.participants[1].id})},[j(i(((R=m(t.participants[1].id))==null?void 0:R.displayName)??t.participants[1].id)+" â€” ",1),s("strong",null,i(t.participants[1].score),1)],2)]),s("p",Ae,i(t.method??"No result yet"),1)],4)}),128))])])])],4)):g("",!0)]),_.value?(o(),n("div",{key:0,class:"modal-overlay",onClick:J(r,["self"])},[s("div",Re,[s("button",{class:"close-button",onClick:r},"âœ•"),s("img",{src:d.value,alt:"Match Board",class:"modal-image"},null,8,Be)])])):g("",!0)],64)}}}),Oe="/scadubingo-public/Anamnesis_Logo_Transparent.png",Fe=F({name:"Anamnesis",components:{Navigation:X,Standings:bs,MatchResults:Os,Playoffs:Ie},mounted(){document.body.style.background="linear-gradient(182deg,rgba(10, 10, 10, 1) 0%, rgba(0, 0, 0, 1) 25%, rgba(0, 46, 42, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),De={class:"main-container"};function Ve(u,a,f,_,d,v){const r=q("Navigation"),e=q("Standings"),b=q("MatchResults");return o(),n("div",null,[P(r),s("div",De,[a[0]||(a[0]=s("div",{class:"top-image-container"},[s("img",{src:Oe,class:"logo"})],-1)),P(e),P(b)])])}const Ze=z(Fe,[["render",Ve],["__scopeId","data-v-94155bda"]]);export{Ze as default};
