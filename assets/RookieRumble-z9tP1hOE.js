import{_ as C,m as P,r as y,f as M,j as b,o as m,c as v,a as e,F as R,b as L,n as h,t as i,i as $,g,d as T,M as D,I as j,e as Q,h as S,w as A,T as E,q as W,u as I,N as F}from"./index-C6dO-H53.js";const B="/data/RookieRumbleData/rookieRumbleStandings.json";async function q(){const s=await(await fetch(B)).json(),p=Object.entries(s).map(([u,c])=>{const r=c.wins,d=c.losses,l=r+d,o=V(c.opponentWins,c.opponentLoss);return{...c,name:u,games:l,wr:N(r,l),sos:o}});return p.sort((u,c)=>{if(c.wins!==u.wins)return c.wins-u.wins;const r=parseInt(u.wr),d=parseInt(c.wr);return d!==r?d-r:c.sos!==u.sos?c.sos-u.sos:c.victory.includes(u.name)?c.wins-u.wins:c.lines!==u.lines?c.lines-u.lines:c.squares-u.squares}).forEach((u,c)=>{u.standing=c+1}),p}function N(t,s){if(s===0)return"0%";const p=t/s*100;return`${Math.round(p)}%`}function V(t,s){const p=t+s;return p===0?0:t/p}const G={name:"RookieRumbleTable",components:{TwitchIcon:P},setup(){const t=y([]),s=p=>p==="yes"?"qualified-yes":p==="maybe"?"qualified-maybe":"qualified-no";return M(async()=>{t.value=await q()}),{players:t,getQualificationClass:s}}},U={class:"table-container"},H=["href"];function K(t,s,p,u,c,r){const d=b("TwitchIcon");return m(),v("div",U,[e("table",null,[s[0]||(s[0]=e("thead",null,[e("tr",null,[e("th",null,"Standing"),e("th",null,"Player"),e("th",null,"Wins"),e("th",null,"Losses"),e("th",null,"WR"),e("th",null,"Games"),e("th",null,"Squares"),e("th",null,"Lines"),e("th",null,"Twitch")])],-1)),e("tbody",null,[(m(!0),v(R,null,L(u.players,l=>(m(),v("tr",{key:l.name,class:h(u.getQualificationClass(l.qualified))},[e("td",null,i(l.standing),1),e("td",null,i(l.name),1),e("td",null,i(l.wins),1),e("td",null,i(l.losses),1),e("td",null,i(l.wr),1),e("td",null,i(l.games),1),e("td",null,i(l.squares),1),e("td",null,i(l.lines),1),e("td",null,[l.twitch?(m(),v("a",{key:0,href:l.twitch,class:"twitch-link"},[$(d,{class:"icon"})],8,H)):g("",!0)])],2))),128))])])])}const O=C(G,[["render",K],["__scopeId","data-v-16a76517"]]);async function Z(){const t="/data/RookieRumbleData/rookieRumbleMatchResults.json";try{const s=await fetch(t);if(!s.ok)throw new Error(`Failed to fetch stats: ${s.statusText}`);const p=await s.json();if(!Array.isArray(p))throw new Error("Invalid format: expected an array of weeks.");return{matches:p.flatMap(c=>c.matches.map(r=>({...r,week:c.week})))}}catch(s){throw console.error(s),new Error("Failed to load Rookie Rumble Match Results. Please try again later.")}}const z=T({name:"RookieRumbleResultsTable",components:{Modal:D,IconMarikasEye:j},setup(){const t=y({matches:[]}),s=y(!1),p=y(null),u=y(null),c=y(null),r=f=>{p.value=f,s.value=!0},d=f=>f==="Bingo"||f==="Majority"?"highlight-green":f==="Lost"?"highlight-red":"",l=Q(()=>{const f=new Set(t.value.matches.map(w=>w.week));return Array.from(f).sort((w,_)=>w-_)}),o=Q(()=>c.value!==null?t.value.matches.filter(f=>f.week===c.value):t.value.matches);return M(async()=>{try{t.value=await Z();const f=l.value;f.length>0&&(c.value=f[f.length-1])}catch(f){u.value=f.message}}),{currentResults:t,showModal:s,modalImage:p,errorMessage:u,selectedWeek:c,weeks:l,filteredMatches:o,openModal:r,getCellClass:d}}}),J={class:"container"},Y={key:0,class:"error"},X={class:"table-container"},x={class:"results-table"},ee={class:"table-caption"},se={class:"week-button-group"},te=["onClick"],oe={rowspan:2},ne={rowspan:2},ae={rowspan:2},le=["src"];function re(t,s,p,u,c,r){const d=b("IconMarikasEye"),l=b("Modal");return m(),v("div",J,[t.errorMessage?(m(),v("div",Y,i(t.errorMessage),1)):g("",!0),e("div",X,[e("table",x,[e("caption",ee,[e("div",se,[(m(!0),v(R,null,L(t.weeks,o=>(m(),v("button",{key:o,class:h(["week-button",{active:t.selectedWeek===o}]),onClick:f=>t.selectedWeek=o}," Week "+i(o),11,te))),128)),e("button",{class:h(["week-button",{active:t.selectedWeek===null}]),onClick:s[0]||(s[0]=o=>t.selectedWeek=null)}," All Weeks ",2)])]),s[2]||(s[2]=e("thead",null,[e("tr",null,[e("th",null,"Game"),e("th",null,"Player"),e("th",null,"Score"),e("th",null,"Outcome"),e("th",null,"Time"),e("th",null,"Board")])],-1)),e("tbody",null,[(m(!0),v(R,null,L(t.filteredMatches,(o,f)=>(m(),v(R,{key:f},[e("tr",{class:h({"new-game-row":f===0||t.filteredMatches[f-1].gameId!==o.gameId})},[e("td",oe,i(o.gameId),1),e("td",{class:h(t.getCellClass(o.player1.outcome))},i(o.player1.name),3),e("td",{class:h(t.getCellClass(o.player1.outcome))},i(o.player1.score),3),e("td",{class:h(t.getCellClass(o.player1.outcome))},i(o.player1.outcome),3),e("td",ne,i(o.matchTime),1),e("td",ae,[o.imageLink?(m(),S(d,{key:0,onClick:w=>t.openModal(o.imageLink),class:"marika-eye"},null,8,["onClick"])):g("",!0)])],2),e("tr",null,[e("td",{class:h(t.getCellClass(o.player2.outcome))},i(o.player2.name),3),e("td",{class:h(t.getCellClass(o.player2.outcome))},i(o.player2.score),3),e("td",{class:h(t.getCellClass(o.player2.outcome))},i(o.player2.outcome),3)])],64))),128))])])]),(m(),S(E,{to:"body"},[$(l,{show:t.showModal,onClose:s[1]||(s[1]=o=>t.showModal=!1)},{default:A(()=>[e("img",{src:t.modalImage,alt:"Board",style:{"max-width":"100%",height:"auto"}},null,8,le)]),_:1},8,["show"])]))])}const ie=C(z,[["render",re],["__scopeId","data-v-40f2a17e"]]),ce=T({name:"UpcomingMatchCards",setup(){const t=y([]),s=y(null),p=async()=>{try{const c=await fetch("/data/RookieRumbleData/rookieRumbleUpcomingMatches.json");if(!c.ok)throw new Error(`Failed to fetch: ${c.statusText}`);const r=await c.json(),d=new Date;t.value=r.map(l=>{const o=new Date(l.scheduledAt),f=new Date(d.getTime()-2*60*60*1e3),w=o<=d&&o>=f;return{...l,isLive:w}}).filter(l=>{const o=new Date(l.scheduledAt),f=new Date(d.getTime()-2*60*60*1e3);return o>f})}catch(c){s.value=c.message}},u=c=>new Date(c).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});return M(p),{matches:t,errorMessage:s,formatDate:u}}}),de={class:"upcoming-matches"},ue={key:0,class:"error"},me={class:"match-grid"},pe={class:"players"},fe={class:"player"},ve={class:"player"},he={class:"scheduled"},ke={class:"referee"},_e={key:0,class:"type"},ye={key:1,class:"live-badge"};function we(t,s,p,u,c,r){return m(),v("div",de,[t.errorMessage?(m(),v("div",ue,i(t.errorMessage),1)):g("",!0),e("div",me,[(m(!0),v(R,null,L(t.matches.slice(0,3),(d,l)=>(m(),v("div",{key:l,class:h(["match-card",{live:d.isLive}])},[e("h3",null,i(d.title),1),e("div",pe,[e("span",fe,i(d.firstPlayer),1),s[0]||(s[0]=e("span",{class:"vs"},"vs",-1)),e("span",ve,i(d.secondPlayer),1)]),e("div",he,i(t.formatDate(d.scheduledAt)),1),e("div",ke," Match Referee: "+i(d.ref),1),d.matchType===2?(m(),v("div",_e,"Best of 3")):g("",!0),d.isLive?(m(),v("div",ye,"LIVE")):g("",!0)],2))),128))])])}const ge=C(ce,[["render",we],["__scopeId","data-v-fb61dc65"]]),$e=T({name:"RookieRumbleSquareStats",setup(){const t=y([]),s=y("name"),p=y("asc"),u=Q(()=>[...t.value].sort((r,d)=>{const l=p.value==="asc"?1:-1,o=s.value;return typeof r[o]=="string"?r[o].localeCompare(d[o])*l:(parseFloat(r[o])-parseFloat(d[o]))*l}));M(async()=>{try{const d=await(await fetch("/data/RookieRumbleData/rookieRumbleSquareStats.json")).json(),l=Object.entries(d),o=42;t.value=l.map(([f,w])=>{const _=w.Completed||0,k=w.Appeared||0;return{name:f,completed:_,appeared:k,completedPercentage:k>0?(_/k*100).toFixed(1):"0.0",appearedPercentage:o>0?(k/o*100).toFixed(1):"0.0"}})}catch(r){console.error("Error loading square stats:",r)}});function c(r){s.value===r?p.value=p.value==="asc"?"desc":"asc":(s.value=r,p.value="desc")}return{sortedSquares:u,changeSort:c,sortKey:s,sortDirection:p}}}),be={class:"stats-table-container"},Re={class:"square-stats-table"};function Ce(t,s,p,u,c,r){return m(),v("div",be,[e("table",Re,[e("thead",null,[e("tr",null,[e("th",{onClick:s[0]||(s[0]=d=>t.changeSort("name"))},"Square ▲▼"),e("th",{onClick:s[1]||(s[1]=d=>t.changeSort("completed"))},"Completed ▲▼"),e("th",{onClick:s[2]||(s[2]=d=>t.changeSort("appeared"))},"Appeared ▲▼"),e("th",{onClick:s[3]||(s[3]=d=>t.changeSort("completedPercentage"))},"Completed % ▲▼"),e("th",{onClick:s[4]||(s[4]=d=>t.changeSort("appearedPercentage"))},"Appeared % ▲▼")])]),e("tbody",null,[(m(!0),v(R,null,L(t.sortedSquares,(d,l)=>(m(),v("tr",{key:l},[e("td",null,i(d.name),1),e("td",null,i(d.completed),1),e("td",null,i(d.appeared),1),e("td",null,i(d.completedPercentage)+"%",1),e("td",null,i(d.appearedPercentage)+"%",1)]))),128))])])])}const Le=C($e,[["render",Ce],["__scopeId","data-v-deedb2b1"]]),Me={},Se={class:"key-container"};function Te(t,s){return m(),v("div",Se,s[0]||(s[0]=[W('<div class="key-item" data-v-e295915b><div class="box green" data-v-e295915b></div><span class="label" data-v-e295915b>Qualified for Playoffs</span></div><div class="key-item" data-v-e295915b><div class="box red" data-v-e295915b></div><span class="label" data-v-e295915b>Eliminated from Playoffs</span></div>',2)]))}const Ie=C(Me,[["render",Te],["__scopeId","data-v-e295915b"]]),Qe={class:"bracket-container"},Pe={class:"bracket-side"},De={class:"wrapper"},je={class:"item"},Ae={class:"item-childrens"},Ee={class:"item-child"},We={class:"item"},Fe={class:"item-childrens"},Be={class:"item-child"},qe={class:"item"},Ne={class:"item-child"},Ve={class:"item"},Ge={class:"item-childrens"},Ue={class:"wrapper"},He={class:"item"},Ke={class:"item-childrens"},Oe={class:"item-child"},Ze={class:"item"},ze={class:"item-childrens"},Je={class:"item-child"},Ye={class:"item"},Xe={class:"item-child"},xe={class:"item"},es={class:"item-childrens"},ss={key:0,class:"match-details"},ts={class:"game-info"},os={class:"player"},ns={class:"player"},as={class:"outcome"},ls={key:0},rs={key:1},is={key:0,class:"icon-row"},cs=["href"],ds=["src"],us={__name:"RookieRumbleBracket",setup(t){const s=y(!1),p=y(void 0),u=y({}),c=y(null);let r="Majority";async function d(){try{const k=await fetch("/data/RookieRumbleData/rookieRumblePlayoffMatches.json");if(!k.ok)throw new Error("Failed to load match data");u.value=await k.json()}catch(k){console.error("Error loading match data:",k)}}M(()=>{d()});function l(k){c.value=u.value[k]}function o(k){var a;const n=(a=u.value[k])==null?void 0:a[0];return n?`${n.player1.name} vs ${n.player2.name}`:"Match Not Played"}function f(k){p.value=k,s.value=!0}function w(k){const{player1:n,player2:a}=k;return n.name==="Lemon"&&n.outcome===r||a.name==="Lemon"&&a.outcome===r?"lemon-win":n.name==="Vakrash"&&n.outcome===r||a.name==="Vakrash"&&a.outcome===r?"vakrash-win":n.name==="Jay"&&n.outcome===r||a.name==="Jay"&&a.outcome===r?"jay-win":n.name==="Wander"&&n.outcome===r||a.name==="Wander"&&a.outcome===r?"wander-win":n.name==="Asym"&&n.outcome===r||a.name==="Asym"&&a.outcome===r?"asym-win":n.name==="Dino"&&n.outcome===r||a.name==="Dino"&&a.outcome===r?"dino-win":n.name==="Elymis"&&n.outcome===r||a.name==="Elymis"&&a.outcome===r?"elymis-win":n.name==="HooZher"&&n.outcome===r||a.name==="HooZher"&&a.outcome===r?"hoozher-win":{}}function _(k){var a;const n=(a=u.value[k])==null?void 0:a[0];return n?w(n):{}}return(k,n)=>(m(),v(R,null,[e("div",Qe,[e("div",Pe,[e("div",De,[e("div",je,[e("div",{class:"item-parent",onClick:n[0]||(n[0]=a=>l("Finals"))},[e("p",{class:h(_("Finals"))},i(o("Finals")),3)]),e("div",Ae,[e("div",Ee,[e("div",We,[e("div",{class:"item-parent",onClick:n[1]||(n[1]=a=>l("Semifinals-1"))},[e("p",{class:h(_("Semifinals-1"))},i(o("Semifinals-1")),3)]),e("div",Fe,[e("div",Be,[e("div",qe,[e("div",{class:"item-parent no-parent-connector",onClick:n[2]||(n[2]=a=>l("Quarterfinals-1"))},[e("p",{class:h(_("Quarterfinals-1"))},i(o("Quarterfinals-1")),3)])])]),e("div",{class:"item-child",onClick:n[3]||(n[3]=a=>l("Quarterfinals-2"))},[e("p",{class:h(_("Quarterfinals-2"))},i(o("Quarterfinals-2")),3)])])])]),e("div",Ne,[e("div",Ve,[e("div",{class:"item-parent",onClick:n[4]||(n[4]=a=>l("Semifinals-2"))},[e("p",{class:h(_("Semifinals-2"))},i(o("Semifinals-2")),3)]),e("div",Ge,[e("div",{class:"item-child",onClick:n[5]||(n[5]=a=>l("Quarterfinals-3"))},[e("p",{class:h(_("Quarterfinals-3"))},i(o("Quarterfinals-3")),3)]),e("div",{class:"item-child",onClick:n[6]||(n[6]=a=>l("Quarterfinals-4"))},[e("p",{class:h(_("Quarterfinals-4"))},i(o("Quarterfinals-4")),3)])])])])])])]),e("div",Ue,[e("div",He,[e("div",{class:"item-parent",onClick:n[7]||(n[7]=a=>l("LosersFinals"))},[e("p",{class:h(_("LosersFinals"))},i(o("LosersFinals")),3)]),e("div",{class:"item-parent",onClick:n[8]||(n[8]=a=>l("LosersSemifinals"))},[e("p",{class:h(_("LosersSemifinals"))},i(o("LosersSemifinals")),3)]),e("div",Ke,[e("div",Oe,[e("div",Ze,[e("div",{class:"item-parent",onClick:n[9]||(n[9]=a=>l("LosersQuarterfinals-1"))},[e("p",{class:h(_("LosersQuarterfinals-1"))},i(o("LosersQuarterfinals-1")),3)]),e("div",ze,[e("div",Je,[e("div",Ye,[e("div",{class:"item-parent no-parent-connector",onClick:n[10]||(n[10]=a=>l("LosersRound1-1"))},[e("p",{class:h(_("LosersRound1-1"))},i(o("LosersRound1-1")),3)])])])])])]),e("div",Xe,[e("div",xe,[e("div",{class:"item-parent",onClick:n[11]||(n[11]=a=>l("LosersQuarterfinals-2"))},[e("p",{class:h(_("LosersQuarterfinals-2"))},i(o("LosersQuarterfinals-2")),3)]),e("div",es,[e("div",{class:"item-child",onClick:n[12]||(n[12]=a=>l("LosersRound1-2"))},[e("p",{class:h(_("LosersRound1-2"))},i(o("LosersRound1-2")),3)])])])])])])])]),c.value?(m(),v("div",ss,[n[14]||(n[14]=e("h2",null,"Match Details",-1)),(m(!0),v(R,null,L(c.value,a=>(m(),v("div",{class:h(["game-card",w(a)]),key:a.gameid},[e("div",ts,[e("div",os,i(a.player1.name)+" - "+i(a.player1.score),1),e("div",ns,i(a.player2.name)+" - "+i(a.player2.score),1),e("div",as,[a.player1.outcome===I(r)||a.player2.outcome===I(r)?(m(),v("span",ls," Winner: "+i(a.player1.outcome===I(r)?a.player1.name:a.player2.name),1)):(m(),v("span",rs," Winner: TBD "))]),a.imageLink||a.vodLink?(m(),v("div",is,[a.imageLink?(m(),S(j,{key:0,onClick:_s=>f(a.imageLink),class:"marika-eye"},null,8,["onClick"])):g("",!0),a.vodLink?(m(),v("a",{key:1,href:a.vodLink,target:"_blank",class:"no-hover"},[$(P)],8,cs)):g("",!0)])):g("",!0)])],2))),128))])):g("",!0)]),(m(),S(E,{to:"body"},[$(D,{show:s.value,onClose:n[13]||(n[13]=a=>s.value=!1)},{default:A(()=>[e("img",{src:p.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,ds)]),_:1},8,["show"])]))],64))}},ms=C(us,[["__scopeId","data-v-0ad8a8de"]]),ps="/rookie-rumble-public/the-erdtree-elden-ring-thumb.jpg",fs="/rookie-rumble-public/Rookie_Rumble_2_Logo.png",vs=T({name:"RookieRumble",components:{RookieRumbleTable:O,Navigation:F,RookieRumbleResultsTable:ie,RookieRumbleUpcomingMatches:ge,RookieRumbleSquareStats:Le,playoffKey:Ie,PlayoffBracket:ms},mounted(){document.body.style.backgroundColor="#10002b"},beforeUnmount(){document.body.style.backgroundColor="#0d1321"}}),hs={class:"main-container"};function ks(t,s,p,u,c,r){const d=b("Navigation"),l=b("PlayoffBracket"),o=b("RookieRumbleTable"),f=b("playoffKey"),w=b("RookieRumbleResultsTable");return m(),v("div",null,[$(d),e("div",hs,[s[0]||(s[0]=e("div",{class:"top-image-container"},[e("img",{src:ps,class:"background-img"}),e("img",{src:fs,class:"logo"})],-1)),s[1]||(s[1]=e("h1",{class:"Title-Gold"},"Rookie Rumble Playoffs",-1)),$(l),s[2]||(s[2]=e("h1",{class:"Title"},"Rookie Rumble Standings",-1)),$(o),$(f),s[3]||(s[3]=e("h1",{class:"Title"},"Rookie Rumble Match Results",-1)),$(w)])])}const ws=C(vs,[["render",ks],["__scopeId","data-v-dcee97eb"]]);export{ws as default};
