function I(c,u,f){const l={};return c.forEach(i=>{const w=i.wins+i.losses,h=u-w,y=i.wins,e=i.wins+h;if(c.filter(o=>{if(o.playerId===i.playerId)return!1;const s=u-(o.wins+o.losses);return o.wins+s>y}).length<f){l[i.playerId]="yes";return}if(c.filter(o=>o.playerId===i.playerId?!1:o.wins>e).length>=f){l[i.playerId]="no";return}l[i.playerId]="maybe"}),l}function v(c,u,f=[],l=[],i=[]){const{matches:w,individualMaxGamesPlayed:h,playoffSlots:y}=c,e={};function t(s){if(e[s])return;const n=u[s];n&&(e[s]={id:s,displayName:n.displayName,wins:0,losses:0,squares:0,lines:0,h2h:{}})}w.forEach(s=>{const[n,a]=s.participants,r=s.winner,q=n.id===r?a.id:n.id;t(n.id),t(a.id),!(!e[r]||!e[q])&&(e[r].wins++,e[q].losses++,e[n.id].squares+=n.score,e[a.id].squares+=a.score,s.method==="Bingo"&&e[r].lines++,e[r].h2h[q]=!0)}),f.forEach(s=>{t(s.winner),t(s.loser),!(!e[s.winner]||!e[s.loser])&&(e[s.winner].wins++,e[s.loser].losses++,e[s.winner].squares+=s.squaresAwarded,s.countsAsLine&&e[s.winner].lines++,e[s.winner].h2h[s.loser]=!0)}),l.forEach(s=>{t(s.receiver),e[s.receiver]&&(e[s.receiver].lines+=s.linesAwarded)}),i.forEach(s=>{t(s.receiver),e[s.receiver]&&(e[s.receiver].losses+=s.gamesLost,e[s.receiver].squares-=s.squaresLost,e[s.receiver].lines-=s.linesLost)});const d=Object.values(e).map(s=>{const n=s.wins+s.losses,a=n>0?(s.wins/n*100).toFixed(1):"0.0",r=u[s.id];return{playerId:s.id,displayName:s.displayName,wins:s.wins,losses:s.losses,record:`${s.wins}-${s.losses}`,gamesPlayed:n,WR:a,squares:s.squares,lines:s.lines,h2h:s.h2h,Playoffs:"maybe",nickname:r==null?void 0:r.nickname,twitch:r==null?void 0:r.twitch,profilePic:r==null?void 0:r.profilePic}});d.sort((s,n)=>n.wins!==s.wins?n.wins-s.wins:s.losses!==n.losses?s.losses-n.losses:s.h2h[n.playerId]?-1:n.h2h[s.playerId]?1:n.lines!==s.lines?n.lines-s.lines:n.squares!==s.squares?n.squares-s.squares:0);const o=I(d,h,y);return d.forEach(s=>{s.Playoffs=o[s.playerId]}),d}export{v as b};
