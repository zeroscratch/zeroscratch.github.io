import{r as v,e as z,c as i,o as r,a as e,g as G,z as re,A as ce,t as o,v as ne,F as U,b as W,n as D,_ as se,f as le,B as de,i as F,x as j,w as ve,m as fe,C as te,E as ae,d as he,j as oe,N as be}from"./index-BSRuQYyv.js";const ge={class:"gamble-section"},_e={class:"gamble-controls"},ke=["disabled"],ye=["disabled"],we=["disabled"],$e={key:0,class:"cooldown"},Ce={class:"wheel-container"},Me={class:"overlay",viewBox:"0 0 200 200"},Te={transform:"translate(100,100)"},Se=["transform"],Re={key:1,class:"result"},ue=180,Ee={__name:"GamblingWheel",props:{runes:{type:Number,required:!0},lifetimeRunes:{type:Number,required:!0}},emits:["update:runes","update:lifetimeRunes"],setup(H,{emit:d}){const h=H,k=d,y=v(0),m=v(!1),c=v(null),w=v(0),E=v(0);let I=null;const T=[{label:"💀 DEATH",multiplier:0},{label:"1.5×",multiplier:1.5},{label:"0.5×",multiplier:.5,loseHalf:!0},{label:"2×",multiplier:2},{label:"3×",multiplier:3},{label:"💀 Half",multiplier:.5,loseHalf:!0},{label:"💰 20×",multiplier:20,jackpot:!0},{label:"0.1×",multiplier:.1},{label:"5×",multiplier:5},{label:"🔥 50×",multiplier:50,jackpot:!0}],B=z(()=>{const p=T.length,g=360/p;return`conic-gradient(from -90deg, ${Array.from({length:p},(a,u)=>{const s=(u*g).toFixed(2),M=((u+1)*g).toFixed(2);return`${u%2===0?"rgba(214,182,118,0.18)":"rgba(214,182,118,0.06)"} ${s}deg ${M}deg`}).join(",")})`}),S=v(!1);function b(){S.value=!S.value,S.value&&(c.value="⚠️ ALL IN MODE: You wager every rune you own!")}const _=p=>(p%360+360)%360;function L(){if(m.value||E.value>0)return;const p=S.value?h.runes:y.value;if(p<=0)return;if(h.runes<p){c.value="You lack the runes, Tarnished.";return}const g=h.runes;k("update:runes",g-p),m.value=!0;const $=T.length,a=360/$,s=(Math.floor(Math.random()*$)+.5)*a,M=(Math.random()-.5)*(a*.6),A=_(s+M),O=_(ue-A),V=w.value+360*8+O;w.value=V,setTimeout(()=>{const N=_(ue-_(w.value)),Y=Math.floor(N/a)%$,f=T[Y];let P=g-p;if(f.multiplier===0)P=0,c.value=`💀 You lost everything (${g} runes).`;else if(f.loseHalf)P=Math.floor(P/2),c.value=`💀 You lost half of everything (${P} runes).`;else if(f.multiplier<1){const x=Math.floor(p*f.multiplier);P+=x;const R=p-x;c.value=`You lost ${R} runes (${f.label}).`}else{const x=Math.floor(p*f.multiplier);P+=x,k("update:lifetimeRunes",h.lifetimeRunes+x),c.value=f.jackpot?`🔥 JACKPOT! You won ${x} runes (${f.label})!`:`You won ${x} runes (${f.label}).`}k("update:runes",Math.max(0,P)),m.value=!1,w.value=_(w.value),I&&clearInterval(I),E.value=3,I=setInterval(()=>{E.value>0?E.value--:clearInterval(I)},1e3),S.value&&(S.value=!1)},8e3)}return(p,g)=>(r(),i("div",ge,[g[3]||(g[3]=e("h2",null,"🎲 Rune Gamble Wheel",-1)),e("div",_e,[re(e("input",{type:"number","onUpdate:modelValue":g[0]||(g[0]=$=>y.value=$),placeholder:"Enter runes to gamble",min:"0",disabled:S.value},null,8,ke),[[ce,y.value,void 0,{number:!0}]]),e("button",{disabled:m.value,onClick:L},"Spin the Wheel",8,ye),e("button",{class:"allin",disabled:m.value,onClick:b},o(S.value?"🧠 Cancel ALL IN":"🔥 ALL IN MODE"),9,we)]),E.value>0?(r(),i("p",$e," ⏳ Wheel recharging: "+o(E.value)+"s ",1)):G("",!0),e("div",Ce,[e("div",{class:"wheel",style:ne({transform:`rotate(${w.value}deg)`,background:B.value})},[(r(),i("svg",Me,[e("g",Te,[(r(!0),i(U,null,W(T.length,$=>(r(),i("g",{key:"sep-"+$,transform:`rotate(${$%T.length*(360/T.length)})`},g[1]||(g[1]=[e("line",{x1:"0",y1:"0",x2:"98",y2:"0",stroke:"rgba(255,255,255,0.08)","stroke-width":"0.8"},null,-1)]),8,Se))),128))])])),(r(),i(U,null,W(T,($,a)=>e("div",{key:a,class:D(["label",{lose:$.multiplier<1||$.loseHalf,jackpot:$.jackpot}]),style:ne({"--a":`${360/T.length*(a+.5)}deg`})},[e("span",null,o($.label),1)],6)),64))],4),g[2]||(g[2]=e("div",{class:"indicator"},null,-1))]),c.value?(r(),i("p",Re,o(c.value),1)):G("",!0)]))}},Ie={class:"betting-layout"},Ae={class:"match-section"},Be={class:"title"},Pe={class:"teams"},xe=["disabled","onClick"],De=["disabled","onClick"],Ge={class:"info"},Ne={key:0,class:"winner"},Oe={key:1,class:"bet-notice"},Le={class:"panel-section"},Ye={key:0,class:"bet-panel"},je={key:1,class:"user-bets"},Fe={key:0},Ue={key:1},We={key:2},ie="elden-bets-v1",He={__name:"GoldenOrderBetting",props:{remembrance:Number,updateRemembrance:Function},setup(H){const d=H,h=v([]),k=v([]),y=v(0),m=v(""),c=v(null),w=v(new Date),E=v(""),I=v("");le(async()=>{await T(),S(),setInterval(()=>w.value=new Date,1e3)});async function T(){const a=await fetch("/data/ESS3/GO/goldenOrderMatchBets.json");h.value=await a.json()}function B(){localStorage.setItem(ie,JSON.stringify(k.value))}function S(){const a=localStorage.getItem(ie);a&&(k.value=JSON.parse(a))}function b(a){return new Date(a.scheduledAt)>w.value&&!a.winner}function _(a){return k.value.some(u=>u.matchTitle===a)}function L(a){const s=new Date(a.scheduledAt)-w.value;if(s<=0)return"⛔ Betting Closed";const M=Math.floor(s/36e5),A=Math.floor(s%36e5/6e4),O=Math.floor(s%6e4/1e3),V=M>0?`${M}h `:"",N=A>0?`${A}m `:"",Y=O.toString().padStart(2,"0")+"s";return`⏳ Closes in ${V}${N}${Y}`}function p(a,u="success"){E.value=a,I.value=u,setTimeout(()=>E.value="",3e3)}function g(){if(!c.value||!m.value)return p("Select a match and team first.","error");if(y.value<=0)return p("Enter a valid bet amount.","error");if(d.remembrance<y.value)return p("Not enough Remembrance.","error");if(_(c.value.title))return p("You already placed a bet on this match.","error");d.updateRemembrance(-y.value),k.value.push({matchTitle:c.value.title,team:m.value,amount:y.value,resolved:!1,won:!1}),B(),p(`Bet placed on ${m.value} for ${y.value} Remembrance!`),y.value=0,c.value=null,m.value=""}async function $(){(await(await fetch("/data/ESS3/GO/goldenOrderMatchBets.json")).json()).forEach(s=>{const M=k.value.find(A=>A.matchTitle===s.title&&!A.resolved);M&&s.winner&&(M.resolved=!0,M.team===s.winner?(M.won=!0,d.updateRemembrance(M.amount*2),p(`You won your bet on ${s.title}! 🏆`)):(M.won=!1,p(`You lost your bet on ${s.title}... 💀`,"error")))}),B()}return de(k,B,{deep:!0}),(a,u)=>(r(),i("div",Ie,[e("div",Ae,[u[2]||(u[2]=e("h2",null,"⚔️ Golden Order Bets",-1)),(r(!0),i(U,null,W(h.value,s=>{var M,A;return r(),i("div",{key:s.title,class:"match-card"},[e("div",Be,o(s.title),1),e("div",Pe,[e("button",{disabled:!b(s)||_(s.title),class:D({selected:m.value===s.firstPlayer&&((M=c.value)==null?void 0:M.title)===s.title}),onClick:O=>{c.value=s,m.value=s.firstPlayer}},o(s.firstPlayer),11,xe),u[1]||(u[1]=e("span",null,"vs",-1)),e("button",{disabled:!b(s)||_(s.title),class:D({selected:m.value===s.secondPlayer&&((A=c.value)==null?void 0:A.title)===s.title}),onClick:O=>{c.value=s,m.value=s.secondPlayer}},o(s.secondPlayer),11,De)]),e("div",Ge,o(s.ref)+" · 🕒 "+o(new Date(s.scheduledAt).toLocaleString()),1),e("div",{class:D(["countdown",{closed:!b(s)}])},o(L(s)),3),s.winner?(r(),i("div",Ne,"🏆 Winner: "+o(s.winner),1)):G("",!0),_(s.title)?(r(),i("div",Oe,"🪙 You’ve bet on this match")):G("",!0)])}),128))]),e("div",Le,[u[8]||(u[8]=e("h3",null,"Place Your Bet",-1)),c.value?(r(),i("div",Ye,[e("p",null,[u[3]||(u[3]=j(" Match: ")),e("strong",null,o(c.value.title),1),u[4]||(u[4]=e("br",null,null,-1)),u[5]||(u[5]=j(" Team: ")),e("strong",null,o(m.value),1)]),re(e("input",{"onUpdate:modelValue":u[0]||(u[0]=s=>y.value=s),type:"number",min:"1",placeholder:"Amount of Remembrance"},null,512),[[ce,y.value,void 0,{number:!0}]]),e("button",{onClick:g},"💰 Place Bet")])):G("",!0),F(fe,{name:"fade"},{default:ve(()=>[E.value?(r(),i("div",{key:0,class:D(["message",I.value])},o(E.value),3)):G("",!0)]),_:1}),k.value.length?(r(),i("div",je,[u[7]||(u[7]=e("h3",null,"Your Bets",-1)),e("table",null,[u[6]||(u[6]=e("thead",null,[e("tr",null,[e("th",null,"Match"),e("th",null,"Team"),e("th",null,"Amount"),e("th",null,"Status")])],-1)),e("tbody",null,[(r(!0),i(U,null,W(k.value,s=>(r(),i("tr",{key:s.matchTitle},[e("td",null,o(s.matchTitle),1),e("td",null,o(s.team),1),e("td",null,o(s.amount),1),e("td",null,[s.resolved?s.won?(r(),i("span",Ue,"🏆 Won")):(r(),i("span",We,"💀 Lost")):(r(),i("span",Fe,"⏳ Pending"))])]))),128))])]),e("button",{class:"check-btn",onClick:$},"🔁 Check Results")])):G("",!0)])]))}},Ve=se(He,[["__scopeId","data-v-28c973b2"]]),Je={class:"elden-idle"},qe={class:"header"},Ke={class:"stats"},ze={class:"content"},Qe={class:"click-area"},Xe={class:"mini"},Ze=["disabled"],et={class:"achievements"},tt={class:"shop"},lt={class:"section"},st={class:"grid"},nt={class:"row between"},at={class:"desc"},ot={class:"row"},ut=["disabled","onClick"],it={class:"section"},rt={class:"grid"},ct={class:"row between"},dt={key:0,class:"tag"},vt={class:"desc"},ft=["disabled","onClick"],mt={key:1,class:"owned-line"},pt={key:0,class:"toast"},ht={name:"EldenIdle"},bt=Object.assign(ht,{setup(H){const d=v(0),h=v(0),k=v(0),y=v(1),m=v(1),c=v(.1),w=v(5),E=v(Date.now()),I=te([{key:"finger",name:"Finger Reader",count:0,baseCost:15,rps:.1,desc:"Whispers sweet prophecies into your wallet."},{key:"jelly",name:"Spirit Jellyfish",count:0,baseCost:100,rps:1,desc:"Gently bonks enemies for passive income."},{key:"scarab",name:"Teardrop Scarab",count:0,baseCost:500,rps:5,desc:"Rolls runes to you. Do not kick."},{key:"sorc",name:"Raya Lucaria Scholar",count:0,baseCost:3e3,rps:20,desc:"Casts Glintblade… at your finances."},{key:"malenia",name:"Malenia (Not Nerfed)",count:0,baseCost:25e3,rps:120,desc:"I am Malenia, Blade of Runes-per-second."}]),T=te([{key:"club",name:"Club From a Shack",cost:50,purchased:!1,effect:()=>y.value+=1,desc:"+1 runes per click. Smells like goat."},{key:"smith",name:"Somber Smithing Stone [1]",cost:250,purchased:!1,effect:()=>m.value*=2,desc:"Doubles click power. Cha-ching."},{key:"med",name:"Flask of Wondrous Physick",cost:2e3,purchased:!1,effect:()=>{m.value*=2,c.value+=.05},desc:"Double click power again & +5% riposte chance."},{key:"seal",name:"Two Fingers Blessing",cost:12e3,purchased:!1,effect:()=>{m.value*=2,w.value+=2},desc:"Double click power & juicier crits."}]),B=v(1),S=v(1),b=te({firstClick:!1,1e3:!1,1e4:!1,1e5:!1,critGod:!1}),_=v(0),L=z(()=>1+_.value*.15),p=z(()=>Math.floor(y.value*m.value*S.value*L.value)),g=z(()=>I.reduce((l,t)=>l+t.count*t.rps,0)*B.value*S.value*L.value),$=(n,l)=>Math.floor(n*Math.pow(1.15,l));function a(n){if(n<1e3)return n.toString();const l=["K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","De"];let t=-1,C=n;for(;C>=1e3&&t<l.length-1;)C/=1e3,t++;return C.toFixed(2)+l[t]}function u(){let n=p.value;Math.random()<c.value&&(n*=w.value,f.value=`RIPOSTE! +${a(n)} runes!`,R(),b.critGod=!0),d.value+=n,h.value+=n,k.value++,b.firstClick||(b.firstClick=!0,f.value="You touched grass… I mean grace.",R()),V()}function s(n){const l=$(n.baseCost,n.count);d.value>=l?(d.value-=l,n.count++):(f.value='"Thy runes are insufficient." — Mad Tongue Alberich',R())}function M(n){n.purchased||(d.value>=n.cost?(d.value-=n.cost,n.purchased=!0,n.effect(),f.value=`${n.name} acquired!`,R()):(f.value="You lack the runes, tarnished.",R()))}function A(){return h.value>=1e5}function O(){if(!A()){f.value="Become Elden Lord first (100k+ lifetime runes).",R();return}const n=Math.floor(Math.sqrt(h.value/1e5));_.value+=n,d.value=0,h.value=0,k.value=0,y.value=1,m.value=1,c.value=.1,w.value=5,I.forEach(l=>l.count=0),T.forEach(l=>l.purchased=!1),B.value=1,S.value=1,f.value=`Reborn anew. Remembrance +${n} (Total ${_.value}).`,R()}function V(){!b[1e3]&&h.value>=1e3&&(b[1e3]=!0,f.value="Margit has been financially ruined (1,000).",R()),!b[1e4]&&h.value>=1e4&&(b[1e4]=!0,f.value="Godrick sold a spare arm (10,000).",R()),!b[1e5]&&h.value>=1e5&&(b[1e5]=!0,f.value="You are… a little rich (100,000).",R())}let N;function Y(){const n=Date.now(),l=(n-E.value)/1e3;E.value=n;const t=g.value*l;t>0&&(d.value+=t,h.value+=t)}le(()=>{const n=me();if(n){const l=(Date.now()-n.lastUpdate)/1e3,t=n.rpsAtSave*Math.min(l,3600);d.value+=t,h.value+=t,f.value=`While you were gone, Torrent found ${a(Math.floor(t))} runes.`,R()}N=setInterval(Y,100)}),ae(()=>{clearInterval(N),X()});const f=v(""),P=v(!1);let x;function R(){P.value=!0,clearTimeout(x),x=setTimeout(()=>P.value=!1,1800)}const Q="elden-idle-v1";function X(){const n={runes:d.value,lifetimeRunes:h.value,clicks:k.value,clickPower:y.value,clickMultiplier:m.value,critChance:c.value,critMultiplier:w.value,autos:I.map(l=>({key:l.key,count:l.count})),upgrades:T.map(l=>({key:l.key,purchased:l.purchased})),autoMultiplier:B.value,globalMultiplier:S.value,remembrance:_.value,lastUpdate:Date.now(),rpsAtSave:g.value};localStorage.setItem(Q,JSON.stringify(n))}function me(){var n,l;try{const t=localStorage.getItem(Q);if(!t)return null;const C=JSON.parse(t);return d.value=C.runes||0,h.value=C.lifetimeRunes||0,k.value=C.clicks||0,y.value=C.clickPower||1,m.value=C.clickMultiplier||1,c.value=C.critChance??.1,w.value=C.critMultiplier||5,B.value=C.autoMultiplier||1,S.value=C.globalMultiplier||1,_.value=C.remembrance||0,(n=C.autos)==null||n.forEach(J=>{const q=I.find(ee=>ee.key===J.key);q&&(q.count=J.count)}),(l=C.upgrades)==null||l.forEach(J=>{const q=T.find(ee=>ee.key===J.key);q&&(q.purchased=J.purchased)}),E.value=C.lastUpdate||Date.now(),C}catch(t){return console.warn("Load failed",t),null}}de([d,I,T,_],()=>X(),{deep:!0});let K;function Z(){clearTimeout(K);const n=6e4+Math.random()*6e4;K=setTimeout(()=>{const l=[()=>{const t=Math.floor((g.value+p.value)*10);d.value+=t,h.value+=t,f.value=`Patches felt generous (+${a(t)})`,R()},()=>{const t=Math.floor(d.value*.1);d.value=Math.max(0,d.value-t),f.value=`Grafted Scion tax (-${a(t)})`,R()},()=>{B.value*=1.1,f.value="Golden Fowl Foot: +10% passive income (temp-ish).",R()}];l[Math.floor(Math.random()*l.length)](),Z()},n)}le(()=>{Z()}),ae(()=>{clearTimeout(K)});function pe({preserveRemembrance:n=!1}={}){if(window.confirm(`⚠️ This will ERASE ALL PROGRESS, RUNES, UPGRADES, and ACHIEVEMENTS.

`+(n?`Remembrance will be preserved.

`:"")+"Are you absolutely sure?")){try{clearInterval(N)}catch{}try{clearTimeout(K)}catch{}try{clearTimeout(x)}catch{}try{cooldownTimer&&clearInterval(cooldownTimer)}catch{}localStorage.removeItem(Q),d.value=0,h.value=0,k.value=0,y.value=1,m.value=1,c.value=.1,w.value=5,B.value=1,S.value=1,n||(_.value=0),I.forEach(t=>{t.count=0}),T.forEach(t=>{t.purchased=!1}),Object.keys(b).forEach(t=>{b[t]=!1}),E.value=Date.now(),N=setInterval(Y,100),Z(),f.value="🧹 Save wiped. The slate is clean, Tarnished.",R(),X()}}return(n,l)=>(r(),i("div",Je,[e("div",qe,[l[6]||(l[6]=e("h1",null,"💀 Elden Idle: Touch Grace, Get Paid",-1)),e("div",Ke,[e("div",null,[l[2]||(l[2]=e("strong",null,"Runes:",-1)),j(" "+o(a(Math.floor(d.value))),1)]),e("div",null,[l[3]||(l[3]=e("strong",null,"RPS:",-1)),j(" "+o(a(g.value.toFixed(1))),1)]),e("div",null,[l[4]||(l[4]=e("strong",null,"Per Click:",-1)),j(" "+o(a(p.value)),1)]),e("div",null,[l[5]||(l[5]=e("strong",null,"Remembrance:",-1)),j(" "+o(a(_.value)),1)])])]),e("div",ze,[e("div",Qe,[e("button",{class:"grace-button",onClick:u},l[7]||(l[7]=[e("span",{class:"big"},"TOUCH GRACE",-1),e("span",{class:"small"},"(may trigger riposte)",-1)])),e("div",Xe,[e("div",null,"Total Clicks: "+o(k.value),1),e("div",null,"Crit Chance: "+o(Math.round(c.value*100))+"% · Crit ×"+o(w.value),1),e("button",{class:"prestige",disabled:!A(),onClick:O},"Rebirth at Roundtable Hold",8,Ze),e("button",{class:"reset",onClick:pe},"Wipe Save")]),e("div",et,[l[8]||(l[8]=e("h3",null,"🧩 Achievements",-1)),e("ul",null,[e("li",{class:D({done:b.firstClick})},"First Grace Touched",2),e("li",{class:D({done:b[1e3]})},"1,000 Lifetime",2),e("li",{class:D({done:b[1e4]})},"10,000 Lifetime",2),e("li",{class:D({done:b[1e5]})},"100,000 Lifetime",2),e("li",{class:D({done:b.critGod})},"Riposte Royale",2)])])]),F(Ee,{runes:d.value,"onUpdate:runes":l[0]||(l[0]=t=>d.value=t),lifetimeRunes:h.value,"onUpdate:lifetimeRunes":l[1]||(l[1]=t=>h.value=t)},null,8,["runes","lifetimeRunes"]),e("div",tt,[e("div",lt,[l[9]||(l[9]=e("h2",null,"🛒 Spirit Ashes (Passive)",-1)),e("div",st,[(r(!0),i(U,null,W(I,t=>(r(),i("div",{key:t.key,class:"card"},[e("div",nt,[e("strong",null,o(t.name),1),e("span",null,"x"+o(t.count),1)]),e("div",at,o(t.desc),1),e("div",ot,[e("span",null,"+"+o(t.rps)+" RPS each",1)]),e("button",{disabled:d.value<$(t.baseCost,t.count),onClick:C=>s(t)}," Buy for "+o(a($(t.baseCost,t.count))),9,ut)]))),128))])]),e("div",it,[l[10]||(l[10]=e("h2",null,"🔨 Upgrades (Click)",-1)),e("div",rt,[(r(!0),i(U,null,W(T,t=>(r(),i("div",{key:t.key,class:D(["card",{purchased:t.purchased}])},[e("div",ct,[e("strong",null,o(t.name),1),t.purchased?(r(),i("span",dt,"Owned")):G("",!0)]),e("div",vt,o(t.desc),1),t.purchased?(r(),i("div",mt,"Already applied.")):(r(),i("button",{key:0,disabled:d.value<t.cost,onClick:C=>M(t)},"Buy for "+o(a(t.cost)),9,ft))],2))),128))])])])]),F(Ve,{remembrance:_.value,updateRemembrance:t=>_.value+=t},null,8,["remembrance","updateRemembrance"]),F(fe,{name:"toast-fade"},{default:ve(()=>[P.value?(r(),i("div",pt,o(f.value),1)):G("",!0)]),_:1})]))}}),gt=se(bt,[["__scopeId","data-v-22f542b5"]]),_t=he({name:"Idle",components:{Navigation:be,GraceClicker:gt},mounted(){document.body.style.background="linear-gradient(135deg,rgba(0, 1, 3, 1) 0%, rgba(0, 0, 0, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),kt={class:"main-container"};function yt(H,d,h,k,y,m){const c=oe("Navigation"),w=oe("GraceClicker");return r(),i("div",null,[F(c),e("div",kt,[F(w)])])}const $t=se(_t,[["render",yt],["__scopeId","data-v-d5c09a29"]]);export{$t as default};
