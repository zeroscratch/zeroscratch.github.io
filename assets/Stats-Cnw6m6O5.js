import{d as N,r as p,e as k,f as E,o,c as i,a,t as n,F as f,b as C,n as u,g as b,h as S,i as h,w as F,M as H,T as Y,Y as I,I as K,_ as D,j as W}from"./index-C4K8XKWY.js";const J={class:"container mx-auto p-6"},Q={class:"player-select"},U={class:"player-buttons"},X=["onClick"],Z={class:"profile-table-container"},ee=["src"],ae={class:"player-details"},se={class:"player-details"},te=["innerHTML"],le={key:1,class:"table-container small-table"},ne={class:"results-table"},oe={rowspan:2},re={rowspan:2},ce={rowspan:2},ie={rowspan:2},ue=["href"],de={key:1},pe={rowspan:2},ve=["src"],ye="(I want some feed back on this stuff but for now): ",_e=N({__name:"playerProfiles",setup(B){const l=p(""),_=p([]),r=p({}),v=p([]),g=p([]),m=p(!1),P=p(void 0),L=async()=>{const e=(await(await fetch("/data/goldenOrderPlayerProfile.csv")).text()).trim().split(`
`).map(d=>d.split(",")),c=e[0];v.value=e.slice(1).map(d=>c.reduce((M,O,z)=>(M[O]=d[z]||"",M),{})),_.value=v.value.map(d=>d.Name)},T=s=>{const t=v.value.find(e=>e.Name===s);return t?t["MPS AVG"]:null},$=(s,t)=>{const e=v.value.find(d=>d.Name===s);if(!e)return"N/A";const c=`MPS G${t+1}`;return e[c]||"N/A"},A=s=>{const t=v.value.find(e=>e.Name===s);return t?t["Total Squares"]:null},R=async()=>{const s=await fetch("/data/goldenOrderPlayerData.json");r.value=await s.json()},V=async()=>{const t=await(await fetch("/data/normalizedResults.json")).json();g.value=t.goldenOrder.flatMap(e=>e.matches)},w=k(()=>g.value.filter(s=>s.player1.name===l.value||s.player2.name===l.value)),j=s=>{P.value=s,m.value=!0},y=s=>s==="Bingo"||s==="Majority"?"highlight-green":s==="Lost"?"highlight-red":"",x=k(()=>{const s=r.value[l.value];if(!l.value||!s||!s["division-seed"])return"bg-gray-800";const t=s["division-seed"];return t.includes("Redmane")?"highlight-redmane":t.includes("Recusant")?"highlight-recusant":"bg-gray-800"}),q=s=>{var e;const t=((e=r.value[s])==null?void 0:e["division-seed"])||"";return t.includes("Redmane")?"redmane":t.includes("Recusant")?"recusant":""},G=k(()=>{var t;return(((t=r.value[l.value])==null?void 0:t.accolades)||"").split("|").map(e=>e.trim()).join("<br>")});return E(async()=>{await L(),await R(),await V(),_.value.length>0&&(l.value=_.value[0])}),(s,t)=>(o(),i(f,null,[a("div",J,[a("div",Q,[a("label",{class:"player-select-label"},n(ye)+" Select Player:"),a("div",U,[(o(!0),i(f,null,C(_.value,e=>(o(),i("button",{key:e,onClick:c=>l.value=e,class:u(["player-button",l.value===e?"selected":"",q(e)])},n(e),11,X))),128))])])]),a("div",Z,[l.value&&r.value[l.value]?(o(),i("div",{key:0,class:u(["player-info",x.value])},[a("img",{src:r.value[l.value]["player-pic"],alt:"Player Image",class:"player-img"},null,8,ee),a("div",ae,[a("h2",null,n(l.value),1),a("div",se,[a("p",null,"Division: "+n(r.value[l.value]["division-seed"]),1),a("p",null,"Record: "+n(r.value[l.value].record),1),a("p",null,"Bingo Lines: "+n(r.value[l.value].lines),1),a("p",null,"Total Squares: "+n(A(l.value)),1),a("p",null,"Square Pace AVG: "+n(T(l.value)||"N/A")+" MPS",1),a("p",{innerHTML:G.value,class:"accolades-style"},null,8,te)])])],2)):b("",!0),w.value.length?(o(),i("div",le,[a("table",ne,[t[1]||(t[1]=a("thead",null,[a("tr",null,[a("th",null,"Game"),a("th",null,"Player"),a("th",null,"Score"),a("th",null,"Win Condition"),a("th",null,"Match Time"),a("th",null,"Square Pace"),a("th",null,"VOD"),a("th",null,"Board")])],-1)),a("tbody",null,[(o(!0),i(f,null,C(w.value,(e,c)=>(o(),i(f,{key:c},[a("tr",{class:u({"new-game-row":c===0||w.value[c-1].gameId!==e.gameId})},[a("td",oe,n(c+1),1),a("td",{class:u(y(e.player1.outcome))},n(e.player1.name),3),a("td",{class:u(y(e.player1.outcome))},n(e.player1.score),3),a("td",{class:u(y(e.player1.outcome))},n(e.player1.outcome),3),a("td",re,n(e.matchTime),1),a("td",ce,n($(l.value,c)||"N/A"),1),a("td",ie,[e.vodLink?(o(),i("a",{key:0,href:e.vodLink,target:"_blank",class:"no-hover"},[h(I)],8,ue)):(o(),i("span",de,[h(I)]))]),a("td",pe,[e.imageLink?(o(),S(K,{key:0,onClick:d=>j(e.imageLink),class:"marika-eye"},null,8,["onClick"])):b("",!0)])],2),a("tr",null,[a("td",{class:u(y(e.player2.outcome))},n(e.player2.name),3),a("td",{class:u(y(e.player2.outcome))},n(e.player2.score),3),a("td",{class:u(y(e.player2.outcome))},n(e.player2.outcome),3)])],64))),128))])])])):b("",!0),(o(),S(Y,{to:"body"},[h(H,{show:m.value,onClose:t[0]||(t[0]=e=>m.value=!1)},{default:F(()=>[a("img",{src:P.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,ve)]),_:1},8,["show"])]))])],64))}}),me=D(_e,[["__scopeId","data-v-e4f99213"]]),fe=N({name:"Stats",components:{PlayerProfiles:me}});function he(B,l,_,r,v,g){const m=W("PlayerProfiles");return o(),i("div",null,[h(m)])}const we=D(fe,[["render",he],["__scopeId","data-v-bb57ca64"]]);export{we as default};
