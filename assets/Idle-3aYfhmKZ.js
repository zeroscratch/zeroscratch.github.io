import{_ as z,r as d,B as D,e as U,f as j,C as J,y as ce,o as v,c as f,a as s,v as $,t as n,n as C,F as q,b as H,g as K,i as A,w as ue,G as re,d as de,N as ve,l as Q}from"./index-YJbS9T03.js";const fe={class:"elden-idle"},pe={class:"header"},me={class:"stats"},he={class:"content"},ke={class:"click-area"},_e={class:"mini"},ge=["disabled"],be={class:"achievements"},ye={class:"shop"},Ce={class:"section"},Me={class:"grid"},we={class:"row between"},Se={class:"desc"},Te={class:"row"},Re=["disabled","onClick"],Ge={class:"section"},$e={class:"grid"},Ie={class:"row between"},Pe={key:0,class:"tag"},xe={class:"desc"},Ne=["disabled","onClick"],Be={key:1,class:"owned-line"},Ee={key:0,class:"toast"},Fe={name:"EldenIdle"},De=Object.assign(Fe,{setup(X){const o=d(0),r=d(0),g=d(0),b=d(1),p=d(1),m=d(.1),h=d(5),I=d(Date.now()),y=D([{key:"finger",name:"Finger Reader",count:0,baseCost:15,rps:.1,desc:"Whispers sweet prophecies into your wallet."},{key:"jelly",name:"Spirit Jellyfish",count:0,baseCost:100,rps:1,desc:"Gently bonks enemies for passive income."},{key:"scarab",name:"Teardrop Scarab",count:0,baseCost:500,rps:5,desc:"Rolls runes to you. Do not kick."},{key:"sorc",name:"Raya Lucaria Scholar",count:0,baseCost:3e3,rps:20,desc:"Casts Glintbladeâ€¦ at your finances."},{key:"malenia",name:"Malenia (Not Nerfed)",count:0,baseCost:25e3,rps:120,desc:"I am Malenia, Blade of Runes-per-second."}]),M=D([{key:"club",name:"Club From a Shack",cost:50,purchased:!1,effect:()=>b.value+=1,desc:"+1 runes per click. Smells like goat."},{key:"smith",name:"Somber Smithing Stone [1]",cost:250,purchased:!1,effect:()=>p.value*=2,desc:"Doubles click power. Cha-ching."},{key:"med",name:"Flask of Wondrous Physick",cost:2e3,purchased:!1,effect:()=>{p.value*=2,m.value+=.05},desc:"Double click power again & +5% riposte chance."},{key:"seal",name:"Two Fingers Blessing",cost:12e3,purchased:!1,effect:()=>{p.value*=2,h.value+=2},desc:"Double click power & juicier crits."}]),w=d(1),S=d(1),c=D({firstClick:!1,1e3:!1,1e4:!1,1e5:!1,critGod:!1}),k=d(0),Z=U(()=>1+k.value*.15),P=U(()=>Math.floor(b.value*p.value*S.value)),G=U(()=>y.reduce((e,t)=>e+t.count*t.rps,0)*w.value*S.value*Z.value),x=(a,e)=>Math.floor(a*Math.pow(1.15,e));function _(a){if(a<1e3)return a.toString();const e=["K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","De"];let t=-1,l=a;for(;l>=1e3&&t<e.length-1;)l/=1e3,t++;return l.toFixed(2)+e[t]}function ee(){let a=P.value;Math.random()<m.value&&(a*=h.value,i.value=`RIPOSTE! +${_(a)} runes!`,u(),c.critGod=!0),o.value+=a,r.value+=a,g.value++,c.firstClick||(c.firstClick=!0,i.value="You touched grassâ€¦ I mean grace.",u()),le()}function te(a){const e=x(a.baseCost,a.count);o.value>=e?(o.value-=e,a.count++):(i.value='"Thy runes are insufficient." â€” Mad Tongue Alberich',u())}function se(a){a.purchased||(o.value>=a.cost?(o.value-=a.cost,a.purchased=!0,a.effect(),i.value=`${a.name} acquired!`,u()):(i.value="You lack the runes, tarnished.",u()))}function L(){return r.value>=1e5}function ae(){if(!L()){i.value="Become Elden Lord first (100k+ lifetime runes).",u();return}const a=Math.floor(Math.sqrt(r.value/1e5));k.value+=a,o.value=0,r.value=0,g.value=0,b.value=1,p.value=1,m.value=.1,h.value=5,y.forEach(e=>e.count=0),M.forEach(e=>e.purchased=!1),w.value=1,S.value=1,i.value=`Reborn anew. Remembrance +${a} (Total ${k.value}).`,u()}function le(){!c[1e3]&&r.value>=1e3&&(c[1e3]=!0,i.value="Margit has been financially ruined (1,000).",u()),!c[1e4]&&r.value>=1e4&&(c[1e4]=!0,i.value="Godrick sold a spare arm (10,000).",u()),!c[1e5]&&r.value>=1e5&&(c[1e5]=!0,i.value="You areâ€¦ a little rich (100,000).",u())}let O;function oe(){const a=Date.now(),e=(a-I.value)/1e3;I.value=a;const t=G.value*e;t>0&&(o.value+=t,r.value+=t)}j(()=>{const a=ne();if(a){const e=(Date.now()-a.lastUpdate)/1e3,t=a.rpsAtSave*Math.min(e,3600);o.value+=t,r.value+=t,i.value=`While you were gone, Torrent found ${_(Math.floor(t))} runes.`,u()}O=setInterval(oe,100)}),J(()=>{clearInterval(O),W()});const i=d(""),N=d(!1);let V;function u(){N.value=!0,clearTimeout(V),V=setTimeout(()=>N.value=!1,1800)}const B="elden-idle-v1";function W(){const a={runes:o.value,lifetimeRunes:r.value,clicks:g.value,clickPower:b.value,clickMultiplier:p.value,critChance:m.value,critMultiplier:h.value,autos:y.map(e=>({key:e.key,count:e.count})),upgrades:M.map(e=>({key:e.key,purchased:e.purchased})),autoMultiplier:w.value,globalMultiplier:S.value,remembrance:k.value,lastUpdate:Date.now(),rpsAtSave:G.value};localStorage.setItem(B,JSON.stringify(a))}function ne(){var a,e;try{const t=localStorage.getItem(B);if(!t)return null;const l=JSON.parse(t);return o.value=l.runes||0,r.value=l.lifetimeRunes||0,g.value=l.clicks||0,b.value=l.clickPower||1,p.value=l.clickMultiplier||1,m.value=l.critChance??.1,h.value=l.critMultiplier||5,w.value=l.autoMultiplier||1,S.value=l.globalMultiplier||1,k.value=l.remembrance||0,(a=l.autos)==null||a.forEach(T=>{const R=y.find(F=>F.key===T.key);R&&(R.count=T.count)}),(e=l.upgrades)==null||e.forEach(T=>{const R=M.find(F=>F.key===T.key);R&&(R.purchased=T.purchased)}),I.value=l.lastUpdate||Date.now(),l}catch(t){return console.warn("Load failed",t),null}}ce([o,y,M,k],()=>W(),{deep:!0});let E;function Y(){clearTimeout(E);const a=6e4+Math.random()*6e4;E=setTimeout(()=>{const e=[()=>{const t=Math.floor((G.value+P.value)*10);o.value+=t,r.value+=t,i.value=`Patches felt generous (+${_(t)})`,u()},()=>{const t=Math.floor(o.value*.1);o.value=Math.max(0,o.value-t),i.value=`Grafted Scion tax (-${_(t)})`,u()},()=>{w.value*=1.1,i.value="Golden Fowl Foot: +10% passive income (temp-ish).",u()}];e[Math.floor(Math.random()*e.length)](),Y()},a)}j(Y),J(()=>clearTimeout(E));function ie(){localStorage.removeItem(B),location.reload()}return(a,e)=>(v(),f("div",fe,[s("div",pe,[e[4]||(e[4]=s("h1",null,"ðŸ’€ Elden Idle: Touch Grace, Get Paid",-1)),s("div",me,[s("div",null,[e[0]||(e[0]=s("strong",null,"Runes:",-1)),$(" "+n(_(Math.floor(o.value))),1)]),s("div",null,[e[1]||(e[1]=s("strong",null,"RPS:",-1)),$(" "+n(G.value.toFixed(1)),1)]),s("div",null,[e[2]||(e[2]=s("strong",null,"Per Click:",-1)),$(" "+n(P.value),1)]),s("div",null,[e[3]||(e[3]=s("strong",null,"Remembrance:",-1)),$(" "+n(k.value),1)])])]),s("div",he,[s("div",ke,[s("button",{class:"grace-button",onClick:ee},e[5]||(e[5]=[s("span",{class:"big"},"TOUCH GRACE",-1),s("span",{class:"small"},"(may trigger riposte)",-1)])),s("div",_e,[s("div",null,"Total Clicks: "+n(g.value),1),s("div",null,"Crit Chance: "+n(Math.round(m.value*100))+"% Â· Crit Ã—"+n(h.value),1),s("button",{class:"prestige",disabled:!L(),onClick:ae},"Rebirth at Roundtable Hold",8,ge),s("button",{class:"reset",onClick:ie},"Wipe Save")]),s("div",be,[e[6]||(e[6]=s("h3",null,"ðŸ§© Achievements",-1)),s("ul",null,[s("li",{class:C({done:c.firstClick})},"First Grace Touched",2),s("li",{class:C({done:c[1e3]})},"1,000 Lifetime",2),s("li",{class:C({done:c[1e4]})},"10,000 Lifetime",2),s("li",{class:C({done:c[1e5]})},"100,000 Lifetime",2),s("li",{class:C({done:c.critGod})},"Riposte Royale",2)])])]),s("div",ye,[s("div",Ce,[e[7]||(e[7]=s("h2",null,"ðŸ›’ Spirit Ashes (Passive)",-1)),s("div",Me,[(v(!0),f(q,null,H(y,t=>(v(),f("div",{key:t.key,class:"card"},[s("div",we,[s("strong",null,n(t.name),1),s("span",null,"x"+n(t.count),1)]),s("div",Se,n(t.desc),1),s("div",Te,[s("span",null,"+"+n(t.rps)+" RPS each",1)]),s("button",{disabled:o.value<x(t.baseCost,t.count),onClick:l=>te(t)}," Buy for "+n(_(x(t.baseCost,t.count))),9,Re)]))),128))])]),s("div",Ge,[e[8]||(e[8]=s("h2",null,"ðŸ”¨ Upgrades (Click)",-1)),s("div",$e,[(v(!0),f(q,null,H(M,t=>(v(),f("div",{key:t.key,class:C(["card",{purchased:t.purchased}])},[s("div",Ie,[s("strong",null,n(t.name),1),t.purchased?(v(),f("span",Pe,"Owned")):K("",!0)]),s("div",xe,n(t.desc),1),t.purchased?(v(),f("div",Be,"Already applied.")):(v(),f("button",{key:0,disabled:o.value<t.cost,onClick:l=>se(t)},"Buy for "+n(_(t.cost)),9,Ne))],2))),128))])])])]),A(re,{name:"toast-fade"},{default:ue(()=>[N.value?(v(),f("div",Ee,n(i.value),1)):K("",!0)]),_:1})]))}}),Ue=z(De,[["__scopeId","data-v-b4c65f7c"]]),Ae=de({name:"Idle",components:{Navigation:ve,GraceClicker:Ue},mounted(){document.body.style.background="linear-gradient(135deg,rgba(0, 4, 87, 1) 0%, rgba(91, 0, 107, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),Le={class:"main-container"};function Oe(X,o,r,g,b,p){const m=Q("Navigation"),h=Q("GraceClicker");return v(),f("div",null,[A(m),s("div",Le,[A(h)])])}const We=z(Ae,[["render",Oe],["__scopeId","data-v-18982618"]]);export{We as default};
