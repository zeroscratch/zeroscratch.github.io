import{_ as B,d as N,r as h,e as W,f as M,o as p,c,a as e,y as k,z as C,t as l,v as L,F as T,b as U,g as S,i as $,N as Q,j as _}from"./index-CqgK8W59.js";const E=N({name:"WeaponCost",setup(){const o=h([]),t=h(""),m=h(1),f=h(!1),b=s=>{const r=s.split(`
`).filter(a=>a.trim()!==""),g=[];for(let a=1;a<r.length;a++){const d=r[a].split(",").map(u=>u.trim());if(d.length>=4){const u=d[1],i=Number(d[2]),v=d[3];u&&i&&g.push({name:u,cost:i,type:v==="1"?"Somber Weapon":"Smithing Weapon"})}}return g},y=async()=>{try{const r=await(await fetch("/data/Wiki/Weapons Edit - Weapons.csv.csv")).text();o.value=b(r)}catch(s){console.error("Error loading CSV:",s)}},n=W(()=>{if(!t.value)return null;const s=t.value.toLowerCase();return o.value.find(r=>r.name.toLowerCase().includes(s))||null}),w=W(()=>{const s=n.value;if(!s)return 0;const r=s.cost,g=s.type==="Somber Weapon"?.5:.2,a=Math.max(1,Math.floor(m.value)),d=r*(a+g*(a*(a-1)/2));return Math.round(d)}),V=W(()=>{const s=n.value;if(!s)return[];const r=s.cost,g=s.type==="Somber Weapon"?.5:.2,a=Math.max(1,Math.floor(m.value)),d=[];let u=0;for(let i=1;i<=a;i++){const v=Math.round(r*(1+(i-1)*g));u+=v,d.push({level:i,cost:v,running:u})}return d});return M(y),{searchQuery:t,filteredWeapon:n,upgradeLevel:m,totalUpgradeCost:w,breakdown:V,showBreakdown:f}}}),F={class:"weapon-cost"},D={key:0,class:"result-box"},I={class:"upgrade-controls"},j={for:"upgrade"},q=["max"],z={class:"total-cost"},A={class:"highlight"},G={key:0,class:"breakdown-table"},H={key:1,class:"no-result"};function O(o,t,m,f,b,y){return p(),c("div",F,[t[6]||(t[6]=e("h2",null,"⚔️ Weapon Cost Lookup",-1)),k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o.searchQuery=n),type:"text",placeholder:"Search for a weapon...",class:"search-bar"},null,512),[[C,o.searchQuery]]),o.filteredWeapon?(p(),c("div",D,[e("h3",null,l(o.filteredWeapon.name),1),e("p",null,[t[3]||(t[3]=e("strong",null,"Base Cost:",-1)),L(" "+l(o.filteredWeapon.cost),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Type:",-1)),L(" "+l(o.filteredWeapon.type),1)]),e("div",I,[e("label",j,[e("strong",null,"Upgrade Level: +"+l(o.upgradeLevel),1)]),k(e("input",{id:"upgrade",type:"range",min:1,max:o.filteredWeapon.type==="Somber Weapon"?10:25,"onUpdate:modelValue":t[1]||(t[1]=n=>o.upgradeLevel=n),class:"slider"},null,8,q),[[C,o.upgradeLevel,void 0,{number:!0}]])]),e("p",z,[e("strong",null,"Total Cost to +"+l(o.upgradeLevel)+": ",1),e("span",A,l(o.totalUpgradeCost.toLocaleString()),1)]),e("button",{type:"button",onClick:t[2]||(t[2]=n=>o.showBreakdown=!o.showBreakdown),class:"toggle-btn"},l(o.showBreakdown?"Hide":"Show")+" Breakdown ",1),o.showBreakdown?(p(),c("table",G,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",null,"Level"),e("th",null,"Cost at Level"),e("th",null,"Running Total")])],-1)),e("tbody",null,[(p(!0),c(T,null,U(o.breakdown,n=>(p(),c("tr",{key:n.level},[e("td",null,"+"+l(n.level),1),e("td",null,l(n.cost.toLocaleString()),1),e("td",null,l(n.running.toLocaleString()),1)]))),128))])])):S("",!0)])):o.searchQuery?(p(),c("div",H," ❌ No weapon found with that name. ")):S("",!0)])}const R=B(E,[["render",O],["__scopeId","data-v-974f8ec5"]]),J=N({name:"Golden Order",components:{Navigation:Q,WeaponWeightCalculator:R},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),K={class:"main-container"};function P(o,t,m,f,b,y){const n=_("Navigation"),w=_("WeaponWeightCalculator");return p(),c("div",null,[$(n),e("div",K,[$(w)])])}const Y=B(J,[["render",P],["__scopeId","data-v-c2513846"]]);export{Y as default};
