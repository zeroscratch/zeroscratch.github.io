import{_ as I,d as L,c as l,o as i,a as t,p as S,n as y,F as C,b as O,A as _,t as d,r as h,g as M,m as N}from"./index-CWOz74mE.js";const V=L({name:"ChampionsRushWheel",setup(){const e=h({}),s=h(""),b=h(0),v=h(!1),g=h(null),f=h("?");M(async()=>{try{const o=await fetch("/data/ESS3/GO/championsRushWheel.json");if(!o.ok)throw new Error("Failed to load leaderboard JSON");e.value=await o.json();const n=Object.keys(e.value);n.length>0&&(s.value=n[0])}catch(o){g.value=o.message}});const u=N(()=>Object.keys(e.value)),k=N(()=>{if(!s.value)return[];const o=e.value[s.value]||{};return Object.entries(o).map(([n,c])=>({player:n,...c})).sort((n,c)=>{const m=p=>{if(!p)return 1/0;const r=p.split(":").map(Number);return r.length===1?r[0]:r.length===2?r[0]*60+r[1]:r[0]*3600+r[1]*60+r[2]};return m(n.time)-m(c.time)})}),W=o=>{let n=o%360;return n<0&&(n+=360),n},$=()=>{if(v.value||u.value.length===0)return;v.value=!0,f.value="?";const o=u.value.length,n=360/o,c=Math.floor(Math.random()*o),m=b.value+1440+c*n;b.value=m,setTimeout(()=>{const p=W(b.value),r=Math.round(p/n)%o,w=u.value[r];w&&(s.value=w),f.value=F(),v.value=!1},3e3)},D=o=>{const n=u.value.length||1,c=360/n,m=-90+o*c,p=n>10?23.5:n>8?12.5:11.5,r=n>12?"0.72rem":n>10?"0.8rem":n>8?"0.9rem":"1rem";return{transform:`rotate(${m}deg) translate(${p+6}em) rotate(${-m}deg)`,fontSize:r}},E=o=>{o&&window.open(o,"_blank")},z=()=>{window.open("https://forms.gle/DzZWEGDhtzSbuT9e6","_blank")},F=()=>Math.floor(Math.random()*9e8)+1e8;return{leaderboards:e,leaderboardNames:u,selectedLeaderboard:s,currentEntries:k,arrowRotation:b,error:g,spinWheel:$,getItemStyle:D,openVOD:E,openForm:z,spinning:v,newGeneratedSeed:f}}}),j={class:"champions-container"},R={class:"wheel-wrapper"},G=["onClick"],T=["disabled"],B={class:"newSeed"},J={key:0,class:"error"},A={key:1,class:"leaderboard-title"},H={key:2,class:"leaderboard-table"},P={class:"player"},U={class:"seed"},Z=["onClick"],q={key:1,class:"no-vod"},K={key:3,class:"empty"},Q={class:"submit-section"};function X(e,s,b,v,g,f){return i(),l("div",j,[s[5]||(s[5]=t("h2",null,"ðŸ† Champions Rush Wheel",-1)),t("div",R,[t("div",{class:y(["wheel",{spinning:e.spinning}])},[(i(!0),l(C,null,O(e.leaderboardNames,(a,u)=>(i(),l("div",{key:a,class:y(["wheel-item",{active:e.selectedLeaderboard===a}]),style:_(e.getItemStyle(u)),onClick:k=>e.selectedLeaderboard=a},d(a),15,G))),128)),t("div",{class:"arrow",style:_({transform:`translate(-50%, -100%) rotate(${e.arrowRotation}deg)`})},null,4)],2),t("button",{class:"spin-button",onClick:s[0]||(s[0]=(...a)=>e.spinWheel&&e.spinWheel(...a)),disabled:e.spinning},d(e.spinning?"Spinning...":"ðŸŽ¯ Spin the Wheel"),9,T),t("h3",B," Use a New Seed: "+d(e.newGeneratedSeed),1)]),e.error?(i(),l("div",J,d(e.error),1)):S("",!0),e.selectedLeaderboard?(i(),l("h3",A,d(e.selectedLeaderboard),1)):S("",!0),e.currentEntries.length>0?(i(),l("table",H,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",null,"Player"),t("th",null,"Time"),t("th",null,"Weapon"),t("th",null,"Seed"),t("th",null,"VOD")])],-1)),t("tbody",null,[(i(!0),l(C,null,O(e.currentEntries,a=>(i(),l("tr",{key:a.player},[t("td",P,d(a.player),1),t("td",null,d(a.time),1),t("td",null,d(a.weapon),1),t("td",U,d(a.seed),1),t("td",null,[a.vod?(i(),l("button",{key:0,class:"vod-button",onClick:u=>e.openVOD(a.vod)}," ðŸŽ¥ Show VOD ",8,Z)):(i(),l("span",q,"â€”"))])]))),128))])])):e.error?S("",!0):(i(),l("div",K,"No data available")),t("div",Q,[s[3]||(s[3]=t("p",{class:"submit-text"},"Send your Submissions Here:",-1)),t("button",{class:"submit-button",onClick:s[1]||(s[1]=(...a)=>e.openForm&&e.openForm(...a))},"Submit"),s[4]||(s[4]=t("p",{class:"submit-text"},"Or Submit on Discord",-1))])])}const x=I(V,[["render",X],["__scopeId","data-v-e4a4bac7"]]);export{x as C};
