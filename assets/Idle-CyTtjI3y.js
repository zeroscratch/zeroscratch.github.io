import{r as c,e as Y,c as g,o as b,a as e,g as H,z as ce,A as de,t as r,v as le,F as W,b as V,n as x,_ as ue,E as te,f as ae,G as se,B as ve,i as q,x as j,w as fe,m as me,d as pe,j as ne,N as he}from"./index-DNqiVYJL.js";const ge={class:"gamble-section"},be={class:"gamble-controls"},ke=["disabled"],_e=["disabled"],ye=["disabled"],we={key:0,class:"cooldown"},Ce={class:"wheel-container"},Me={class:"overlay",viewBox:"0 0 200 200"},$e={transform:"translate(100,100)"},Te=["transform"],Re={key:1,class:"result"},oe=180,Se={__name:"GamblingWheel",props:{runes:{type:Number,required:!0},lifetimeRunes:{type:Number,required:!0}},emits:["update:runes","update:lifetimeRunes"],setup(J,{emit:n}){const o=J,$=n,T=c(0),_=c(!1),d=c(null),k=c(0),R=c(0);let M=null;const y=[{label:"ðŸ’€ DEATH",multiplier:0},{label:"1.5Ã—",multiplier:1.5},{label:"0.5Ã—",multiplier:.5,loseHalf:!0},{label:"2Ã—",multiplier:2},{label:"3Ã—",multiplier:3},{label:"ðŸ’€ Half",multiplier:.5,loseHalf:!0},{label:"ðŸ’° 20Ã—",multiplier:20,jackpot:!0},{label:"0.1Ã—",multiplier:.1},{label:"5Ã—",multiplier:5},{label:"ðŸ”¥ 50Ã—",multiplier:50,jackpot:!0}],I=Y(()=>{const p=y.length,u=360/p;return`conic-gradient(from -90deg, ${Array.from({length:p},(m,A)=>{const N=(A*u).toFixed(2),D=((A+1)*u).toFixed(2);return`${A%2===0?"rgba(214,182,118,0.18)":"rgba(214,182,118,0.06)"} ${N}deg ${D}deg`}).join(",")})`}),w=c(!1);function v(){w.value=!w.value,w.value&&(d.value="âš ï¸ ALL IN MODE: You wager every rune you own!")}const C=p=>(p%360+360)%360;function F(){if(_.value||R.value>0)return;const p=w.value?o.runes:T.value;if(p<=0)return;if(o.runes<p){d.value="You lack the runes, Tarnished.";return}const u=o.runes;$("update:runes",u-p),_.value=!0;const f=y.length,m=360/f,N=(Math.floor(Math.random()*f)+.5)*m,D=(Math.random()-.5)*(m*.6),P=C(N+D),z=C(oe-P),K=k.value+360*8+z;k.value=K,setTimeout(()=>{const G=C(oe-C(k.value)),U=Math.floor(G/m)%f,s=y[U];let S=u-p;if(s.multiplier===0)S=0,d.value=`ðŸ’€ You lost everything (${u} runes).`;else if(s.loseHalf)S=Math.floor(S/2),d.value=`ðŸ’€ You lost half of everything (${S} runes).`;else if(s.multiplier<1){const E=Math.floor(p*s.multiplier);S+=E;const h=p-E;d.value=`You lost ${h} runes (${s.label}).`}else{const E=Math.floor(p*s.multiplier);S+=E,$("update:lifetimeRunes",o.lifetimeRunes+E),d.value=s.jackpot?`ðŸ”¥ JACKPOT! You won ${E} runes (${s.label})!`:`You won ${E} runes (${s.label}).`}$("update:runes",Math.max(0,S)),_.value=!1,k.value=C(k.value),M&&clearInterval(M),R.value=3,M=setInterval(()=>{R.value>0?R.value--:clearInterval(M)},1e3),w.value&&(w.value=!1)},8e3)}return(p,u)=>(b(),g("div",ge,[u[3]||(u[3]=e("h2",null,"ðŸŽ² Rune Gamble Wheel",-1)),e("div",be,[ce(e("input",{type:"number","onUpdate:modelValue":u[0]||(u[0]=f=>T.value=f),placeholder:"Enter runes to gamble",min:"0",disabled:w.value},null,8,ke),[[de,T.value,void 0,{number:!0}]]),e("button",{disabled:_.value,onClick:F},"Spin the Wheel",8,_e),e("button",{class:"allin",disabled:_.value,onClick:v},r(w.value?"ðŸ§  Cancel ALL IN":"ðŸ”¥ ALL IN MODE"),9,ye)]),R.value>0?(b(),g("p",we," â³ Wheel recharging: "+r(R.value)+"s ",1)):H("",!0),e("div",Ce,[e("div",{class:"wheel",style:le({transform:`rotate(${k.value}deg)`,background:I.value})},[(b(),g("svg",Me,[e("g",$e,[(b(!0),g(W,null,V(y.length,f=>(b(),g("g",{key:"sep-"+f,transform:`rotate(${f%y.length*(360/y.length)})`},u[1]||(u[1]=[e("line",{x1:"0",y1:"0",x2:"98",y2:"0",stroke:"rgba(255,255,255,0.08)","stroke-width":"0.8"},null,-1)]),8,Te))),128))])])),(b(),g(W,null,V(y,(f,m)=>e("div",{key:m,class:x(["label",{lose:f.multiplier<1||f.loseHalf,jackpot:f.jackpot}]),style:le({"--a":`${360/y.length*(m+.5)}deg`})},[e("span",null,r(f.label),1)],6)),64))],4),u[2]||(u[2]=e("div",{class:"indicator"},null,-1))]),d.value?(b(),g("p",Re,r(d.value),1)):H("",!0)]))}},Ee={class:"elden-idle"},Ie={class:"header"},xe={class:"stats"},Ae={class:"content"},Ge={class:"click-area"},Ne={class:"mini"},De=["disabled"],Pe={class:"achievements"},Le={class:"shop"},Be={class:"section"},Fe={class:"grid"},Ue={class:"row between"},Oe={class:"desc"},je={class:"row"},Ye=["disabled","onClick"],He={class:"section"},We={class:"grid"},Ve={class:"row between"},qe={key:0,class:"tag"},Je={class:"desc"},ze=["disabled","onClick"],Ke={key:1,class:"owned-line"},Qe={key:0,class:"toast"},Xe={name:"EldenIdle"},Ze=Object.assign(Xe,{setup(J){const n=c(0),o=c(0),$=c(0),T=c(1),_=c(1),d=c(.1),k=c(5),R=c(Date.now()),M=te([{key:"finger",name:"Finger Reader",count:0,baseCost:15,rps:.1,desc:"Whispers sweet prophecies into your wallet."},{key:"jelly",name:"Spirit Jellyfish",count:0,baseCost:100,rps:1,desc:"Gently bonks enemies for passive income."},{key:"scarab",name:"Teardrop Scarab",count:0,baseCost:500,rps:5,desc:"Rolls runes to you. Do not kick."},{key:"sorc",name:"Raya Lucaria Scholar",count:0,baseCost:3e3,rps:20,desc:"Casts Glintbladeâ€¦ at your finances."},{key:"malenia",name:"Malenia (Not Nerfed)",count:0,baseCost:25e3,rps:120,desc:"I am Malenia, Blade of Runes-per-second."}]),y=te([{key:"club",name:"Club From a Shack",cost:50,purchased:!1,effect:()=>T.value+=1,desc:"+1 runes per click. Smells like goat."},{key:"smith",name:"Somber Smithing Stone [1]",cost:250,purchased:!1,effect:()=>_.value*=2,desc:"Doubles click power. Cha-ching."},{key:"med",name:"Flask of Wondrous Physick",cost:2e3,purchased:!1,effect:()=>{_.value*=2,d.value+=.05},desc:"Double click power again & +5% riposte chance."},{key:"seal",name:"Two Fingers Blessing",cost:12e3,purchased:!1,effect:()=>{_.value*=2,k.value+=2},desc:"Double click power & juicier crits."}]),I=c(1),w=c(1),v=te({firstClick:!1,1e3:!1,1e4:!1,1e5:!1,critGod:!1}),C=c(0),F=Y(()=>1+C.value*.15),p=Y(()=>Math.floor(T.value*_.value*w.value*F.value)),u=Y(()=>M.reduce((l,t)=>l+t.count*t.rps,0)*I.value*w.value*F.value),f=(a,l)=>Math.floor(a*Math.pow(1.15,l));function m(a){if(a<1e3)return a.toString();const l=["K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","De"];let t=-1,i=a;for(;i>=1e3&&t<l.length-1;)i/=1e3,t++;return i.toFixed(2)+l[t]}function A(){let a=p.value;Math.random()<d.value&&(a*=k.value,s.value=`RIPOSTE! +${m(a)} runes!`,h(),v.critGod=!0),n.value+=a,o.value+=a,$.value++,v.firstClick||(v.firstClick=!0,s.value="You touched grassâ€¦ I mean grace.",h()),K()}function N(a){const l=f(a.baseCost,a.count);n.value>=l?(n.value-=l,a.count++):(s.value='"Thy runes are insufficient." â€” Mad Tongue Alberich',h())}function D(a){a.purchased||(n.value>=a.cost?(n.value-=a.cost,a.purchased=!0,a.effect(),s.value=`${a.name} acquired!`,h()):(s.value="You lack the runes, tarnished.",h()))}function P(){return o.value>=1e5}function z(){if(!P()){s.value="Become Elden Lord first (100k+ lifetime runes).",h();return}const a=Math.floor(Math.sqrt(o.value/1e5));C.value+=a,n.value=0,o.value=0,$.value=0,T.value=1,_.value=1,d.value=.1,k.value=5,M.forEach(l=>l.count=0),y.forEach(l=>l.purchased=!1),I.value=1,w.value=1,s.value=`Reborn anew. Remembrance +${a} (Total ${C.value}).`,h()}function K(){!v[1e3]&&o.value>=1e3&&(v[1e3]=!0,s.value="Margit has been financially ruined (1,000).",h()),!v[1e4]&&o.value>=1e4&&(v[1e4]=!0,s.value="Godrick sold a spare arm (10,000).",h()),!v[1e5]&&o.value>=1e5&&(v[1e5]=!0,s.value="You areâ€¦ a little rich (100,000).",h())}let G;function U(){const a=Date.now(),l=(a-R.value)/1e3;R.value=a;const t=u.value*l;t>0&&(n.value+=t,o.value+=t)}ae(()=>{const a=ie();if(a){const l=(Date.now()-a.lastUpdate)/1e3,t=a.rpsAtSave*Math.min(l,3600);n.value+=t,o.value+=t,s.value=`While you were gone, Torrent found ${m(Math.floor(t))} runes.`,h()}G=setInterval(U,100)}),se(()=>{clearInterval(G),X()});const s=c(""),S=c(!1);let E;function h(){S.value=!0,clearTimeout(E),E=setTimeout(()=>S.value=!1,1800)}const Q="elden-idle-v1";function X(){const a={runes:n.value,lifetimeRunes:o.value,clicks:$.value,clickPower:T.value,clickMultiplier:_.value,critChance:d.value,critMultiplier:k.value,autos:M.map(l=>({key:l.key,count:l.count})),upgrades:y.map(l=>({key:l.key,purchased:l.purchased})),autoMultiplier:I.value,globalMultiplier:w.value,remembrance:C.value,lastUpdate:Date.now(),rpsAtSave:u.value};localStorage.setItem(Q,JSON.stringify(a))}function ie(){var a,l;try{const t=localStorage.getItem(Q);if(!t)return null;const i=JSON.parse(t);return n.value=i.runes||0,o.value=i.lifetimeRunes||0,$.value=i.clicks||0,T.value=i.clickPower||1,_.value=i.clickMultiplier||1,d.value=i.critChance??.1,k.value=i.critMultiplier||5,I.value=i.autoMultiplier||1,w.value=i.globalMultiplier||1,C.value=i.remembrance||0,(a=i.autos)==null||a.forEach(L=>{const B=M.find(ee=>ee.key===L.key);B&&(B.count=L.count)}),(l=i.upgrades)==null||l.forEach(L=>{const B=y.find(ee=>ee.key===L.key);B&&(B.purchased=L.purchased)}),R.value=i.lastUpdate||Date.now(),i}catch(t){return console.warn("Load failed",t),null}}ve([n,M,y,C],()=>X(),{deep:!0});let O;function Z(){clearTimeout(O);const a=6e4+Math.random()*6e4;O=setTimeout(()=>{const l=[()=>{const t=Math.floor((u.value+p.value)*10);n.value+=t,o.value+=t,s.value=`Patches felt generous (+${m(t)})`,h()},()=>{const t=Math.floor(n.value*.1);n.value=Math.max(0,n.value-t),s.value=`Grafted Scion tax (-${m(t)})`,h()},()=>{I.value*=1.1,s.value="Golden Fowl Foot: +10% passive income (temp-ish).",h()}];l[Math.floor(Math.random()*l.length)](),Z()},a)}ae(()=>{Z()}),se(()=>{clearTimeout(O)});function re({preserveRemembrance:a=!1}={}){if(window.confirm(`âš ï¸ This will ERASE ALL PROGRESS, RUNES, UPGRADES, and ACHIEVEMENTS.

`+(a?`Remembrance will be preserved.

`:"")+"Are you absolutely sure?")){try{clearInterval(G)}catch{}try{clearTimeout(O)}catch{}try{clearTimeout(E)}catch{}try{cooldownTimer&&clearInterval(cooldownTimer)}catch{}localStorage.removeItem(Q),n.value=0,o.value=0,$.value=0,T.value=1,_.value=1,d.value=.1,k.value=5,I.value=1,w.value=1,a||(C.value=0),M.forEach(t=>{t.count=0}),y.forEach(t=>{t.purchased=!1}),Object.keys(v).forEach(t=>{v[t]=!1}),R.value=Date.now(),G=setInterval(U,100),Z(),s.value="ðŸ§¹ Save wiped. The slate is clean, Tarnished.",h(),X()}}return(a,l)=>(b(),g("div",Ee,[e("div",Ie,[l[6]||(l[6]=e("h1",null,"ðŸ’€ Elden Idle: Touch Grace, Get Paid",-1)),e("div",xe,[e("div",null,[l[2]||(l[2]=e("strong",null,"Runes:",-1)),j(" "+r(m(Math.floor(n.value))),1)]),e("div",null,[l[3]||(l[3]=e("strong",null,"RPS:",-1)),j(" "+r(m(u.value.toFixed(1))),1)]),e("div",null,[l[4]||(l[4]=e("strong",null,"Per Click:",-1)),j(" "+r(m(p.value)),1)]),e("div",null,[l[5]||(l[5]=e("strong",null,"Remembrance:",-1)),j(" "+r(m(C.value)),1)])])]),e("div",Ae,[e("div",Ge,[e("button",{class:"grace-button",onClick:A},l[7]||(l[7]=[e("span",{class:"big"},"TOUCH GRACE",-1),e("span",{class:"small"},"(may trigger riposte)",-1)])),e("div",Ne,[e("div",null,"Total Clicks: "+r($.value),1),e("div",null,"Crit Chance: "+r(Math.round(d.value*100))+"% Â· Crit Ã—"+r(k.value),1),e("button",{class:"prestige",disabled:!P(),onClick:z},"Rebirth at Roundtable Hold",8,De),e("button",{class:"reset",onClick:re},"Wipe Save")]),e("div",Pe,[l[8]||(l[8]=e("h3",null,"ðŸ§© Achievements",-1)),e("ul",null,[e("li",{class:x({done:v.firstClick})},"First Grace Touched",2),e("li",{class:x({done:v[1e3]})},"1,000 Lifetime",2),e("li",{class:x({done:v[1e4]})},"10,000 Lifetime",2),e("li",{class:x({done:v[1e5]})},"100,000 Lifetime",2),e("li",{class:x({done:v.critGod})},"Riposte Royale",2)])])]),q(Se,{runes:n.value,"onUpdate:runes":l[0]||(l[0]=t=>n.value=t),lifetimeRunes:o.value,"onUpdate:lifetimeRunes":l[1]||(l[1]=t=>o.value=t)},null,8,["runes","lifetimeRunes"]),e("div",Le,[e("div",Be,[l[9]||(l[9]=e("h2",null,"ðŸ›’ Spirit Ashes (Passive)",-1)),e("div",Fe,[(b(!0),g(W,null,V(M,t=>(b(),g("div",{key:t.key,class:"card"},[e("div",Ue,[e("strong",null,r(t.name),1),e("span",null,"x"+r(t.count),1)]),e("div",Oe,r(t.desc),1),e("div",je,[e("span",null,"+"+r(t.rps)+" RPS each",1)]),e("button",{disabled:n.value<f(t.baseCost,t.count),onClick:i=>N(t)}," Buy for "+r(m(f(t.baseCost,t.count))),9,Ye)]))),128))])]),e("div",He,[l[10]||(l[10]=e("h2",null,"ðŸ”¨ Upgrades (Click)",-1)),e("div",We,[(b(!0),g(W,null,V(y,t=>(b(),g("div",{key:t.key,class:x(["card",{purchased:t.purchased}])},[e("div",Ve,[e("strong",null,r(t.name),1),t.purchased?(b(),g("span",qe,"Owned")):H("",!0)]),e("div",Je,r(t.desc),1),t.purchased?(b(),g("div",Ke,"Already applied.")):(b(),g("button",{key:0,disabled:n.value<t.cost,onClick:i=>D(t)},"Buy for "+r(m(t.cost)),9,ze))],2))),128))])])])]),q(me,{name:"toast-fade"},{default:fe(()=>[S.value?(b(),g("div",Qe,r(s.value),1)):H("",!0)]),_:1})]))}}),et=ue(Ze,[["__scopeId","data-v-270c077d"]]),tt=pe({name:"Idle",components:{Navigation:he,GraceClicker:et},mounted(){document.body.style.background="linear-gradient(135deg,rgba(0, 1, 3, 1) 0%, rgba(0, 0, 0, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),lt={class:"main-container"};function at(J,n,o,$,T,_){const d=ne("Navigation"),k=ne("GraceClicker");return b(),g("div",null,[q(d),e("div",lt,[q(k)])])}const nt=ue(tt,[["render",at],["__scopeId","data-v-d5c09a29"]]);export{nt as default};
