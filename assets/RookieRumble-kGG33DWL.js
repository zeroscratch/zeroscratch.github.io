import{_ as C,m as Q,r as y,f as L,j as R,o as u,c as f,a as e,F as b,b as M,n as h,t as i,i as $,g,d as T,M as j,I as A,e as D,h as S,w as E,T as P,q as W,u as I,N as F}from"./index-BQnqAiF7.js";const q="/data/RookieRumbleData/rookieRumbleStandings.json";async function B(){const s=await(await fetch(q)).json(),v=Object.entries(s).map(([m,d])=>{const r=d.wins,c=d.losses,l=r+c;return{...d,name:m,games:l,wr:N(r,l)}});return v.sort((m,d)=>{if(d.wins!==m.wins)return d.wins-m.wins;const r=parseInt(m.wr),c=parseInt(d.wr);return c!==r?c-r:d.victory.includes(m.name)?d.wins-m.wins:d.lines!==m.lines?d.lines-m.lines:d.squares-m.squares}).forEach((m,d)=>{m.standing=d+1}),v}function N(o,s){if(s===0)return"0%";const v=o/s*100;return`${Math.round(v)}%`}const U={name:"RookieRumbleTable",components:{TwitchIcon:Q},setup(){const o=y([]),s=v=>v==="yes"?"qualified-yes":v==="maybe"?"qualified-maybe":"qualified-no";return L(async()=>{o.value=await B()}),{players:o,getQualificationClass:s}}},z={class:"table-container"},G=["href"];function V(o,s,v,m,d,r){const c=R("TwitchIcon");return u(),f("div",z,[e("table",null,[s[0]||(s[0]=e("thead",null,[e("tr",null,[e("th",null,"Standing"),e("th",null,"Player"),e("th",null,"Wins"),e("th",null,"Losses"),e("th",null,"WR"),e("th",null,"Games"),e("th",null,"Squares"),e("th",null,"Lines"),e("th",null,"Twitch")])],-1)),e("tbody",null,[(u(!0),f(b,null,M(m.players,l=>(u(),f("tr",{key:l.name,class:h(m.getQualificationClass(l.qualified))},[e("td",null,i(l.standing),1),e("td",null,i(l.name),1),e("td",null,i(l.wins),1),e("td",null,i(l.losses),1),e("td",null,i(l.wr),1),e("td",null,i(l.games),1),e("td",null,i(l.squares),1),e("td",null,i(l.lines),1),e("td",null,[l.twitch?(u(),f("a",{key:0,href:l.twitch,class:"twitch-link"},[$(c,{class:"icon"})],8,G)):g("",!0)])],2))),128))])])])}const H=C(U,[["render",V],["__scopeId","data-v-16a76517"]]);async function K(){const o="/data/RookieRumbleData/rookieRumbleMatchResults.json";try{const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch stats: ${s.statusText}`);const v=await s.json();if(!Array.isArray(v))throw new Error("Invalid format: expected an array of weeks.");return{matches:v.flatMap(d=>d.matches.map(r=>({...r,week:d.week})))}}catch(s){throw console.error(s),new Error("Failed to load Rookie Rumble Match Results. Please try again later.")}}const O=T({name:"RookieRumbleResultsTable",components:{Modal:j,IconMarikasEye:A},setup(){const o=y({matches:[]}),s=y(!1),v=y(null),m=y(null),d=y(null),r=p=>{v.value=p,s.value=!0},c=p=>p==="Bingo"||p==="Majority"?"highlight-green":p==="Lost"?"highlight-red":"",l=D(()=>{const p=new Set(o.value.matches.map(w=>w.week));return Array.from(p).sort((w,k)=>w-k)}),t=D(()=>d.value!==null?o.value.matches.filter(p=>p.week===d.value):o.value.matches);return L(async()=>{try{o.value=await K();const p=l.value;p.length>0&&(d.value=p[p.length-1])}catch(p){m.value=p.message}}),{currentResults:o,showModal:s,modalImage:v,errorMessage:m,selectedWeek:d,weeks:l,filteredMatches:t,openModal:r,getCellClass:c}}}),Z={class:"container"},J={key:0,class:"error"},Y={class:"table-container"},X={class:"results-table"},x={class:"table-caption"},ee={class:"week-button-group"},se=["onClick"],te={rowspan:2},oe={rowspan:2},ne={rowspan:2},ae=["src"];function le(o,s,v,m,d,r){const c=R("IconMarikasEye"),l=R("Modal");return u(),f("div",Z,[o.errorMessage?(u(),f("div",J,i(o.errorMessage),1)):g("",!0),e("div",Y,[e("table",X,[e("caption",x,[e("div",ee,[(u(!0),f(b,null,M(o.weeks,t=>(u(),f("button",{key:t,class:h(["week-button",{active:o.selectedWeek===t}]),onClick:p=>o.selectedWeek=t}," Week "+i(t),11,se))),128)),e("button",{class:h(["week-button",{active:o.selectedWeek===null}]),onClick:s[0]||(s[0]=t=>o.selectedWeek=null)}," All Weeks ",2)])]),s[2]||(s[2]=e("thead",null,[e("tr",null,[e("th",null,"Game"),e("th",null,"Player"),e("th",null,"Score"),e("th",null,"Outcome"),e("th",null,"Time"),e("th",null,"Board")])],-1)),e("tbody",null,[(u(!0),f(b,null,M(o.filteredMatches,(t,p)=>(u(),f(b,{key:p},[e("tr",{class:h({"new-game-row":p===0||o.filteredMatches[p-1].gameId!==t.gameId})},[e("td",te,i(t.gameId),1),e("td",{class:h(o.getCellClass(t.player1.outcome))},i(t.player1.name),3),e("td",{class:h(o.getCellClass(t.player1.outcome))},i(t.player1.score),3),e("td",{class:h(o.getCellClass(t.player1.outcome))},i(t.player1.outcome),3),e("td",oe,i(t.matchTime),1),e("td",ne,[t.imageLink?(u(),S(c,{key:0,onClick:w=>o.openModal(t.imageLink),class:"marika-eye"},null,8,["onClick"])):g("",!0)])],2),e("tr",null,[e("td",{class:h(o.getCellClass(t.player2.outcome))},i(t.player2.name),3),e("td",{class:h(o.getCellClass(t.player2.outcome))},i(t.player2.score),3),e("td",{class:h(o.getCellClass(t.player2.outcome))},i(t.player2.outcome),3)])],64))),128))])])]),(u(),S(P,{to:"body"},[$(l,{show:o.showModal,onClose:s[1]||(s[1]=t=>o.showModal=!1)},{default:E(()=>[e("img",{src:o.modalImage,alt:"Board",style:{"max-width":"100%",height:"auto"}},null,8,ae)]),_:1},8,["show"])]))])}const re=C(O,[["render",le],["__scopeId","data-v-40f2a17e"]]),ie=T({name:"UpcomingMatchCards",setup(){const o=y([]),s=y(null),v=async()=>{try{const d=await fetch("/data/RookieRumbleData/rookieRumbleUpcomingMatches.json");if(!d.ok)throw new Error(`Failed to fetch: ${d.statusText}`);const r=await d.json(),c=new Date;o.value=r.map(l=>{const t=new Date(l.scheduledAt),p=new Date(c.getTime()-2*60*60*1e3),w=t<=c&&t>=p;return{...l,isLive:w}}).filter(l=>{const t=new Date(l.scheduledAt),p=new Date(c.getTime()-2*60*60*1e3);return t>p})}catch(d){s.value=d.message}},m=d=>new Date(d).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"});return L(v),{matches:o,errorMessage:s,formatDate:m}}}),ce={class:"upcoming-matches"},de={key:0,class:"error"},ue={class:"match-grid"},me={class:"players"},pe={class:"player"},ve={class:"player"},fe={class:"scheduled"},he={class:"referee"},_e={key:0,class:"type"},ke={key:1,class:"live-badge"};function ye(o,s,v,m,d,r){return u(),f("div",ce,[o.errorMessage?(u(),f("div",de,i(o.errorMessage),1)):g("",!0),e("div",ue,[(u(!0),f(b,null,M(o.matches.slice(0,3),(c,l)=>(u(),f("div",{key:l,class:h(["match-card",{live:c.isLive}])},[e("h3",null,i(c.title),1),e("div",me,[e("span",pe,i(c.firstPlayer),1),s[0]||(s[0]=e("span",{class:"vs"},"vs",-1)),e("span",ve,i(c.secondPlayer),1)]),e("div",fe,i(o.formatDate(c.scheduledAt)),1),e("div",he," Match Referee: "+i(c.ref),1),c.matchType===2?(u(),f("div",_e,"Best of 3")):g("",!0),c.isLive?(u(),f("div",ke,"LIVE")):g("",!0)],2))),128))])])}const we=C(ie,[["render",ye],["__scopeId","data-v-fb61dc65"]]),ge=T({name:"RookieRumbleSquareStats",setup(){const o=y([]),s=y("name"),v=y("asc"),m=D(()=>[...o.value].sort((r,c)=>{const l=v.value==="asc"?1:-1,t=s.value;return typeof r[t]=="string"?r[t].localeCompare(c[t])*l:(parseFloat(r[t])-parseFloat(c[t]))*l}));L(async()=>{try{const c=await(await fetch("/data/RookieRumbleData/rookieRumbleSquareStats.json")).json(),l=Object.entries(c),t=42;o.value=l.map(([p,w])=>{const k=w.Completed||0,_=w.Appeared||0;return{name:p,completed:k,appeared:_,completedPercentage:_>0?(k/_*100).toFixed(1):"0.0",appearedPercentage:t>0?(_/t*100).toFixed(1):"0.0"}})}catch(r){console.error("Error loading square stats:",r)}});function d(r){s.value===r?v.value=v.value==="asc"?"desc":"asc":(s.value=r,v.value="desc")}return{sortedSquares:m,changeSort:d,sortKey:s,sortDirection:v}}}),$e={class:"stats-table-container"},be={class:"square-stats-table"};function Re(o,s,v,m,d,r){return u(),f("div",$e,[e("table",be,[e("thead",null,[e("tr",null,[e("th",{onClick:s[0]||(s[0]=c=>o.changeSort("name"))},"Square ▲▼"),e("th",{onClick:s[1]||(s[1]=c=>o.changeSort("completed"))},"Completed ▲▼"),e("th",{onClick:s[2]||(s[2]=c=>o.changeSort("appeared"))},"Appeared ▲▼"),e("th",{onClick:s[3]||(s[3]=c=>o.changeSort("completedPercentage"))},"Completed % ▲▼"),e("th",{onClick:s[4]||(s[4]=c=>o.changeSort("appearedPercentage"))},"Appeared % ▲▼")])]),e("tbody",null,[(u(!0),f(b,null,M(o.sortedSquares,(c,l)=>(u(),f("tr",{key:l},[e("td",null,i(c.name),1),e("td",null,i(c.completed),1),e("td",null,i(c.appeared),1),e("td",null,i(c.completedPercentage)+"%",1),e("td",null,i(c.appearedPercentage)+"%",1)]))),128))])])])}const Ce=C(ge,[["render",Re],["__scopeId","data-v-deedb2b1"]]),Me={},Le={class:"key-container"};function Se(o,s){return u(),f("div",Le,s[0]||(s[0]=[W('<div class="key-item" data-v-e295915b><div class="box green" data-v-e295915b></div><span class="label" data-v-e295915b>Qualified for Playoffs</span></div><div class="key-item" data-v-e295915b><div class="box red" data-v-e295915b></div><span class="label" data-v-e295915b>Eliminated from Playoffs</span></div>',2)]))}const Te=C(Me,[["render",Se],["__scopeId","data-v-e295915b"]]),Ie={class:"bracket-container"},De={class:"bracket-side"},Qe={class:"wrapper"},je={class:"item"},Ae={class:"item-childrens"},Ee={class:"item-child"},Pe={class:"item"},We={class:"item-childrens"},Fe={class:"item-child"},qe={class:"item"},Be={class:"item-child"},Ne={class:"item"},Ue={class:"item-childrens"},ze={class:"wrapper"},Ge={class:"item"},Ve={class:"item-childrens"},He={class:"item-child"},Ke={class:"item"},Oe={class:"item-childrens"},Ze={class:"item-child"},Je={class:"item"},Ye={class:"item-child"},Xe={class:"item"},xe={class:"item-childrens"},es={key:0,class:"match-details"},ss={class:"game-info"},ts={class:"player"},os={class:"player"},ns={class:"outcome"},as={key:0},ls={key:1},rs={key:0,class:"icon-row"},is=["href"],cs=["src"],ds={__name:"RookieRumbleBracket",setup(o){const s=y(!1),v=y(void 0),m=y({}),d=y(null);let r="Majority";async function c(){try{const _=await fetch("/data/RookieRumbleData/rookieRumblePlayoffMatches.json");if(!_.ok)throw new Error("Failed to load match data");m.value=await _.json()}catch(_){console.error("Error loading match data:",_)}}L(()=>{c()});function l(_){d.value=m.value[_]}function t(_){var a;const n=(a=m.value[_])==null?void 0:a[0];return n?`${n.player1.name} vs ${n.player2.name}`:"Match Not Played"}function p(_){v.value=_,s.value=!0}function w(_){const{player1:n,player2:a}=_;return n.name==="Doitz"&&n.outcome===r||a.name==="Doitz"&&a.outcome===r?"doitz-win":n.name==="Strump"&&n.outcome===r||a.name==="Strump"&&a.outcome===r?"strump-win":n.name==="Jay"&&n.outcome===r||a.name==="Jay"&&a.outcome===r?"jay-win":n.name==="Wander"&&n.outcome===r||a.name==="Wander"&&a.outcome===r?"wander-win":n.name==="Asym"&&n.outcome===r||a.name==="Asym"&&a.outcome===r?"asym-win":n.name==="Dino"&&n.outcome===r||a.name==="Dino"&&a.outcome===r?"dino-win":n.name==="Elymis"&&n.outcome===r||a.name==="Elymis"&&a.outcome===r?"elymis-win":n.name==="HooZher"&&n.outcome===r||a.name==="HooZher"&&a.outcome===r?"hoozher-win":{}}function k(_){var a;const n=(a=m.value[_])==null?void 0:a[0];return n?w(n):{}}return(_,n)=>(u(),f(b,null,[e("div",Ie,[e("div",De,[e("div",Qe,[e("div",je,[e("div",{class:"item-parent",onClick:n[0]||(n[0]=a=>l("Finals"))},[e("p",{class:h(k("Finals"))},i(t("Finals")),3)]),e("div",Ae,[e("div",Ee,[e("div",Pe,[e("div",{class:"item-parent",onClick:n[1]||(n[1]=a=>l("Semifinals-1"))},[e("p",{class:h(k("Semifinals-1"))},i(t("Semifinals-1")),3)]),e("div",We,[e("div",Fe,[e("div",qe,[e("div",{class:"item-parent no-parent-connector",onClick:n[2]||(n[2]=a=>l("Quarterfinals-1"))},[e("p",{class:h(k("Quarterfinals-1"))},i(t("Quarterfinals-1")),3)])])]),e("div",{class:"item-child",onClick:n[3]||(n[3]=a=>l("Quarterfinals-2"))},[e("p",{class:h(k("Quarterfinals-2"))},i(t("Quarterfinals-2")),3)])])])]),e("div",Be,[e("div",Ne,[e("div",{class:"item-parent",onClick:n[4]||(n[4]=a=>l("Semifinals-2"))},[e("p",{class:h(k("Semifinals-2"))},i(t("Semifinals-2")),3)]),e("div",Ue,[e("div",{class:"item-child",onClick:n[5]||(n[5]=a=>l("Quarterfinals-3"))},[e("p",{class:h(k("Quarterfinals-3"))},i(t("Quarterfinals-3")),3)]),e("div",{class:"item-child",onClick:n[6]||(n[6]=a=>l("Quarterfinals-4"))},[e("p",{class:h(k("Quarterfinals-4"))},i(t("Quarterfinals-4")),3)])])])])])])]),e("div",ze,[e("div",Ge,[e("div",{class:"item-parent",onClick:n[7]||(n[7]=a=>l("LosersFinals"))},[e("p",{class:h(k("LosersFinals"))},i(t("LosersFinals")),3)]),e("div",{class:"item-parent",onClick:n[8]||(n[8]=a=>l("LosersSemifinals"))},[e("p",{class:h(k("LosersSemifinals"))},i(t("LosersSemifinals")),3)]),e("div",Ve,[e("div",He,[e("div",Ke,[e("div",{class:"item-parent",onClick:n[9]||(n[9]=a=>l("LosersQuarterfinals-1"))},[e("p",{class:h(k("LosersQuarterfinals-1"))},i(t("LosersQuarterfinals-1")),3)]),e("div",Oe,[e("div",Ze,[e("div",Je,[e("div",{class:"item-parent no-parent-connector",onClick:n[10]||(n[10]=a=>l("LosersRound1-1"))},[e("p",{class:h(k("LosersRound1-1"))},i(t("LosersRound1-1")),3)])])])])])]),e("div",Ye,[e("div",Xe,[e("div",{class:"item-parent",onClick:n[11]||(n[11]=a=>l("LosersQuarterfinals-2"))},[e("p",{class:h(k("LosersQuarterfinals-2"))},i(t("LosersQuarterfinals-2")),3)]),e("div",xe,[e("div",{class:"item-child",onClick:n[12]||(n[12]=a=>l("LosersRound1-2"))},[e("p",{class:h(k("LosersRound1-2"))},i(t("LosersRound1-2")),3)])])])])])])])]),d.value?(u(),f("div",es,[n[14]||(n[14]=e("h2",null,"Match Details",-1)),(u(!0),f(b,null,M(d.value,a=>(u(),f("div",{class:h(["game-card",w(a)]),key:a.gameid},[e("div",ss,[e("div",ts,i(a.player1.name)+" - "+i(a.player1.score),1),e("div",os,i(a.player2.name)+" - "+i(a.player2.score),1),e("div",ns,[a.player1.outcome===I(r)||a.player2.outcome===I(r)?(u(),f("span",as," Winner: "+i(a.player1.outcome===I(r)?a.player1.name:a.player2.name),1)):(u(),f("span",ls," Winner: TBD "))]),a.imageLink||a.vodLink?(u(),f("div",rs,[a.imageLink?(u(),S(A,{key:0,onClick:_s=>p(a.imageLink),class:"marika-eye"},null,8,["onClick"])):g("",!0),a.vodLink?(u(),f("a",{key:1,href:a.vodLink,target:"_blank",class:"no-hover"},[$(Q)],8,is)):g("",!0)])):g("",!0)])],2))),128))])):g("",!0)]),(u(),S(P,{to:"body"},[$(j,{show:s.value,onClose:n[13]||(n[13]=a=>s.value=!1)},{default:E(()=>[e("img",{src:v.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,cs)]),_:1},8,["show"])]))],64))}},us=C(ds,[["__scopeId","data-v-a01cee26"]]),ms="/rookie-rumble-public/the-erdtree-elden-ring-thumb.jpg",ps="/rookie-rumble-public/Rookie_Rumble_2_Logo.png",vs=T({name:"RookieRumble",components:{RookieRumbleTable:H,Navigation:F,RookieRumbleResultsTable:re,RookieRumbleUpcomingMatches:we,RookieRumbleSquareStats:Ce,playoffKey:Te,PlayoffBracket:us},mounted(){document.body.style.backgroundColor="#10002b"},beforeUnmount(){document.body.style.backgroundColor="#0d1321"}}),fs={class:"main-container"};function hs(o,s,v,m,d,r){const c=R("Navigation"),l=R("RookieRumbleTable"),t=R("playoffKey"),p=R("RookieRumbleResultsTable");return u(),f("div",null,[$(c),e("div",fs,[s[0]||(s[0]=e("div",{class:"top-image-container"},[e("img",{src:ms,class:"background-img"}),e("img",{src:ps,class:"logo"})],-1)),s[1]||(s[1]=e("h1",{class:"Title"},"Rookie Rumble Standings",-1)),$(l),$(t),s[2]||(s[2]=e("h1",{class:"Title"},"Rookie Rumble Match Results",-1)),$(p)])])}const ys=C(vs,[["render",hs],["__scopeId","data-v-ea2f2c3e"]]);export{ys as default};
