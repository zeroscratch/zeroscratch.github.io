import{H as M}from"./HeaderGPT-BoKv2Mn-.js";import{t as S}from"./twitch-icon-DZarZw9j.js";import{_ as $,d as C,f as w,c,o as i,F as h,b as g,a as e,B as N,t as r,n as y,p as k,e as b,r as f,g as W,D as I,m as P}from"./index-DvuGzB8E.js";import{U as R}from"./GoldenOrderUpcomingMatches-BNgidsFt.js";import{_ as L}from"./SplittingErdtree2-E0p5C5bq.js";import{_ as T}from"./elden_squares-BChk0GbN.js";/* empty css                                                                  */const j=C({name:"CrucibleStandings",components:{TwitchIcon:S},setup(){const o=f({}),l=p=>{const[n,s]=p.split("-").map(Number);return{wins:n,losses:s}},v=p=>{const{wins:n,losses:s}=l(p.record),a=n+s,d=a>0?(n/a*100).toFixed(1):"0.0";return{...p,wins:n,losses:s,gamesPlayed:a,WR:d}},m=p=>[...p].sort((n,s)=>{var t,_;const a=n.losses>0?n.wins/n.losses:n.wins,d=s.losses>0?s.wins/s.losses:s.wins;return d!==a?d-a:(t=n.H2H)!=null&&t.includes(s.teamName)?-1:(_=s.H2H)!=null&&_.includes(n.teamName)?1:s.lines!==n.lines?s.lines-n.lines:s.squares!==n.squares?s.squares-n.squares:0});return W(async()=>{try{const n=await(await fetch("/data/ESS3/Crucible/crucibleTeams.json")).json(),s={};for(const[a,d]of Object.entries(n)){const t=Object.entries(d).map(([_,u])=>v({teamName:_,...u}));s[a]=m(t)}o.value=s}catch(p){console.error("Error loading crucibleTeams.json:",p)}}),{divisions:o}}}),q={class:"standings-wrapper"},B={class:"title"},E={class:"standings-list"},H={class:"col-rank-number"},V={class:"col-team"},O={class:"team-name"},D={class:"players"},F={class:"player"},U={class:"player-name"},A={key:0,class:"player-nickname"},z=["href"],G={class:"player"},J={class:"player-name"},K={key:0,class:"player-nickname"},Q=["href"],X={class:"col-record-spacing"},Y={class:"col-wr"},Z={class:"col-games"},x={class:"col-squares"},ss={class:"col-lines"};function es(o,l,v,m,p,n){const s=w("TwitchIcon");return i(),c("div",q,[(i(!0),c(h,null,g(o.divisions,(a,d)=>(i(),c("div",{key:d,class:"division-section"},[e("h1",B,r(d)+" Standings",1),l[0]||(l[0]=N('<div class="standings-header" data-v-b3c75c5f><div class="col-rank" data-v-b3c75c5f>Rank</div><div class="col-team" data-v-b3c75c5f>Team Name</div><div class="col-record" data-v-b3c75c5f>Record</div><div class="col-wr" data-v-b3c75c5f>WR%</div><div class="col-games" data-v-b3c75c5f>GP</div><div class="col-squares" data-v-b3c75c5f>Squares</div><div class="col-lines" data-v-b3c75c5f>Lines</div></div>',1)),e("div",E,[(i(!0),c(h,null,g(a,(t,_)=>(i(),c("div",{key:t.teamName,class:y(["team-card",{"playoff-yes":t.Playoffs==="yes","playoff-no":t.Playoffs==="no","playoff-maybe":t.Playoffs==="maybe"}])},[e("div",H,r(_+1),1),e("div",V,[e("h2",O,r(t.teamName),1),e("div",D,[e("div",F,[e("p",U,r(t.player1.name),1),t.player1.nickname?(i(),c("p",A,'"'+r(t.player1.nickname)+'"',1)):k("",!0),t.player1.twitch?(i(),c("a",{key:1,href:t.player1.twitch,class:"twitch-link",target:"_blank"},[b(s,{class:"icon"})],8,z)):k("",!0)]),e("div",G,[e("p",J,r(t.player2.name),1),t.player2.nickname?(i(),c("p",K,'"'+r(t.player2.nickname)+'"',1)):k("",!0),t.player2.twitch?(i(),c("a",{key:1,href:t.player2.twitch,class:"twitch-link",target:"_blank"},[b(s,{class:"icon"})],8,Q)):k("",!0)])])]),e("div",X,r(t.record),1),e("div",Y,r(t.WR)+"%",1),e("div",Z,r(t.gamesPlayed),1),e("div",x,r(t.squares),1),e("div",ss,r(t.lines),1)],2))),128))])]))),128))])}const as=$(j,[["render",es],["__scopeId","data-v-b3c75c5f"]]),os=C({name:"CrucibleMatchResults",setup(){const o=f([]),l=f(8),v=f(!1),m=f(null),p=[{label:"Week 1",value:1},{label:"Week 2",value:2},{label:"Week 3",value:3},{label:"Week 4",value:4},{label:"Week 5",value:5},{label:"Week 6",value:6},{label:"Week 7",value:7},{label:"Week 8",value:8},{label:"All Weeks",value:"all"}],n=async()=>{try{const u=await fetch("/data/ESS3/Crucible/crucibleSeasonMatches.json");o.value=await u.json()}catch(u){console.error("Error loading match data:",u)}},s=P(()=>l.value==="all"?o.value:o.value.filter(u=>u.week===l.value)),a=u=>{window.open(u,"_blank")},d=u=>{m.value=u,v.value=!0},t=()=>{v.value=!1,m.value=null},_=u=>u==="Bingo"||u==="Majority"?"winner":u==="Lost"?"loser":"";return W(n),{selectedWeek:l,weekOptions:p,filteredWeeks:s,openLink:a,openImageModal:d,closeModal:t,getPlayerClass:_,showModal:v,modalImage:m}}}),ts={class:"match-results-container"},ns={class:"week-selector"},ls=["onClick"],cs={class:"week-title"},is={class:"matches-list"},rs={class:"match-line"},ds={class:"score-line"},us={class:"match-details"},ps={class:"match-buttons"},vs=["onClick"],ms=["onClick"],_s={key:0,class:"no-results"},ks={class:"modal-content"},ys=["src"];function fs(o,l,v,m,p,n){return i(),c("div",ts,[l[4]||(l[4]=e("h2",{class:"title"},"Crucible Match Results",-1)),e("div",ns,[(i(!0),c(h,null,g(o.weekOptions,s=>(i(),c("button",{key:s.value,onClick:a=>o.selectedWeek=s.value,class:y(["week-button",{active:o.selectedWeek===s.value}])},r(s.label),11,ls))),128))]),(i(!0),c(h,null,g(o.filteredWeeks,s=>(i(),c("div",{key:s.week,class:"week-block"},[e("h3",cs,"Week "+r(s.week),1),e("div",is,[(i(!0),c(h,null,g(s.matches,a=>(i(),c("div",{key:a.gameId,class:"match-card"},[e("div",rs,[e("span",{class:y(["player-name",o.getPlayerClass(a.player1.outcome)])},r(a.player1.name),3),l[2]||(l[2]=e("span",{class:"vs-text"},"vs",-1)),e("span",{class:y(["player-name",o.getPlayerClass(a.player2.outcome)])},r(a.player2.name),3)]),e("div",ds,[e("span",{class:y(["player-score",o.getPlayerClass(a.player1.outcome)])},r(a.player1.score),3),l[3]||(l[3]=e("span",{class:"dash"}," - ",-1)),e("span",{class:y(["player-score",o.getPlayerClass(a.player2.outcome)])},r(a.player2.score),3)]),e("div",us,[e("p",null,"Match Time: "+r(a.matchTime),1)]),e("div",ps,[a.imageLink?(i(),c("button",{key:0,class:"match-button",onClick:d=>o.openImageModal(a.imageLink)}," View Board ",8,vs)):k("",!0),a.vodLink?(i(),c("button",{key:1,class:"match-button",onClick:d=>o.openLink(a.vodLink)}," Watch VOD ",8,ms)):k("",!0)])]))),128))])]))),128)),o.filteredWeeks.length===0?(i(),c("div",_s," No match data available for this week. ")):k("",!0),o.showModal?(i(),c("div",{key:1,class:"modal-overlay",onClick:l[1]||(l[1]=I((...s)=>o.closeModal&&o.closeModal(...s),["self"]))},[e("div",ks,[e("button",{class:"close-button",onClick:l[0]||(l[0]=(...s)=>o.closeModal&&o.closeModal(...s))},"âœ•"),e("img",{src:o.modalImage,alt:"Match Board",class:"modal-image"},null,8,ys)])])):k("",!0)])}const hs=$(os,[["render",fs],["__scopeId","data-v-f9116b34"]]),gs=C({name:"Crucible",components:{Navigation:M,Standings:as,Results:hs,UpcomingMatches:R},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),bs={class:"main-container"};function ws(o,l,v,m,p,n){const s=w("Navigation"),a=w("Standings"),d=w("Results");return i(),c("div",null,[b(s),e("div",bs,[l[0]||(l[0]=e("div",{class:"top-image-container"},[e("img",{src:L,class:"background-img"}),e("img",{src:T,class:"logo"})],-1)),b(a),b(d)])])}const Ps=$(gs,[["render",ws],["__scopeId","data-v-357fab3c"]]);export{Ps as default};
