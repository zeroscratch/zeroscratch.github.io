import{_ as B,d as M,r as f,e as v,f as _,o as c,c as g,a as e,y as S,z as L,t as l,v as b,g as C,F as Q,b as q,i as $,N as E,j as N}from"./index-KsjJEQHv.js";const F=M({name:"WeaponCost",setup(){const t=f([]),o=f(""),m=f(1),y=f(!1),w=n=>{const s=n.split(`
`).filter(d=>d.trim()!==""),u=[];for(let d=1;d<s.length;d++){const a=s[d].split(",").map(p=>p.trim());if(a.length>=4){const p=a[1],i=Number(a[2]),h=a[3],U=Number(a[4]);p&&i&&u.push({name:p,cost:i,strength:U,type:h==="1"?"Somber Weapon":"Smithing Weapon"})}}return u},W=async()=>{try{const s=await(await fetch("/data/Wiki/Weapons Edit - Weapons.csv.csv")).text();t.value=w(s)}catch(n){console.error("Error loading CSV:",n)}},r=v(()=>{if(!o.value)return null;const n=o.value.toLowerCase();return t.value.find(s=>s.name.toLowerCase().includes(n))||null}),k=v(()=>{const n=r.value;if(!n||!n.strength)return null;const s=n.strength*2,u=s%3>0?s/3+1:s/3;return Math.floor(u)}),V=v(()=>{let n=0;const s=r.value;if(!s)return 0;const u=s.cost,d=s.type==="Somber Weapon"?.5:.2,a=Math.max(1,Math.floor(m.value));return a===10&&d==.5?n=u*(a+d*(a*(a-1)/2)+.5):n=u*(a+d*(a*(a-1)/2)),Math.round(n)}),T=v(()=>{const n=r.value;if(!n)return[];const s=n.cost,u=n.type==="Somber Weapon"?.5:.2,d=Math.max(1,Math.floor(m.value)),a=[];let p=0;for(let i=1;i<=d;i++){const h=Math.round(s*(1+(i-1)*u));i===10&&u===.5?p+=s*6:p+=h,i===10&&u===.5?a.push({level:i,cost:s*6,running:p}):a.push({level:i,cost:h,running:p})}return a});return _(W),{searchQuery:o,filteredWeapon:r,upgradeLevel:m,totalUpgradeCost:V,breakdown:T,showBreakdown:y,minimumStrength:k}}}),D={class:"weapon-cost"},H={key:0,class:"result-box"},I={key:0},R={class:"upgrade-controls"},j={for:"upgrade"},z=["max"],A={class:"total-cost"},G={class:"highlight"},J={key:1,class:"breakdown-table"},K={key:1,class:"no-result"};function O(t,o,m,y,w,W){return c(),g("div",D,[o[8]||(o[8]=e("h2",null,"⚔️ Weapon Cost Lookup",-1)),S(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>t.searchQuery=r),type:"text",placeholder:"Search for a weapon...",class:"search-bar"},null,512),[[L,t.searchQuery]]),t.filteredWeapon?(c(),g("div",H,[e("h3",null,l(t.filteredWeapon.name),1),e("p",null,[o[3]||(o[3]=e("strong",null,"Base Cost:",-1)),b(" "+l(t.filteredWeapon.cost),1)]),e("p",null,[o[4]||(o[4]=e("strong",null,"Type:",-1)),b(" "+l(t.filteredWeapon.type),1)]),e("p",null,[o[5]||(o[5]=e("strong",null,"Strength Required:",-1)),b(" "+l(t.filteredWeapon.strength),1)]),t.minimumStrength!==null?(c(),g("p",I,[o[6]||(o[6]=e("strong",null,"Minimum (Two-Handed):",-1)),b(" "+l(t.minimumStrength),1)])):C("",!0),e("div",R,[e("label",j,[e("strong",null,"Upgrade Level: +"+l(t.upgradeLevel),1)]),S(e("input",{id:"upgrade",type:"range",min:1,max:t.filteredWeapon.type==="Somber Weapon"?10:25,"onUpdate:modelValue":o[1]||(o[1]=r=>t.upgradeLevel=r),class:"slider"},null,8,z),[[L,t.upgradeLevel,void 0,{number:!0}]])]),e("p",A,[e("strong",null,"Total Cost to +"+l(t.upgradeLevel)+": ",1),e("span",G,l(t.totalUpgradeCost.toLocaleString()),1)]),e("button",{type:"button",onClick:o[2]||(o[2]=r=>t.showBreakdown=!t.showBreakdown),class:"toggle-btn"},l(t.showBreakdown?"Hide":"Show")+" Breakdown ",1),t.showBreakdown?(c(),g("table",J,[o[7]||(o[7]=e("thead",null,[e("tr",null,[e("th",null,"Level"),e("th",null,"Cost at Level"),e("th",null,"Running Total")])],-1)),e("tbody",null,[(c(!0),g(Q,null,q(t.breakdown,r=>(c(),g("tr",{key:r.level},[e("td",null,"+"+l(r.level),1),e("td",null,l(r.cost.toLocaleString()),1),e("td",null,l(r.running.toLocaleString()),1)]))),128))])])):C("",!0)])):t.searchQuery?(c(),g("div",K," ❌ No weapon found with that name. ")):C("",!0)])}const P=B(F,[["render",O],["__scopeId","data-v-8aa496ba"]]),X=M({name:"Tools",components:{Navigation:E,WeaponWeightCalculator:P},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),Y={class:"main-container"};function Z(t,o,m,y,w,W){const r=N("Navigation"),k=N("WeaponWeightCalculator");return c(),g("div",null,[$(r),e("div",Y,[$(k)])])}const ee=B(X,[["render",Z],["__scopeId","data-v-dde01027"]]);export{ee as default};
