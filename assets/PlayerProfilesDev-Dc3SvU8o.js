import{_ as ae,d as le,c as y,o as p,a as s,g as z,F as q,b as Y,t as v,x as N,n as U,y as be,r as c,f as Se,i as se,j as oe,N as Pe}from"./index-BS9OTwnq.js";const ge=le({name:"PlayerProfiles",setup(){const o=c({}),a=c([]),V=c(null),$=c(""),D=c([]),W="/img/profilePics/Ignite_Logo.png",r=c({}),j=c({}),R=c([]),_=c([]),G=c([]),ne=c({}),I=c({}),re=c({}),L=c({}),Z=c({}),K=c({}),x=c({}),ee=c({}),H=c(!1),J=c(null),u=t=>(t??"").toString().trim().toLowerCase(),Q=(t,d)=>{const m=u(t);for(const b of d||[])if(m&&m===u(b))return!0;return!1},te=(t,d)=>{$.value=t,V.value=d;const m=Object.entries(r.value||{}).find(([,i])=>{var S,k;return((S=i==null?void 0:i.player1)==null?void 0:S.name)===t||((k=i==null?void 0:i.player2)==null?void 0:k.name)===t}),b=m?m[0]:null;let B=null;for(const i of Object.values(j.value||{})){const S=Object.entries(i||{}).find(([,k])=>{var e,l;return((e=k==null?void 0:k.player1)==null?void 0:e.name)===t||((l=k==null?void 0:k.player2)==null?void 0:l.name)===t});if(S){B=S[0];break}}let w=null;for(const i of Object.values(o.value||{}))if(i&&i[t]){w=i[t];break}const M=[];if(w){const i=(w["veilbreak-team1"]||"").trim(),S=(w["veilbreak-team2"]||"").trim();i&&M.push(i),S&&M.push(S)}const C=[...new Set(M)];D.value=ie(t,b,B,C)},ie=(t,d,m,b)=>{const B=[],w=(t||"").toString(),M=(e,l,n,f)=>{var P,O;B.push({gameId:e.gameId||e.gameid||`${(P=e.player1)==null?void 0:P.name}-${(O=e.player2)==null?void 0:O.name}-${e.matchTime||""}`,week:e._week??f.week??null,round:e._round??f.round??null,source:e._source||n||f.source||"Player-based",playerScore:l?e.player1.score:e.player2.score,opponentScore:l?e.player2.score:e.player1.score,opponent:l?e.player2.name:e.player1.name,outcome:l?e.player1.outcome:e.player2.outcome,vodLink:e.vodLink||"",imageLink:e.imageLink||"",matchTime:e.matchTime||null})},C=(e,l)=>{if(!e||!e.player1||!e.player2)return;const n=e.player1.name,f=e.player2.name;if(l.source==="ESS3 Golden Order"&&d&&(u(n)===u(d)||u(f)===u(d))){const P=u(n)===u(d);M(e,P,"Golden Order",l)}if(l.source==="ESS3 Crucible"&&m&&(u(n)===u(m)||u(f)===u(m))){const P=u(n)===u(m);M(e,P,"Crucible",l)}if(l.source==="veilBreak"&&Array.isArray(b)&&b.length>0&&(Q(n,b)||Q(f,b))){const P=Q(n,b)?n:f,O=u(n)===u(P);M(e,O,"VeilBreak",l)}(n===w||f===w)&&M(e,n===w,"Player-based",l)},i=(e,l={source:"player",round:null,week:null})=>{if(e){if(Array.isArray(e)){for(const n of e)if(n)if(n.player1&&n.player2)C(n,l);else if(n.matches&&Array.isArray(n.matches))for(const f of n.matches)C({...f,_week:n.week??f._week,_source:l.source},l);else i(n,l)}else if(typeof e=="object")for(const[n,f]of Object.entries(e)){const P=/quarter|semi|final|loser/i.test(n)&&!l.round?n:l.round;i(f,{...l,round:P})}}};i(a.value,{source:"player"}),d&&Array.isArray(R.value)&&i(R.value,{source:"ESS3 Golden Order"}),m&&Array.isArray(_.value)&&i(_.value,{source:"ESS3 Crucible"}),Array.isArray(b)&&b.length>0&&(I.value&&i(I.value,{source:"veilBreak"}),L.value&&i(L.value,{source:"veilBreak"})),Array.isArray(G.value)&&i(G.value,{source:"ESS3 Rookie Rumble"});const S=[],k=new Set;for(const e of B){const l=[(e.gameId??"").toString(),e.source??"",e.round??"",e.opponent??"",e.playerScore??"",e.opponentScore??""].join("|").toLowerCase();k.has(l)||(k.add(l),S.push(e))}return S},ce=t=>{if(typeof t=="string"){const d=t.toLowerCase();if(d.includes("bingo")||d.includes("majority"))return"winner";if(d.includes("lost")||d.includes("defeat"))return"loser"}return""},ue=t=>t&&window.open(t,"_blank"),de=t=>{J.value=t,H.value=!0},fe=()=>{H.value=!1,J.value=null};return Se(async()=>{try{const[t,d,m,b,B,w,M,C,i,S,k,e,l,n,f,P,O,ye]=await Promise.all([fetch("/data/ESS3/allPlayers.json"),fetch("/data/normalizedResults.json"),fetch("/data/playerPlayoffs.json"),fetch("/data/ESS3/GO/goldenOrderTeams.json"),fetch("/data/ESS3/Crucible/crucibleTeams.json"),fetch("/data/ESS3/GO/goldenOrderSeasonMatches.json"),fetch("/data/ESS3/Crucible/crucibleSeasonMatches.json"),fetch("/data/ESS3/RookieRumble/rookieRumbleSeasonMatches.json"),fetch("/data/RookieRumbleData/rookieRumbleMatchResults.json"),fetch("/data/RookieRumbleData/rookieRumblePlayoffMatches.json"),fetch("/data/cruciblePlayoffs.json"),fetch("/data/ScadubingoData/moonwalkMatches.json"),fetch("/data/ScadubingoData/omenVeilGroupsListed.json"),fetch("/data/ScadubingoData/omenVeilBracket.json"),fetch("/data/VeilBreakData/veilBreakTeams.json"),fetch("/data/VeilBreakData/veilBreakBracketMatches.json"),fetch("/data/VeilBreakData/veilBreakTeams2.json"),fetch("/data/VeilBreakData/veilBreakBracketMatches2.json")]);o.value=await t.json();const pe=await d.json(),ve=await m.json();r.value=await b.json(),j.value=await B.json(),R.value=await w.json(),_.value=await M.json(),G.value=await C.json(),Z.value=await S.json(),K.value=await k.json(),x.value=await e.json(),ee.value=await n.json(),ne.value=await f.json(),re.value=await O.json(),I.value=await P.json(),L.value=await ye.json();const ke=await l.json(),he=await i.json(),h=(T,E,F=null)=>{if(!E)return[];const A=[];if(Array.isArray(E)){for(const g of E)if(g)if(g.matches&&Array.isArray(g.matches))for(const X of g.matches)A.push({...X,_source:T,_round:F,_week:g.week||null});else g.player1&&g.player2?A.push({...g,_source:T,_round:F}):A.push(...h(T,g,F))}else if(typeof E=="object")for(const[g,X]of Object.entries(E)){const me=/quarter|semi|final|loser/i.test(g)?g:F;A.push(...h(T,X,me))}return A};a.value=[...h("Elden Squares Season 2",pe),...h("ESS2 Golden Order Playoffs",ve),...h("Off Season Rookie Rumble",he),...h("Off Season Rookie Rumble Playoffs",Z.value),...h("Golden Order",R.value),...h("Crucible",_.value),...h("ESS2 Crucible Playoffs",K.value),...h("Moonwalk",x.value),...h("Omenveil Groups",ke),...h("Omenveil Bracket",ee.value),...h("VeilBreak 1",I.value),...h("VeilBreak 2",L.value)]}catch(t){console.error("Error loading player or match data:",t)}}),{allPlayers:o,selectedPlayer:V,selectedPlayerName:$,selectPlayer:te,defaultProfilePic:W,playerMatches:D,getPlayerClass:ce,openLink:ue,openImageModal:de,closeModal:fe,showModal:H,modalImage:J}}}),we={class:"player-profiles"},Me={key:0,class:"player-list-section"},je={class:"division-title"},Re={class:"player-grid"},_e=["onClick"],Be=["src"],Ce={class:"player-name"},Oe={class:"player-team"},Ee={class:"player-record"},Ae={key:1,class:"player-details fade-in"},Ve={class:"player-layout"},$e={class:"player-info"},De=["src"],Ge={class:"player-meta"},Ie=["href"],Le={class:"player-matches"},Te={class:"matches-list"},Fe={class:"match-header"},ze={class:"match-source"},qe={class:"match-time"},Ne={class:"match-line"},Ue={class:"score-line"},We={class:"match-buttons"},He=["onClick"],Je=["onClick"],Qe={key:1,class:"no-matches"},Xe={class:"modal-content"},Ye=["src"];function Ze(o,a,V,$,D,W){return p(),y("div",we,[a[10]||(a[10]=s("h1",{class:"title"},"Player Profiles",-1)),o.selectedPlayer?(p(),y("div",Ae,[s("button",{class:"back-button",onClick:a[0]||(a[0]=r=>o.selectedPlayer=null)},"← Back to All Players"),s("div",Ve,[s("div",$e,[s("img",{src:o.selectedPlayer["profile-pic"]||o.defaultProfilePic,alt:"Profile Picture",class:"player-large-pic"},null,8,De),s("div",Ge,[s("h2",null,v(o.selectedPlayerName),1),s("p",null,[a[3]||(a[3]=s("strong",null,"Team:",-1)),N(" "+v(o.selectedPlayer.team),1)]),s("p",null,[a[4]||(a[4]=s("strong",null,"Nickname:",-1)),N(" "+v(o.selectedPlayer.nickname),1)]),s("p",null,[a[5]||(a[5]=s("strong",null,"Accolades:",-1)),N(" "+v(o.selectedPlayer.accolades),1)]),s("p",null,[a[6]||(a[6]=s("strong",null,"Bio:",-1)),N(" "+v(o.selectedPlayer.bio),1)]),o.selectedPlayer.twitch?(p(),y("a",{key:0,href:o.selectedPlayer.twitch,target:"_blank",class:"twitch-link"}," Watch on Twitch ",8,Ie)):z("",!0)])]),s("div",Le,[o.playerMatches.length>0?(p(),y(q,{key:0},[a[9]||(a[9]=s("h3",null,"Match History",-1)),s("div",Te,[(p(!0),y(q,null,Y(o.playerMatches,r=>(p(),y("div",{key:r.gameId,class:"match-card"},[s("div",Fe,[s("span",ze,v(r.source),1),s("span",qe,v(r.matchTime),1)]),s("div",Ne,[s("span",{class:U(["player-name",o.getPlayerClass(r.outcome)])},v(o.selectedPlayerName),3),a[7]||(a[7]=s("span",{class:"vs-text"},"vs",-1)),s("span",{class:U(["player-name",o.getPlayerClass(r.outcome)])},v(r.opponent),3)]),s("div",Ue,[s("span",{class:U(["player-score",o.getPlayerClass(r.outcome)])},v(r.playerScore),3),a[8]||(a[8]=s("span",{class:"dash"}," - ",-1)),s("span",{class:U(["player-score",o.getPlayerClass(r.outcome)])},v(r.opponentScore),3)]),s("div",We,[r.imageLink?(p(),y("button",{key:0,class:"match-button",onClick:j=>o.openImageModal(r.imageLink)}," View Board ",8,He)):z("",!0),r.vodLink?(p(),y("button",{key:1,class:"match-button",onClick:j=>o.openLink(r.vodLink)}," Watch VOD ",8,Je)):z("",!0)])]))),128))])],64)):(p(),y("div",Qe,"No matches found for this player."))])])])):(p(),y("div",Me,[(p(!0),y(q,null,Y(o.allPlayers,(r,j)=>(p(),y("div",{key:j,class:"division-section fade-in"},[s("h2",je,v(j),1),s("div",Re,[(p(!0),y(q,null,Y(r,(R,_)=>(p(),y("div",{key:_,class:"player-card",onClick:G=>o.selectPlayer(_,R)},[s("img",{src:R["profile-pic"]||o.defaultProfilePic,alt:"Profile Picture",class:"profile-pic"},null,8,Be),s("div",Ce,v(_),1),s("div",Oe,v(R.team),1),s("div",Ee,v(R["current-record"]),1)],8,_e))),128))])]))),128))])),o.showModal?(p(),y("div",{key:2,class:"modal-overlay",onClick:a[2]||(a[2]=be((...r)=>o.closeModal&&o.closeModal(...r),["self"]))},[s("div",Xe,[s("button",{class:"close-button",onClick:a[1]||(a[1]=(...r)=>o.closeModal&&o.closeModal(...r))},"✕"),s("img",{src:o.modalImage,alt:"Match Board",class:"modal-image"},null,8,Ye)])])):z("",!0)])}const Ke=ae(ge,[["render",Ze],["__scopeId","data-v-c6fdc9dc"]]),xe=le({name:"MainProfiles",components:{Navigation:Pe,FullProfiles:Ke},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),es={class:"main-container"};function ss(o,a,V,$,D,W){const r=oe("Navigation"),j=oe("FullProfiles");return p(),y("div",null,[se(r),s("div",es,[a[0]||(a[0]=s("h1",{class:"Title"},"Under Contruction",-1)),se(j)])])}const as=ae(xe,[["render",ss],["__scopeId","data-v-29213a3e"]]);export{as as default};
