import{d as x,r as v,g as S,c as i,t as s,a as t,F as B,b as I,o as r,_ as E,p as w,y as g,n as y,f as L,e as W,C as F,T as N}from"./index-DvuGzB8E.js";import{I as T,M as q}from"./IconMarikasEye-BYfeAb0b.js";import{Y as A}from"./youtube-icon-CJ0FE9h3.js";const D=async()=>{const u="/data/ESS2/goldenOrderSquareStats.json";try{const o=await fetch(u);if(!o.ok)throw new Error(`Failed to fetch challenge records: ${o.statusText}`);const p=await o.json();return{records:Object.entries(p).map(([c,d])=>({name:c,completed:d.Completed,appeared:d.Appeared,ratio:d.Ratio,appearance:d.Appearance}))}}catch(o){throw console.error(o),new Error("Failed to load challenge records. Please try again later.")}},G={class:"container"},O={key:0,class:"error"},j={key:1,class:"table-container"},P={class:"results-table"},Y={class:"left-column"},V=x({__name:"GoldenOrderSquareStatsTable",setup(u){const o=v({records:[]}),p=v(null),a=v("name"),c=v("asc");S(async()=>{let m=71;try{const n=await D();o.value.records=n.records.map(e=>{const h=e.appeared>0?Number((e.completed/e.appeared*100).toFixed(0)):0,M=Number((e.appeared/m*100).toFixed(0));return{...e,ratio:h,appearance:M}}),o.value.records.sort((e,h)=>e.name.localeCompare(h.name))}catch(n){p.value=n.message}});const d=m=>{a.value===m?c.value=c.value==="asc"?"desc":"asc":(a.value=m,c.value="desc"),o.value.records.sort((n,e)=>{let h=parseFloat(n[m]),M=parseFloat(e[m]);return c.value==="asc"?h-M:M-h})},k=()=>{a.value==="name"?c.value=c.value==="asc"?"desc":"asc":(a.value="name",c.value="desc"),o.value.records.sort((m,n)=>{const e=m.name.toLowerCase(),h=n.name.toLowerCase();return c.value==="asc"?e.localeCompare(h):h.localeCompare(e)})};return(m,n)=>(r(),i("div",G,[p.value?(r(),i("div",O,s(p.value),1)):(r(),i("div",j,[t("table",P,[t("thead",null,[t("tr",null,[t("th",{onClick:k,class:"sortable"},"Square Name ⬍"),t("th",{onClick:n[0]||(n[0]=e=>d("completed")),class:"sortable"},"Completed ⬍"),t("th",{onClick:n[1]||(n[1]=e=>d("appeared")),class:"sortable"},"Appeared ⬍"),t("th",{onClick:n[2]||(n[2]=e=>d("ratio")),class:"sortable"},"Completion % ⬍"),t("th",{onClick:n[3]||(n[3]=e=>d("appearance")),class:"sortable"},"Appearance % ⬍")])]),t("tbody",null,[(r(!0),i(B,null,I(o.value.records,(e,h)=>(r(),i("tr",{key:h},[t("td",Y,s(e.name),1),t("td",null,s(e.completed),1),t("td",null,s(e.appeared),1),t("td",null,s(e.ratio)+"%",1),t("td",null,s(e.appearance)+"%",1)]))),128))])])]))]))}}),Ce=E(V,[["__scopeId","data-v-ce1226ac"]]),R={name:"GoldenOrderPlayoffsBracket",components:{Modal:q,IconMarikasEye:T,YoutubeIcon:A},setup(){const u=v({}),o=v(null),p=v(null),a=v(!1),c=v(null),d=v(null);return S(async()=>{try{const l=await fetch("/data/playerPlayoffs.json");if(!l.ok)throw new Error("Failed to load Golden Order Playoffs data");u.value=await l.json()}catch(l){d.value=l.message,console.error("Error loading playoff data:",l)}}),{matches:u,selectedMatch:o,selectedMatchGames:p,selectMatch:l=>{o.value=l,p.value=u.value[l]||[]},getMatchLabel:l=>{const C=u.value[l];if(!C||!C.length)return"TBD";const _=C[0];return`${_.player1.name} vs ${_.player2.name}`},getMatchWinnerColor:l=>{const C=u.value[l];if(!C||!C.length)return"";const _={redmane:0,recusant:0};return C.forEach(f=>{const b=f.player1.outcome.toLowerCase().includes("win")&&!f.player2.outcome.toLowerCase().includes("win")?f.player1.division:f.player2.outcome.toLowerCase().includes("win")?f.player2.division:null;b&&_[b]!==void 0&&_[b]++}),_.redmane>_.recusant?"redmane-win":_.recusant>_.redmane?"recusant-win":""},getWinnerClass:l=>l.player1.outcome.toLowerCase().includes("win")?`${l.player1.division}-win`:l.player2.outcome.toLowerCase().includes("win")?`${l.player2.division}-win`:"",openModal:l=>{c.value=l,a.value=!0},showModal:a,modalImage:c,error:d}}},z={class:"bracket-container"},H={class:"wrapper"},J={class:"item"},K={class:"item-childrens"},Q={class:"item-child"},U={class:"item"},X={class:"item-childrens"},Z={class:"item-child"},$={class:"item"},ee={class:"item-child"},te={class:"item"},ae={class:"item-childrens"},oe={key:0,class:"match-details"},se={class:"game-info"},ne={class:"player"},le={class:"player"},re={class:"outcome"},ce={key:0},ie={key:1},de={key:2},he={key:0,class:"icon-row"},me=["href"],ve=["src"];function ue(u,o,p,a,c,d){const k=L("IconMarikasEye"),m=L("YoutubeIcon"),n=L("Modal");return r(),i("div",z,[t("div",H,[t("div",J,[t("div",{class:"item-parent",onClick:o[0]||(o[0]=e=>a.selectMatch("match-8"))},[t("p",{class:y(a.getMatchWinnerColor("match-8"))},s(a.getMatchLabel("match-8")),3)]),t("div",K,[t("div",Q,[t("div",U,[t("div",{class:"item-parent",onClick:o[1]||(o[1]=e=>a.selectMatch("match-5"))},[t("p",{class:y(a.getMatchWinnerColor("match-5"))},s(a.getMatchLabel("match-5")),3)]),t("div",X,[t("div",Z,[t("div",$,[t("div",{class:"item-parent no-parent-connector",onClick:o[2]||(o[2]=e=>a.selectMatch("match-2"))},[t("p",{class:y(a.getMatchWinnerColor("match-2"))},s(a.getMatchLabel("match-2")),3)])])]),t("div",{class:"item-child",onClick:o[3]||(o[3]=e=>a.selectMatch("match-1"))},[t("p",{class:y(a.getMatchWinnerColor("match-1"))},s(a.getMatchLabel("match-1")),3)])])])]),t("div",ee,[t("div",te,[t("div",{class:"item-parent",onClick:o[4]||(o[4]=e=>a.selectMatch("match-6"))},[t("p",{class:y(a.getMatchWinnerColor("match-6"))},s(a.getMatchLabel("match-6")),3)]),t("div",ae,[t("div",{class:"item-child",onClick:o[5]||(o[5]=e=>a.selectMatch("match-3"))},[t("p",{class:y(a.getMatchWinnerColor("match-3"))},s(a.getMatchLabel("match-3")),3)]),t("div",{class:"item-child",onClick:o[6]||(o[6]=e=>a.selectMatch("match-4"))},[t("p",{class:y(a.getMatchWinnerColor("match-4"))},s(a.getMatchLabel("match-4")),3)])])])])])]),t("div",{class:"third-place",onClick:o[7]||(o[7]=e=>a.selectMatch("match-7"))},[t("p",{class:y(a.getMatchWinnerColor("match-7"))},s(a.getMatchLabel("match-7")),3)])]),a.selectedMatchGames?(r(),i("div",oe,[o[9]||(o[9]=t("h2",null,"Match Details",-1)),(r(!0),i(B,null,I(a.selectedMatchGames,e=>(r(),i("div",{class:y(["game-card",a.getWinnerClass(e)]),key:e.gameid},[t("div",se,[t("div",ne,s(e.player1.name)+" ("+s(e.player1.division)+") - "+s(e.player1.score),1),t("div",le,s(e.player2.name)+" ("+s(e.player2.division)+") - "+s(e.player2.score),1),t("div",re,[e.player1.outcome.toLowerCase().includes("win")?(r(),i("span",ce," Winner: "+s(e.player1.name),1)):e.player2.outcome.toLowerCase().includes("win")?(r(),i("span",ie," Winner: "+s(e.player2.name),1)):(r(),i("span",de,"Winner: TBD"))]),e.imageLink||e.vodLink?(r(),i("div",he,[e.imageLink?(r(),g(k,{key:0,onClick:h=>a.openModal(e.imageLink),class:"marika-eye"},null,8,["onClick"])):w("",!0),e.vodLink?(r(),i("a",{key:1,href:e.vodLink,target:"_blank",class:"no-hover"},[W(m)],8,me)):w("",!0)])):w("",!0)])],2))),128))])):w("",!0),(r(),g(N,{to:"body"},[W(n,{show:a.showModal,onClose:o[8]||(o[8]=e=>a.showModal=!1)},{default:F(()=>[t("img",{src:a.modalImage,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,ve)]),_:1},8,["show"])]))])}const Me=E(R,[["render",ue],["__scopeId","data-v-3727bfb6"]]);export{Ce as S,Me as p};
