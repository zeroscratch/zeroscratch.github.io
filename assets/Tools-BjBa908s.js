import{_ as B,d as N,r as f,e as W,f as M,o as c,c as g,a as e,y as k,z as C,t as u,v as L,F as T,b as U,g as S,i as $,N as Q,j as _}from"./index-BJRFU5oP.js";const E=N({name:"WeaponCost",setup(){const o=f([]),t=f(""),m=f(1),h=f(!1),b=a=>{const l=a.split(`
`).filter(r=>r.trim()!==""),i=[];for(let r=1;r<l.length;r++){const n=l[r].split(",").map(p=>p.trim());if(n.length>=4){const p=n[1],d=Number(n[2]),v=n[3];p&&d&&i.push({name:p,cost:d,type:v==="1"?"Somber Weapon":"Smithing Weapon"})}}return i},y=async()=>{try{const l=await(await fetch("/data/Wiki/Weapons Edit - Weapons.csv.csv")).text();o.value=b(l)}catch(a){console.error("Error loading CSV:",a)}},s=W(()=>{if(!t.value)return null;const a=t.value.toLowerCase();return o.value.find(l=>l.name.toLowerCase().includes(a))||null}),w=W(()=>{let a=0;const l=s.value;if(!l)return 0;const i=l.cost,r=l.type==="Somber Weapon"?.5:.2,n=Math.max(1,Math.floor(m.value));return n===10&&r==.5?a=i*(n+r*(n*(n-1)/2)+.5):a=i*(n+r*(n*(n-1)/2)),Math.round(a)}),V=W(()=>{const a=s.value;if(!a)return[];const l=a.cost,i=a.type==="Somber Weapon"?.5:.2,r=Math.max(1,Math.floor(m.value)),n=[];let p=0;for(let d=1;d<=r;d++){const v=Math.round(l*(1+(d-1)*i));d===10&&i===.5?p+=l*6:p+=v,d===10&&i===.5?n.push({level:d,cost:l*6,running:p}):n.push({level:d,cost:v,running:p})}return n});return M(y),{searchQuery:t,filteredWeapon:s,upgradeLevel:m,totalUpgradeCost:w,breakdown:V,showBreakdown:h}}}),F={class:"weapon-cost"},D={key:0,class:"result-box"},I={class:"upgrade-controls"},j={for:"upgrade"},q=["max"],z={class:"total-cost"},A={class:"highlight"},H={key:0,class:"breakdown-table"},R={key:1,class:"no-result"};function G(o,t,m,h,b,y){return c(),g("div",F,[t[6]||(t[6]=e("h2",null,"⚔️ Weapon Cost Lookup",-1)),k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.searchQuery=s),type:"text",placeholder:"Search for a weapon...",class:"search-bar"},null,512),[[C,o.searchQuery]]),o.filteredWeapon?(c(),g("div",D,[e("h3",null,u(o.filteredWeapon.name),1),e("p",null,[t[3]||(t[3]=e("strong",null,"Base Cost:",-1)),L(" "+u(o.filteredWeapon.cost),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Type:",-1)),L(" "+u(o.filteredWeapon.type),1)]),e("div",I,[e("label",j,[e("strong",null,"Upgrade Level: +"+u(o.upgradeLevel),1)]),k(e("input",{id:"upgrade",type:"range",min:1,max:o.filteredWeapon.type==="Somber Weapon"?10:25,"onUpdate:modelValue":t[1]||(t[1]=s=>o.upgradeLevel=s),class:"slider"},null,8,q),[[C,o.upgradeLevel,void 0,{number:!0}]])]),e("p",z,[e("strong",null,"Total Cost to +"+u(o.upgradeLevel)+": ",1),e("span",A,u(o.totalUpgradeCost.toLocaleString()),1)]),e("button",{type:"button",onClick:t[2]||(t[2]=s=>o.showBreakdown=!o.showBreakdown),class:"toggle-btn"},u(o.showBreakdown?"Hide":"Show")+" Breakdown ",1),o.showBreakdown?(c(),g("table",H,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",null,"Level"),e("th",null,"Cost at Level"),e("th",null,"Running Total")])],-1)),e("tbody",null,[(c(!0),g(T,null,U(o.breakdown,s=>(c(),g("tr",{key:s.level},[e("td",null,"+"+u(s.level),1),e("td",null,u(s.cost.toLocaleString()),1),e("td",null,u(s.running.toLocaleString()),1)]))),128))])])):S("",!0)])):o.searchQuery?(c(),g("div",R," ❌ No weapon found with that name. ")):S("",!0)])}const J=B(E,[["render",G],["__scopeId","data-v-957c4c65"]]),K=N({name:"Tools",components:{Navigation:Q,WeaponWeightCalculator:J},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),O={class:"main-container"};function P(o,t,m,h,b,y){const s=_("Navigation"),w=_("WeaponWeightCalculator");return c(),g("div",null,[$(s),e("div",O,[$(w)])])}const Y=B(K,[["render",P],["__scopeId","data-v-983afdcd"]]);export{Y as default};
