import{_ as $,d as C,j as w,c,o as i,F as f,b as g,a as e,s as W,t as r,n as y,g as m,i as b,q as S,r as h,f as M,y as N,e as I,l as P,N as R}from"./index-CqRBkKZZ.js";import{U as L}from"./GoldenOrderUpcomingMatches-D1MbS2Uw.js";import{_ as T}from"./SplittingErdtree2-E0p5C5bq.js";const j=C({name:"CrucibleStandings",components:{TwitchIcon:S},setup(){const o=h({}),l=v=>{const[n,s]=v.split("-").map(Number);return{wins:n,losses:s}},p=v=>{const{wins:n,losses:s}=l(v.record),a=n+s,d=a>0?(n/a*100).toFixed(1):"0.0";return{...v,wins:n,losses:s,gamesPlayed:a,WR:d}},_=v=>[...v].sort((n,s)=>{var a,d;return s.wins!==n.wins?s.wins-n.wins:n.losses!==s.losses?n.losses-s.losses:s.lines!==n.lines?s.lines-n.lines:s.squares!==n.squares?s.squares-n.squares:(a=n.H2H)!=null&&a.includes(s.teamName)?-1:(d=s.H2H)!=null&&d.includes(n.teamName)?1:0});return M(async()=>{try{const n=await(await fetch("/data/ESS3/Crucible/crucibleTeams.json")).json(),s={};for(const[a,d]of Object.entries(n)){const t=Object.entries(d).map(([k,u])=>p({teamName:k,...u}));s[a]=_(t)}o.value=s}catch(v){console.error("Error loading crucibleTeams.json:",v)}}),{divisions:o}}}),q={class:"standings-wrapper"},B={class:"title"},E={class:"standings-list"},V={class:"col-rank-number"},O={class:"col-team"},H={class:"team-name"},D={class:"players"},F={class:"player"},U={class:"player-name"},z={key:0,class:"player-nickname"},A=["href"],G={class:"player"},J={class:"player-name"},K={key:0,class:"player-nickname"},Q=["href"],X={class:"col-record-spacing"},Y={class:"col-wr"},Z={class:"col-games"},x={class:"col-squares"},ss={class:"col-lines"};function es(o,l,p,_,v,n){const s=w("TwitchIcon");return i(),c("div",q,[(i(!0),c(f,null,g(o.divisions,(a,d)=>(i(),c("div",{key:d,class:"division-section"},[e("h1",B,r(d)+" Standings",1),l[0]||(l[0]=W('<div class="standings-header" data-v-7612891c><div class="col-rank" data-v-7612891c>Rank</div><div class="col-team" data-v-7612891c>Team Name</div><div class="col-record" data-v-7612891c>Record</div><div class="col-wr" data-v-7612891c>WR%</div><div class="col-games" data-v-7612891c>GP</div><div class="col-squares" data-v-7612891c>Squares</div><div class="col-lines" data-v-7612891c>Lines</div></div>',1)),e("div",E,[(i(!0),c(f,null,g(a,(t,k)=>(i(),c("div",{key:t.teamName,class:y(["team-card",{"playoff-yes":t.Playoffs==="yes","playoff-no":t.Playoffs==="no","playoff-maybe":t.Playoffs==="maybe"}])},[e("div",V,r(k+1),1),e("div",O,[e("h2",H,r(t.teamName),1),e("div",D,[e("div",F,[e("p",U,r(t.player1.name),1),t.player1.nickname?(i(),c("p",z,'"'+r(t.player1.nickname)+'"',1)):m("",!0),t.player1.twitch?(i(),c("a",{key:1,href:t.player1.twitch,class:"twitch-link",target:"_blank"},[b(s,{class:"icon"})],8,A)):m("",!0)]),e("div",G,[e("p",J,r(t.player2.name),1),t.player2.nickname?(i(),c("p",K,'"'+r(t.player2.nickname)+'"',1)):m("",!0),t.player2.twitch?(i(),c("a",{key:1,href:t.player2.twitch,class:"twitch-link",target:"_blank"},[b(s,{class:"icon"})],8,Q)):m("",!0)])])]),e("div",X,r(t.record),1),e("div",Y,r(t.WR)+"%",1),e("div",Z,r(t.gamesPlayed),1),e("div",x,r(t.squares),1),e("div",ss,r(t.lines),1)],2))),128))])]))),128))])}const as=$(j,[["render",es],["__scopeId","data-v-7612891c"]]),os=C({name:"CrucibleMatchResults",setup(){const o=h([]),l=h(5),p=h(!1),_=h(null),v=[{label:"Week 1",value:1},{label:"Week 2",value:2},{label:"Week 3",value:3},{label:"Week 4",value:4},{label:"Week 5",value:5},{label:"All Weeks",value:"all"}],n=async()=>{try{const u=await fetch("/data/ESS3/Crucible/crucibleSeasonMatches.json");o.value=await u.json()}catch(u){console.error("Error loading match data:",u)}},s=I(()=>l.value==="all"?o.value:o.value.filter(u=>u.week===l.value)),a=u=>{window.open(u,"_blank")},d=u=>{_.value=u,p.value=!0},t=()=>{p.value=!1,_.value=null},k=u=>u==="Bingo"||u==="Majority"?"winner":u==="Lost"?"loser":"";return M(n),{selectedWeek:l,weekOptions:v,filteredWeeks:s,openLink:a,openImageModal:d,closeModal:t,getPlayerClass:k,showModal:p,modalImage:_}}}),ts={class:"match-results-container"},ns={class:"week-selector"},ls=["onClick"],cs={class:"week-title"},is={class:"matches-list"},rs={class:"match-line"},ds={class:"score-line"},us={class:"match-details"},vs={class:"match-buttons"},ps=["onClick"],_s=["onClick"],ms={key:0,class:"no-results"},ys={class:"modal-content"},ks=["src"];function hs(o,l,p,_,v,n){return i(),c("div",ts,[l[4]||(l[4]=e("h2",{class:"title"},"Crucible Match Results",-1)),e("div",ns,[(i(!0),c(f,null,g(o.weekOptions,s=>(i(),c("button",{key:s.value,onClick:a=>o.selectedWeek=s.value,class:y(["week-button",{active:o.selectedWeek===s.value}])},r(s.label),11,ls))),128))]),(i(!0),c(f,null,g(o.filteredWeeks,s=>(i(),c("div",{key:s.week,class:"week-block"},[e("h3",cs,"Week "+r(s.week),1),e("div",is,[(i(!0),c(f,null,g(s.matches,a=>(i(),c("div",{key:a.gameId,class:"match-card"},[e("div",rs,[e("span",{class:y(["player-name",o.getPlayerClass(a.player1.outcome)])},r(a.player1.name),3),l[2]||(l[2]=e("span",{class:"vs-text"},"vs",-1)),e("span",{class:y(["player-name",o.getPlayerClass(a.player2.outcome)])},r(a.player2.name),3)]),e("div",ds,[e("span",{class:y(["player-score",o.getPlayerClass(a.player1.outcome)])},r(a.player1.score),3),l[3]||(l[3]=e("span",{class:"dash"}," - ",-1)),e("span",{class:y(["player-score",o.getPlayerClass(a.player2.outcome)])},r(a.player2.score),3)]),e("div",us,[e("p",null,"Match Time: "+r(a.matchTime),1)]),e("div",vs,[a.imageLink?(i(),c("button",{key:0,class:"match-button",onClick:d=>o.openImageModal(a.imageLink)}," View Board ",8,ps)):m("",!0),a.vodLink?(i(),c("button",{key:1,class:"match-button",onClick:d=>o.openLink(a.vodLink)}," Watch VOD ",8,_s)):m("",!0)])]))),128))])]))),128)),o.filteredWeeks.length===0?(i(),c("div",ms," No match data available for this week. ")):m("",!0),o.showModal?(i(),c("div",{key:1,class:"modal-overlay",onClick:l[1]||(l[1]=N((...s)=>o.closeModal&&o.closeModal(...s),["self"]))},[e("div",ys,[e("button",{class:"close-button",onClick:l[0]||(l[0]=(...s)=>o.closeModal&&o.closeModal(...s))},"âœ•"),e("img",{src:o.modalImage,alt:"Match Board",class:"modal-image"},null,8,ks)])])):m("",!0)])}const fs=$(os,[["render",hs],["__scopeId","data-v-5f07fdb6"]]),gs=C({name:"Crucible",components:{Navigation:R,Standings:as,Results:fs,UpcomingMatches:L},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),bs={class:"main-container"};function ws(o,l,p,_,v,n){const s=w("Navigation"),a=w("Standings"),d=w("Results");return i(),c("div",null,[b(s),e("div",bs,[l[0]||(l[0]=e("div",{class:"top-image-container"},[e("img",{src:T,class:"background-img"}),e("img",{src:P,class:"logo"})],-1)),b(a),b(d)])])}const Ws=$(gs,[["render",ws],["__scopeId","data-v-e06ed0cf"]]);export{Ws as default};
