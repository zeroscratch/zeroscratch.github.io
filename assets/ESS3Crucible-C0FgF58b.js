import{_ as b,d as C,m as S,r as y,f as M,j as $,o as c,c as i,F as f,b as g,a as e,t as r,q as N,g as _,i as w,e as W,n as h,x as I,l as R,N as L}from"./index-BJRFU5oP.js";import{U as T}from"./GoldenOrderUpcomingMatches-CJhsg82i.js";import{_ as j}from"./SplittingErdtree2-E0p5C5bq.js";const q=C({name:"CrucibleStandings",components:{TwitchIcon:S},setup(){const t=y({}),o=v=>{const[n,s]=v.split("-").map(Number);return{wins:n,losses:s}},p=v=>{const{wins:n,losses:s}=o(v.record),a=n+s,d=a>0?(n/a*100).toFixed(1):"0.0";return{...v,wins:n,losses:s,gamesPlayed:a,WR:d}},m=v=>[...v].sort((n,s)=>{var a,d;return s.wins!==n.wins?s.wins-n.wins:n.losses!==s.losses?n.losses-s.losses:s.lines!==n.lines?s.lines-n.lines:s.squares!==n.squares?s.squares-n.squares:(a=n.H2H)!=null&&a.includes(s.teamName)?-1:(d=s.H2H)!=null&&d.includes(n.teamName)?1:0});return M(async()=>{try{const n=await(await fetch("/data/ESS3/Crucible/crucibleTeams.json")).json(),s={};for(const[a,d]of Object.entries(n)){const l=Object.entries(d).map(([k,u])=>p({teamName:k,...u}));s[a]=m(l)}t.value=s}catch(v){console.error("Error loading crucibleTeams.json:",v)}}),{divisions:t}}}),P={class:"standings-wrapper"},B={class:"title"},E={class:"standings-list"},V={class:"col-rank-number"},O={class:"col-team"},H={class:"team-name"},D={class:"players"},F={class:"player"},U={class:"player-name"},z={key:0,class:"player-nickname"},A=["href"],G={class:"player"},J={class:"player-name"},K={key:0,class:"player-nickname"},Q=["href"],X={class:"col-record-spacing"},Y={class:"col-wr"},Z={class:"col-games"},x={class:"col-squares"},ss={class:"col-lines"};function es(t,o,p,m,v,n){const s=$("TwitchIcon");return c(),i("div",P,[(c(!0),i(f,null,g(t.divisions,(a,d)=>(c(),i("div",{key:d,class:"division-section"},[e("h1",B,r(d)+" Standings",1),o[0]||(o[0]=N('<div class="standings-header" data-v-c509799f><div class="col-rank" data-v-c509799f>Rank</div><div class="col-team" data-v-c509799f>Team Name</div><div class="col-record" data-v-c509799f>Record</div><div class="col-wr" data-v-c509799f>WR%</div><div class="col-games" data-v-c509799f>GP</div><div class="col-squares" data-v-c509799f>Squares</div><div class="col-lines" data-v-c509799f>Lines</div></div>',1)),e("div",E,[(c(!0),i(f,null,g(a,(l,k)=>(c(),i("div",{key:l.teamName,class:"team-card"},[e("div",V,r(k+1),1),e("div",O,[e("h2",H,r(l.teamName),1),e("div",D,[e("div",F,[e("p",U,r(l.player1.name),1),l.player1.nickname?(c(),i("p",z,'"'+r(l.player1.nickname)+'"',1)):_("",!0),l.player1.twitch?(c(),i("a",{key:1,href:l.player1.twitch,class:"twitch-link",target:"_blank"},[w(s,{class:"icon"})],8,A)):_("",!0)]),e("div",G,[e("p",J,r(l.player2.name),1),l.player2.nickname?(c(),i("p",K,'"'+r(l.player2.nickname)+'"',1)):_("",!0),l.player2.twitch?(c(),i("a",{key:1,href:l.player2.twitch,class:"twitch-link",target:"_blank"},[w(s,{class:"icon"})],8,Q)):_("",!0)])])]),e("div",X,r(l.record),1),e("div",Y,r(l.WR)+"%",1),e("div",Z,r(l.gamesPlayed),1),e("div",x,r(l.squares),1),e("div",ss,r(l.lines),1)]))),128))])]))),128))])}const as=b(q,[["render",es],["__scopeId","data-v-c509799f"]]),ts=C({name:"CrucibleMatchResults",setup(){const t=y([]),o=y(2),p=y(!1),m=y(null),v=[{label:"Week 1",value:1},{label:"Week 2",value:2},{label:"All Weeks",value:"all"}],n=async()=>{try{const u=await fetch("/data/ESS3/Crucible/crucibleSeasonMatches.json");t.value=await u.json()}catch(u){console.error("Error loading match data:",u)}},s=W(()=>o.value==="all"?t.value:t.value.filter(u=>u.week===o.value)),a=u=>{window.open(u,"_blank")},d=u=>{m.value=u,p.value=!0},l=()=>{p.value=!1,m.value=null},k=u=>u==="Bingo"||u==="Majority"?"winner":u==="Lost"?"loser":"";return M(n),{selectedWeek:o,weekOptions:v,filteredWeeks:s,openLink:a,openImageModal:d,closeModal:l,getPlayerClass:k,showModal:p,modalImage:m}}}),ns={class:"match-results-container"},os={class:"week-selector"},ls=["onClick"],cs={class:"week-title"},is={class:"matches-list"},rs={class:"match-line"},ds={class:"score-line"},us={class:"match-details"},vs={class:"match-buttons"},ps=["onClick"],ms=["onClick"],_s={key:0,class:"no-results"},ks={class:"modal-content"},hs=["src"];function ys(t,o,p,m,v,n){return c(),i("div",ns,[o[4]||(o[4]=e("h2",{class:"title"},"Crucible Match Results",-1)),e("div",os,[(c(!0),i(f,null,g(t.weekOptions,s=>(c(),i("button",{key:s.value,onClick:a=>t.selectedWeek=s.value,class:h(["week-button",{active:t.selectedWeek===s.value}])},r(s.label),11,ls))),128))]),(c(!0),i(f,null,g(t.filteredWeeks,s=>(c(),i("div",{key:s.week,class:"week-block"},[e("h3",cs,"Week "+r(s.week),1),e("div",is,[(c(!0),i(f,null,g(s.matches,a=>(c(),i("div",{key:a.gameId,class:"match-card"},[e("div",rs,[e("span",{class:h(["player-name",t.getPlayerClass(a.player1.outcome)])},r(a.player1.name),3),o[2]||(o[2]=e("span",{class:"vs-text"},"vs",-1)),e("span",{class:h(["player-name",t.getPlayerClass(a.player2.outcome)])},r(a.player2.name),3)]),e("div",ds,[e("span",{class:h(["player-score",t.getPlayerClass(a.player1.outcome)])},r(a.player1.score),3),o[3]||(o[3]=e("span",{class:"dash"}," - ",-1)),e("span",{class:h(["player-score",t.getPlayerClass(a.player2.outcome)])},r(a.player2.score),3)]),e("div",us,[e("p",null,"Match Time: "+r(a.matchTime),1)]),e("div",vs,[a.imageLink?(c(),i("button",{key:0,class:"match-button",onClick:d=>t.openImageModal(a.imageLink)}," View Board ",8,ps)):_("",!0),a.vodLink?(c(),i("button",{key:1,class:"match-button",onClick:d=>t.openLink(a.vodLink)}," Watch VOD ",8,ms)):_("",!0)])]))),128))])]))),128)),t.filteredWeeks.length===0?(c(),i("div",_s," No match data available for this week. ")):_("",!0),t.showModal?(c(),i("div",{key:1,class:"modal-overlay",onClick:o[1]||(o[1]=I((...s)=>t.closeModal&&t.closeModal(...s),["self"]))},[e("div",ks,[e("button",{class:"close-button",onClick:o[0]||(o[0]=(...s)=>t.closeModal&&t.closeModal(...s))},"âœ•"),e("img",{src:t.modalImage,alt:"Match Board",class:"modal-image"},null,8,hs)])])):_("",!0)])}const fs=b(ts,[["render",ys],["__scopeId","data-v-9c8513e7"]]),gs=C({name:"Crucible",components:{Navigation:L,Standings:as,Results:fs,UpcomingMatches:T},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),ws={class:"main-container"};function $s(t,o,p,m,v,n){const s=$("Navigation"),a=$("Standings"),d=$("Results");return c(),i("div",null,[w(s),e("div",ws,[o[0]||(o[0]=e("div",{class:"top-image-container"},[e("img",{src:j,class:"background-img"}),e("img",{src:R,class:"logo"})],-1)),w(a),w(d)])])}const Ss=b(gs,[["render",$s],["__scopeId","data-v-ced8a61d"]]);export{Ss as default};
