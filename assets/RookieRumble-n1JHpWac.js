import{_ as C,m as P,r as w,f as L,j as $,o as m,c as f,a as e,F as R,b as M,n as h,t as i,i as b,g,d as T,M as D,I as F,e as Q,h as S,w as j,T as B,q as A,u as I,N as E}from"./index-hwzaPSc9.js";const W="/data/RookieRumbleData/rookieRumbleStandings.json";async function q(){const s=await(await fetch(W)).json(),p=Object.entries(s).map(([u,d])=>{const l=d.wins,c=d.losses,r=l+c,t=N(d.opponentWins,d.opponentLoss);return{...d,name:u,games:r,wr:V(l,r),sos:t}});return p.sort((u,d)=>{if(d.wins!==u.wins)return d.wins-u.wins;const l=parseInt(u.wr),c=parseInt(d.wr);return c!==l?c-l:d.sos!==u.sos?d.sos-u.sos:d.victory.includes(u.name)?d.wins-u.wins:d.lines!==u.lines?d.lines-u.lines:d.squares-u.squares}).forEach((u,d)=>{u.standing=d+1}),p}function V(o,s){if(s===0)return"0%";const p=o/s*100;return`${Math.round(p)}%`}function N(o,s){const p=o+s;return p===0?0:o/p}const G={name:"RookieRumbleTable",components:{TwitchIcon:P},setup(){const o=w([]),s=p=>p==="yes"?"qualified-yes":p==="maybe"?"qualified-maybe":"qualified-no";return L(async()=>{o.value=await q()}),{players:o,getQualificationClass:s}}},U={class:"table-container"},K=["href"];function O(o,s,p,u,d,l){const c=$("TwitchIcon");return m(),f("div",U,[e("table",null,[s[0]||(s[0]=e("thead",null,[e("tr",null,[e("th",null,"Standing"),e("th",null,"Player"),e("th",null,"Wins"),e("th",null,"Losses"),e("th",null,"WR"),e("th",null,"Games"),e("th",null,"Squares"),e("th",null,"Lines"),e("th",null,"Twitch")])],-1)),e("tbody",null,[(m(!0),f(R,null,M(u.players,r=>(m(),f("tr",{key:r.name,class:h(u.getQualificationClass(r.qualified))},[e("td",null,i(r.standing),1),e("td",null,i(r.name),1),e("td",null,i(r.wins),1),e("td",null,i(r.losses),1),e("td",null,i(r.wr),1),e("td",null,i(r.games),1),e("td",null,i(r.squares),1),e("td",null,i(r.lines),1),e("td",null,[r.twitch?(m(),f("a",{key:0,href:r.twitch,class:"twitch-link"},[b(c,{class:"icon"})],8,K)):g("",!0)])],2))),128))])])])}const z=C(G,[["render",O],["__scopeId","data-v-16a76517"]]);async function H(){const o="/data/RookieRumbleData/rookieRumbleMatchResults.json";try{const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch stats: ${s.statusText}`);const p=await s.json();if(!Array.isArray(p))throw new Error("Invalid format: expected an array of weeks.");return{matches:p.flatMap(d=>d.matches.map(l=>({...l,week:d.week})))}}catch(s){throw console.error(s),new Error("Failed to load Rookie Rumble Match Results. Please try again later.")}}const J=T({name:"RookieRumbleResultsTable",components:{Modal:D,IconMarikasEye:F},setup(){const o=w({matches:[]}),s=w(!1),p=w(null),u=w(null),d=w(null),l=v=>{p.value=v,s.value=!0},c=v=>v==="Bingo"||v==="Majority"?"highlight-green":v==="Lost"?"highlight-red":"",r=Q(()=>{const v=new Set(o.value.matches.map(y=>y.week));return Array.from(v).sort((y,k)=>y-k)}),t=Q(()=>d.value!==null?o.value.matches.filter(v=>v.week===d.value):o.value.matches);return L(async()=>{try{o.value=await H();const v=r.value;v.length>0&&(d.value=v[v.length-1])}catch(v){u.value=v.message}}),{currentResults:o,showModal:s,modalImage:p,errorMessage:u,selectedWeek:d,weeks:r,filteredMatches:t,openModal:l,getCellClass:c}}}),Y={class:"container"},Z={key:0,class:"error"},X={class:"table-container"},x={class:"results-table"},ee={class:"table-caption"},se={class:"week-button-group"},te=["onClick"],oe={rowspan:2},ne={rowspan:2},ae={rowspan:2},le=["src"];function re(o,s,p,u,d,l){const c=$("IconMarikasEye"),r=$("Modal");return m(),f("div",Y,[o.errorMessage?(m(),f("div",Z,i(o.errorMessage),1)):g("",!0),e("div",X,[e("table",x,[e("caption",ee,[e("div",se,[(m(!0),f(R,null,M(o.weeks,t=>(m(),f("button",{key:t,class:h(["week-button",{active:o.selectedWeek===t}]),onClick:v=>o.selectedWeek=t}," Week "+i(t),11,te))),128)),e("button",{class:h(["week-button",{active:o.selectedWeek===null}]),onClick:s[0]||(s[0]=t=>o.selectedWeek=null)}," All Weeks ",2)])]),s[2]||(s[2]=e("thead",null,[e("tr",null,[e("th",null,"Game"),e("th",null,"Player"),e("th",null,"Score"),e("th",null,"Outcome"),e("th",null,"Time"),e("th",null,"Board")])],-1)),e("tbody",null,[(m(!0),f(R,null,M(o.filteredMatches,(t,v)=>(m(),f(R,{key:v},[e("tr",{class:h({"new-game-row":v===0||o.filteredMatches[v-1].gameId!==t.gameId})},[e("td",oe,i(t.gameId),1),e("td",{class:h(o.getCellClass(t.player1.outcome))},i(t.player1.name),3),e("td",{class:h(o.getCellClass(t.player1.outcome))},i(t.player1.score),3),e("td",{class:h(o.getCellClass(t.player1.outcome))},i(t.player1.outcome),3),e("td",ne,i(t.matchTime),1),e("td",ae,[t.imageLink?(m(),S(c,{key:0,onClick:y=>o.openModal(t.imageLink),class:"marika-eye"},null,8,["onClick"])):g("",!0)])],2),e("tr",null,[e("td",{class:h(o.getCellClass(t.player2.outcome))},i(t.player2.name),3),e("td",{class:h(o.getCellClass(t.player2.outcome))},i(t.player2.score),3),e("td",{class:h(o.getCellClass(t.player2.outcome))},i(t.player2.outcome),3)])],64))),128))])])]),(m(),S(B,{to:"body"},[b(r,{show:o.showModal,onClose:s[1]||(s[1]=t=>o.showModal=!1)},{default:j(()=>[e("img",{src:o.modalImage,alt:"Board",style:{"max-width":"100%",height:"auto"}},null,8,le)]),_:1},8,["show"])]))])}const ie=C(J,[["render",re],["__scopeId","data-v-40f2a17e"]]),ce=T({name:"UpcomingMatchCards",setup(){const o=w([]),s=w(null),p=async()=>{try{const l=await fetch("/data/RookieRumbleData/rookieRumbleUpcomingMatches.json");if(!l.ok)throw new Error(`Failed to fetch: ${l.statusText}`);const c=await l.json(),r=new Date;o.value=c.map(t=>{const v=new Date(t.scheduledAt),y=new Date(r.getTime()-2*60*60*1e3),k=v<=r&&v>=y;return{...t,isLive:k}}).filter(t=>{const v=new Date(t.scheduledAt),y=new Date(r.getTime()-2*60*60*1e3);return v>y})}catch(l){s.value=l.message}},u=l=>new Date(l).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"}),d=l=>{l.isLive&&window.open("https://www.twitch.tv/hoozher")};return L(p),{matches:o,errorMessage:s,formatDate:u,handleMatchClick:d}}}),de={class:"upcoming-matches"},ue={key:0,class:"error"},me={class:"match-grid"},pe=["onClick"],ve={class:"players"},fe={class:"player"},he={class:"player"},ke={class:"scheduled"},_e={class:"referee"},ye={key:0,class:"type"},we={key:1,class:"live-badge"};function be(o,s,p,u,d,l){return m(),f("div",de,[o.errorMessage?(m(),f("div",ue,i(o.errorMessage),1)):g("",!0),e("div",me,[(m(!0),f(R,null,M(o.matches.slice(0,3),(c,r)=>(m(),f("div",{key:r,class:h(["match-card",{live:c.isLive}]),onClick:t=>o.handleMatchClick(c),style:{cursor:"pointer"}},[e("h3",null,i(c.title),1),e("div",ve,[e("span",fe,i(c.firstPlayer),1),s[0]||(s[0]=e("span",{class:"vs"},"vs",-1)),e("span",he,i(c.secondPlayer),1)]),e("div",ke,i(o.formatDate(c.scheduledAt)),1),e("div",_e,i(c.ref),1),c.matchType===2?(m(),f("div",ye,"Best of 3")):g("",!0),c.isLive?(m(),f("div",we,"LIVE")):g("",!0)],10,pe))),128))])])}const ge=C(ce,[["render",be],["__scopeId","data-v-4cbbd122"]]),$e=T({name:"RookieRumbleSquareStats",setup(){const o=w([]),s=w("name"),p=w("asc"),u=Q(()=>[...o.value].sort((l,c)=>{const r=p.value==="asc"?1:-1,t=s.value;return typeof l[t]=="string"?l[t].localeCompare(c[t])*r:(parseFloat(l[t])-parseFloat(c[t]))*r}));L(async()=>{try{const c=await(await fetch("/data/RookieRumbleData/rookieRumbleSquareStats.json")).json(),r=Object.entries(c),t=42;o.value=r.map(([v,y])=>{const k=y.Completed||0,_=y.Appeared||0;return{name:v,completed:k,appeared:_,completedPercentage:_>0?(k/_*100).toFixed(1):"0.0",appearedPercentage:t>0?(_/t*100).toFixed(1):"0.0"}})}catch(l){console.error("Error loading square stats:",l)}});function d(l){s.value===l?p.value=p.value==="asc"?"desc":"asc":(s.value=l,p.value="desc")}return{sortedSquares:u,changeSort:d,sortKey:s,sortDirection:p}}}),Re={class:"stats-table-container"},Ce={class:"square-stats-table"};function Me(o,s,p,u,d,l){return m(),f("div",Re,[e("table",Ce,[e("thead",null,[e("tr",null,[e("th",{onClick:s[0]||(s[0]=c=>o.changeSort("name"))},"Square ▲▼"),e("th",{onClick:s[1]||(s[1]=c=>o.changeSort("completed"))},"Completed ▲▼"),e("th",{onClick:s[2]||(s[2]=c=>o.changeSort("appeared"))},"Appeared ▲▼"),e("th",{onClick:s[3]||(s[3]=c=>o.changeSort("completedPercentage"))},"Completed % ▲▼"),e("th",{onClick:s[4]||(s[4]=c=>o.changeSort("appearedPercentage"))},"Appeared % ▲▼")])]),e("tbody",null,[(m(!0),f(R,null,M(o.sortedSquares,(c,r)=>(m(),f("tr",{key:r},[e("td",null,i(c.name),1),e("td",null,i(c.completed),1),e("td",null,i(c.appeared),1),e("td",null,i(c.completedPercentage)+"%",1),e("td",null,i(c.appearedPercentage)+"%",1)]))),128))])])])}const Le=C($e,[["render",Me],["__scopeId","data-v-deedb2b1"]]),Se={},Te={class:"key-container"};function Ie(o,s){return m(),f("div",Te,s[0]||(s[0]=[A('<div class="key-item" data-v-e295915b><div class="box green" data-v-e295915b></div><span class="label" data-v-e295915b>Qualified for Playoffs</span></div><div class="key-item" data-v-e295915b><div class="box red" data-v-e295915b></div><span class="label" data-v-e295915b>Eliminated from Playoffs</span></div>',2)]))}const Qe=C(Se,[["render",Ie],["__scopeId","data-v-e295915b"]]),Pe={class:"bracket-container"},De={class:"bracket-side"},Fe={class:"wrapper"},je={class:"item"},Be={class:"item-childrens"},Ae={class:"item-child"},Ee={class:"item"},We={class:"item-childrens"},qe={class:"item-child"},Ve={class:"item"},Ne={class:"item-child"},Ge={class:"item"},Ue={class:"item-childrens"},Ke={class:"wrapper"},Oe={class:"item"},ze={class:"item-childrens"},He={class:"item-child"},Je={class:"item"},Ye={class:"item-childrens"},Ze={class:"item-child"},Xe={class:"item"},xe={class:"item-child"},es={class:"item"},ss={class:"item-childrens"},ts={key:0,class:"match-details"},os={class:"game-info"},ns={class:"player"},as={class:"player"},ls={class:"outcome"},rs={key:0},is={key:1},cs={key:0,class:"icon-row"},ds=["href"],us=["src"],ms={__name:"RookieRumbleBracket",setup(o){const s=w(!1),p=w(void 0),u=w({}),d=w(null);let l="Majority";async function c(){try{const _=await fetch("/data/RookieRumbleData/rookieRumblePlayoffMatches.json");if(!_.ok)throw new Error("Failed to load match data");u.value=await _.json()}catch(_){console.error("Error loading match data:",_)}}L(()=>{c()});function r(_){d.value=u.value[_]}function t(_){var a;const n=(a=u.value[_])==null?void 0:a[0];return n?`${n.player1.name} vs ${n.player2.name}`:"Match Not Played"}function v(_){p.value=_,s.value=!0}function y(_){const{player1:n,player2:a}=_;return n.name==="Lemon"&&n.outcome===l||a.name==="Lemon"&&a.outcome===l?"lemon-win":n.name==="Vakrash"&&n.outcome===l||a.name==="Vakrash"&&a.outcome===l?"vakrash-win":n.name==="Vexphile"&&n.outcome===l||a.name==="Vexphile"&&a.outcome===l?"vexphile-win":n.name==="Jibbe"&&n.outcome===l||a.name==="Jibbe"&&a.outcome===l?"jibbe-win":n.name==="Dyrax"&&n.outcome===l||a.name==="Dyrax"&&a.outcome===l?"dyrax-win":n.name==="Vord"&&n.outcome===l||a.name==="Vord"&&a.outcome===l?"vord-win":n.name==="Thomas"&&n.outcome===l||a.name==="Thomas"&&a.outcome===l?"thomas-win":n.name==="TurtleBeard"&&n.outcome===l||a.name==="TurtleBeard"&&a.outcome===l?"turtlebeard-win":{}}function k(_){var a;const n=(a=u.value[_])==null?void 0:a[0];return n?y(n):{}}return(_,n)=>(m(),f(R,null,[e("div",Pe,[e("div",De,[e("div",Fe,[e("div",je,[e("div",{class:"item-parent",onClick:n[0]||(n[0]=a=>r("GrandFinals"))},[e("p",{class:h(k("GrandFinals"))},i(t("GrandFinals")),3)]),e("div",{class:"item-parent",onClick:n[1]||(n[1]=a=>r("Finals"))},[e("p",{class:h(k("Finals"))},i(t("Finals")),3)]),e("div",Be,[e("div",Ae,[e("div",Ee,[e("div",{class:"item-parent",onClick:n[2]||(n[2]=a=>r("Semifinals-1"))},[e("p",{class:h(k("Semifinals-1"))},i(t("Semifinals-1")),3)]),e("div",We,[e("div",qe,[e("div",Ve,[e("div",{class:"item-parent no-parent-connector",onClick:n[3]||(n[3]=a=>r("Quarterfinals-1"))},[e("p",{class:h(k("Quarterfinals-1"))},i(t("Quarterfinals-1")),3)])])]),e("div",{class:"item-child",onClick:n[4]||(n[4]=a=>r("Quarterfinals-2"))},[e("p",{class:h(k("Quarterfinals-2"))},i(t("Quarterfinals-2")),3)])])])]),e("div",Ne,[e("div",Ge,[e("div",{class:"item-parent",onClick:n[5]||(n[5]=a=>r("Semifinals-2"))},[e("p",{class:h(k("Semifinals-2"))},i(t("Semifinals-2")),3)]),e("div",Ue,[e("div",{class:"item-child",onClick:n[6]||(n[6]=a=>r("Quarterfinals-3"))},[e("p",{class:h(k("Quarterfinals-3"))},i(t("Quarterfinals-3")),3)]),e("div",{class:"item-child",onClick:n[7]||(n[7]=a=>r("Quarterfinals-4"))},[e("p",{class:h(k("Quarterfinals-4"))},i(t("Quarterfinals-4")),3)])])])])])])]),e("div",Ke,[e("div",Oe,[e("div",{class:"item-parent",onClick:n[8]||(n[8]=a=>r("LosersFinals"))},[e("p",{class:h(k("LosersFinals"))},i(t("LosersFinals")),3)]),e("div",{class:"item-parent",onClick:n[9]||(n[9]=a=>r("LosersSemifinals"))},[e("p",{class:h(k("LosersSemifinals"))},i(t("LosersSemifinals")),3)]),e("div",ze,[e("div",He,[e("div",Je,[e("div",{class:"item-parent",onClick:n[10]||(n[10]=a=>r("LosersQuarterfinals-1"))},[e("p",{class:h(k("LosersQuarterfinals-1"))},i(t("LosersQuarterfinals-1")),3)]),e("div",Ye,[e("div",Ze,[e("div",Xe,[e("div",{class:"item-parent no-parent-connector",onClick:n[11]||(n[11]=a=>r("LosersRound1-1"))},[e("p",{class:h(k("LosersRound1-1"))},i(t("LosersRound1-1")),3)])])])])])]),e("div",xe,[e("div",es,[e("div",{class:"item-parent",onClick:n[12]||(n[12]=a=>r("LosersQuarterfinals-2"))},[e("p",{class:h(k("LosersQuarterfinals-2"))},i(t("LosersQuarterfinals-2")),3)]),e("div",ss,[e("div",{class:"item-child",onClick:n[13]||(n[13]=a=>r("LosersRound1-2"))},[e("p",{class:h(k("LosersRound1-2"))},i(t("LosersRound1-2")),3)])])])])])])])]),d.value?(m(),f("div",ts,[n[15]||(n[15]=e("h2",null,"Match Details",-1)),(m(!0),f(R,null,M(d.value,a=>(m(),f("div",{class:h(["game-card",y(a)]),key:a.gameid},[e("div",os,[e("div",ns,i(a.player1.name)+" - "+i(a.player1.score),1),e("div",as,i(a.player2.name)+" - "+i(a.player2.score),1),e("div",ls,[a.player1.outcome===I(l)||a.player2.outcome===I(l)?(m(),f("span",rs," Winner: "+i(a.player1.outcome===I(l)?a.player1.name:a.player2.name),1)):(m(),f("span",is," Winner: TBD "))]),a.imageLink||a.vodLink?(m(),f("div",cs,[a.imageLink?(m(),S(F,{key:0,onClick:ys=>v(a.imageLink),class:"marika-eye"},null,8,["onClick"])):g("",!0),a.vodLink?(m(),f("a",{key:1,href:a.vodLink,target:"_blank",class:"no-hover"},[b(P)],8,ds)):g("",!0)])):g("",!0)])],2))),128))])):g("",!0)]),(m(),S(B,{to:"body"},[b(D,{show:s.value,onClose:n[14]||(n[14]=a=>s.value=!1)},{default:j(()=>[e("img",{src:p.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,us)]),_:1},8,["show"])]))],64))}},ps=C(ms,[["__scopeId","data-v-9925330b"]]),vs="/rookie-rumble-public/the-erdtree-elden-ring-thumb.jpg",fs="/rookie-rumble-public/Rookie_Rumble_2_Logo.png",hs=T({name:"RookieRumble",components:{RookieRumbleTable:z,Navigation:E,RookieRumbleResultsTable:ie,RookieRumbleUpcomingMatches:ge,RookieRumbleSquareStats:Le,playoffKey:Qe,PlayoffBracket:ps},mounted(){document.body.style.backgroundColor="#10002b"},beforeUnmount(){document.body.style.backgroundColor="#0d1321"}}),ks={class:"main-container"};function _s(o,s,p,u,d,l){const c=$("Navigation"),r=$("RookieRumbleUpcomingMatches"),t=$("PlayoffBracket"),v=$("RookieRumbleTable"),y=$("playoffKey"),k=$("RookieRumbleResultsTable");return m(),f("div",null,[b(c),e("div",ks,[s[0]||(s[0]=e("div",{class:"top-image-container"},[e("img",{src:vs,class:"background-img"}),e("img",{src:fs,class:"logo"})],-1)),s[1]||(s[1]=e("h1",{class:"Title"},"Upcoming Matches",-1)),b(r),s[2]||(s[2]=e("h1",{class:"Title-Gold"},"Rookie Rumble Playoffs",-1)),b(t),s[3]||(s[3]=e("h1",{class:"Title"},"Rookie Rumble Standings",-1)),b(v),b(y),s[4]||(s[4]=e("h1",{class:"Title"},"Rookie Rumble Match Results",-1)),b(k)])])}const bs=C(hs,[["render",_s],["__scopeId","data-v-60cc6cde"]]);export{bs as default};
