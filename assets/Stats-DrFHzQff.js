import{d as b,r as v,f as C,o as u,c as i,t as p,a as t,F as S,b as $,_ as h,i as w,j as g}from"./index-B6Cc1oNV.js";const k=async()=>{const _="/data/goldenOrderSquareStats.json";try{const s=await fetch(_);if(!s.ok)throw new Error(`Failed to fetch challenge records: ${s.statusText}`);const c=await s.json();return{records:Object.entries(c).map(([o,l])=>({name:o,completed:l.Completed,appeared:l.Appeared,ratio:l.Ratio,appearance:l.Appearance}))}}catch(s){throw console.error(s),new Error("Failed to load challenge records. Please try again later.")}},F={class:"container"},x={key:0,class:"error"},y={key:1,class:"table-container"},A={class:"results-table"},B={class:"left-column"},N=b({__name:"GoldenOrderSquareStatsTable",setup(_){const s=v({records:[]}),c=v(null),d=v("name"),o=v("asc");C(async()=>{let n=16;try{const a=await k();s.value.records=a.records.map(e=>{const r=e.appeared>0?Number((e.completed/e.appeared*100).toFixed(0)):0,m=Number((e.appeared/n*100).toFixed(0));return{...e,ratio:r,appearance:m}}),s.value.records.sort((e,r)=>e.name.localeCompare(r.name))}catch(a){c.value=a.message}});const l=n=>{d.value===n?o.value=o.value==="asc"?"desc":"asc":(d.value=n,o.value="desc"),s.value.records.sort((a,e)=>{let r=parseFloat(a[n]),m=parseFloat(e[n]);return o.value==="asc"?r-m:m-r})},f=()=>{d.value==="name"?o.value=o.value==="asc"?"desc":"asc":(d.value="name",o.value="desc"),s.value.records.sort((n,a)=>{const e=n.name.toLowerCase(),r=a.name.toLowerCase();return o.value==="asc"?e.localeCompare(r):r.localeCompare(e)})};return(n,a)=>(u(),i("div",F,[c.value?(u(),i("div",x,p(c.value),1)):(u(),i("div",y,[t("table",A,[t("thead",null,[t("tr",null,[t("th",{onClick:f,class:"sortable"},"Square Name ⬍"),t("th",{onClick:a[0]||(a[0]=e=>l("completed")),class:"sortable"},"Completed ⬍"),t("th",{onClick:a[1]||(a[1]=e=>l("appeared")),class:"sortable"},"Appeared ⬍"),t("th",{onClick:a[2]||(a[2]=e=>l("ratio")),class:"sortable"},"Completion % ⬍"),t("th",{onClick:a[3]||(a[3]=e=>l("appearance")),class:"sortable"},"Appearance % ⬍")])]),t("tbody",null,[(u(!0),i(S,null,$(s.value.records,(e,r)=>(u(),i("tr",{key:r},[t("td",B,p(e.name),1),t("td",null,p(e.completed),1),t("td",null,p(e.appeared),1),t("td",null,p(e.ratio)+"%",1),t("td",null,p(e.appearance)+"%",1)]))),128))])])]))]))}}),q=h(N,[["__scopeId","data-v-046f68f5"]]),R={name:"Stats",components:{DeathsRecord:q}};function j(_,s,c,d,o,l){const f=g("DeathsRecord");return u(),i("div",null,[w(f)])}const O=h(R,[["render",j],["__scopeId","data-v-76990029"]]);export{O as default};
