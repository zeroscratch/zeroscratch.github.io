import{_ as ae,d as oe,c as t,o as r,a as e,i as le,F as V,b as N,n as U,t as n,w as ge,g as I,x as $,z as Pe,C as Se,m as we,r as f,f as re,y as je,j as te,N as Re}from"./index-B8BMHuJL.js";const Me=oe({name:"AllLeaguePlayerProfiles",setup(){const s=f([]),l=f("Golden Order"),O=f(null),T=async()=>{try{const[o,y,m]=await Promise.all([fetch("/data/ESS3/GO/goldenOrderTeams.json").then(k=>k.json()),fetch("/data/ESS3/Crucible/crucibleTeams.json").then(k=>k.json()),fetch("/data/ESS3/RookieRumble/rookieRumbleStandings.json").then(k=>k.json())]),i=(k,L)=>({name:L,divisions:[{name:null,teams:Object.entries(k).map(([_,A])=>({teamName:_,...A}))}]}),E=(k,L)=>({name:L,divisions:Object.entries(k).map(([_,A])=>({name:_,teams:Object.entries(A).map(([J,Q])=>({teamName:J,...Q}))}))}),Z=(k,L)=>({name:L,divisions:[{name:null,teams:Object.entries(k).map(([_,A])=>({teamName:_,...A}))}]});s.value=[i(o,"Golden Order"),E(y,"Crucible"),Z(m,"Rookie Rumble")]}catch(o){console.error("Error loading player data:",o)}},D=(o,y,m)=>{O.value={...o,teamName:y,leagueName:m}},F=()=>{O.value=null};return re(T),{leagues:s,activeTab:l,selectedPlayer:O,selectPlayer:D,goBack:F}}}),$e={class:"player-profiles"},_e={class:"tabs"},Ce=["onClick"],Be={key:"player-view",class:"player-details"},Oe={class:"details-card"},Ee=["src"],Ae={key:0,class:"nickname"},Ve={class:"stats"},Te=["href"],De={key:"league-grid"},Le={key:0,class:"division-name"},Ge={class:"teams-grid"},Ne={class:"team-name"},Ie={key:0,class:"player-row"},Fe=["onClick"],qe=["src"],ze=["onClick"],He=["src"],We=["onClick"],Ue=["src"];function Je(s,l,O,T,D,F){return r(),t("div",$e,[l[9]||(l[9]=e("h1",null,"All League Player Profiles",-1)),e("div",_e,[(r(!0),t(V,null,N(s.leagues,o=>(r(),t("button",{key:o.name,class:U(["tab-button",{active:s.activeTab===o.name}]),onClick:()=>{s.activeTab=o.name,s.selectedPlayer=null}},n(o.name),11,Ce))),128))]),le(we,{name:"fade-slide",mode:"out-in"},{default:ge(()=>{var o;return[s.selectedPlayer?(r(),t("div",Be,[e("button",{class:"back-button",onClick:l[0]||(l[0]=(...y)=>s.goBack&&s.goBack(...y))},"← Back"),e("div",Oe,[e("img",{src:s.selectedPlayer["profile-pic"]||"/assets/default-pfp.png",class:"player-img-large",alt:"Profile"},null,8,Ee),e("h2",null,n(s.selectedPlayer.name),1),s.selectedPlayer.nickname?(r(),t("p",Ae," ("+n(s.selectedPlayer.nickname)+") ",1)):I("",!0),e("p",null,[l[1]||(l[1]=e("strong",null,"League:",-1)),$(" "+n(s.selectedPlayer.leagueName),1)]),e("p",null,[l[2]||(l[2]=e("strong",null,"Team:",-1)),$(" "+n(s.selectedPlayer.teamName),1)]),e("div",Ve,[e("p",null,[l[3]||(l[3]=e("strong",null,"Record:",-1)),$(" "+n(s.selectedPlayer.record),1)]),e("p",null,[l[4]||(l[4]=e("strong",null,"Squares:",-1)),$(" "+n(s.selectedPlayer.squares),1)]),e("p",null,[l[5]||(l[5]=e("strong",null,"Lines:",-1)),$(" "+n(s.selectedPlayer.lines),1)]),e("p",null,[l[6]||(l[6]=e("strong",null,"WR:",-1)),$(" "+n(s.selectedPlayer.WR),1)]),e("p",null,[l[7]||(l[7]=e("strong",null,"H2H:",-1)),$(" "+n((o=s.selectedPlayer.H2H)==null?void 0:o.join(", ")),1)]),e("p",null,[l[8]||(l[8]=e("strong",null,"Playoffs:",-1)),$(" "+n(s.selectedPlayer.Playoffs),1)])]),s.selectedPlayer.twitch?(r(),t("a",{key:1,href:s.selectedPlayer.twitch,target:"_blank",class:"twitch-link"},"View Twitch",8,Te)):I("",!0)])])):(r(),t("div",De,[(r(!0),t(V,null,N(s.leagues,y=>Pe((r(),t("div",{key:y.name,class:"league-section"},[(r(!0),t(V,null,N(y.divisions,m=>(r(),t("div",{key:m.name},[m.name?(r(),t("h3",Le,n(m.name),1)):I("",!0),e("div",Ge,[(r(!0),t(V,null,N(m.teams,i=>(r(),t("div",{key:i.teamName,class:"team-card"},[e("h3",Ne,n(i.teamName),1),i.player1?(r(),t("div",Ie,[e("div",{class:"player",onClick:E=>s.selectPlayer(i.player1,i.teamName,y.name)},[e("img",{src:i.player1["profile-pic"]||"/assets/default-pfp.png",class:"player-img"},null,8,qe),e("p",null,n(i.player1.name)+" ("+n(i.player1.nickname)+")",1)],8,Fe),e("div",{class:"player",onClick:E=>s.selectPlayer(i.player2,i.teamName,y.name)},[e("img",{src:i.player2["profile-pic"]||"/assets/default-pfp.png",class:"player-img"},null,8,He),e("p",null,n(i.player2.name)+" ("+n(i.player2.nickname)+")",1)],8,ze)])):(r(),t("div",{key:1,class:"solo-player",onClick:E=>s.selectPlayer(i,i.teamName,y.name)},[e("img",{src:i["profile-pic"]||"/assets/default-pfp.png",class:"player-img"},null,8,Ue),e("p",null,n(i.teamName),1)],8,We))]))),128))])]))),128))])),[[Se,s.activeTab===y.name]])),128))]))]}),_:1})])}const Qe=ae(Me,[["render",Je],["__scopeId","data-v-df291a4b"]]),Xe=oe({name:"PlayerProfiles",setup(){const s=f({}),l=f([]),O=f(null),T=f(""),D=f([]),F="/img/profilePics/Ignite_Logo.png",o=f({}),y=f({}),m=f([]),i=f([]),E=f([]),Z=f({}),k=f({}),L=f({}),_=f({}),A=f({}),J=f({}),Q=f({}),ne=f({}),K=f(!1),x=f(null),v=d=>(d??"").toString().trim().toLowerCase(),ee=(d,h)=>{const S=v(d);for(const w of h||[])if(S&&S===v(w))return!0;return!1},ie=(d,h)=>{T.value=d,O.value=h;const S=Object.entries(o.value||{}).find(([,p])=>{var j,g;return((j=p==null?void 0:p.player1)==null?void 0:j.name)===d||((g=p==null?void 0:p.player2)==null?void 0:g.name)===d}),w=S?S[0]:null;let G=null;for(const p of Object.values(y.value||{})){const j=Object.entries(p||{}).find(([,g])=>{var a,c;return((a=g==null?void 0:g.player1)==null?void 0:a.name)===d||((c=g==null?void 0:g.player2)==null?void 0:c.name)===d});if(j){G=j[0];break}}let C=null;for(const p of Object.values(s.value||{}))if(p&&p[d]){C=p[d];break}const B=[];if(C){const p=(C["veilbreak-team1"]||"").trim(),j=(C["veilbreak-team2"]||"").trim();p&&B.push(p),j&&B.push(j)}const q=[...new Set(B)];D.value=ce(d,w,G,q)},ce=(d,h,S,w)=>{const G=[],C=(d||"").toString(),B=(a,c,u,b)=>{var R,z;G.push({gameId:a.gameId||a.gameid||`${(R=a.player1)==null?void 0:R.name}-${(z=a.player2)==null?void 0:z.name}-${a.matchTime||""}`,week:a._week??b.week??null,round:a._round??b.round??null,source:a._source||u||b.source||"Player-based",playerScore:c?a.player1.score:a.player2.score,opponentScore:c?a.player2.score:a.player1.score,opponent:c?a.player2.name:a.player1.name,outcome:c?a.player1.outcome:a.player2.outcome,vodLink:a.vodLink||"",imageLink:a.imageLink||"",matchTime:a.matchTime||null})},q=(a,c)=>{if(!a||!a.player1||!a.player2)return;const u=a.player1.name,b=a.player2.name;if(c.source==="ESS3 Golden Order"&&h&&(v(u)===v(h)||v(b)===v(h))){const R=v(u)===v(h);B(a,R,"Golden Order",c)}if(c.source==="ESS3 Crucible"&&S&&(v(u)===v(S)||v(b)===v(S))){const R=v(u)===v(S);B(a,R,"Crucible",c)}if(c.source==="veilBreak"&&Array.isArray(w)&&w.length>0&&(ee(u,w)||ee(b,w))){const R=ee(u,w)?u:b,z=v(u)===v(R);B(a,z,"VeilBreak",c)}(u===C||b===C)&&B(a,u===C,"Player-based",c)},p=(a,c={source:"player",round:null,week:null})=>{if(a){if(Array.isArray(a)){for(const u of a)if(u)if(u.player1&&u.player2)q(u,c);else if(u.matches&&Array.isArray(u.matches))for(const b of u.matches)q({...b,_week:u.week??b._week,_source:c.source},c);else p(u,c)}else if(typeof a=="object")for(const[u,b]of Object.entries(a)){const R=/quarter|semi|final|loser/i.test(u)&&!c.round?u:c.round;p(b,{...c,round:R})}}};p(l.value,{source:"player"}),h&&Array.isArray(m.value)&&p(m.value,{source:"ESS3 Golden Order"}),S&&Array.isArray(i.value)&&p(i.value,{source:"ESS3 Crucible"}),Array.isArray(w)&&w.length>0&&(k.value&&p(k.value,{source:"veilBreak"}),_.value&&p(_.value,{source:"veilBreak"})),Array.isArray(E.value)&&p(E.value,{source:"ESS3 Rookie Rumble"});const j=[],g=new Set;for(const a of G){const c=[(a.gameId??"").toString(),a.source??"",a.round??"",a.opponent??"",a.playerScore??"",a.opponentScore??""].join("|").toLowerCase();g.has(c)||(g.add(c),j.push(a))}return j},ue=d=>{if(typeof d=="string"){const h=d.toLowerCase();if(h.includes("bingo")||h.includes("majority"))return"winner";if(h.includes("lost")||h.includes("defeat"))return"loser"}return""},de=d=>d&&window.open(d,"_blank"),pe=d=>{x.value=d,K.value=!0},fe=()=>{K.value=!1,x.value=null};return re(async()=>{try{const[d,h,S,w,G,C,B,q,p,j,g,a,c,u,b,R,z,ye]=await Promise.all([fetch("/data/ESS3/allPlayers.json"),fetch("/data/normalizedResults.json"),fetch("/data/playerPlayoffs.json"),fetch("/data/ESS3/GO/goldenOrderTeams.json"),fetch("/data/ESS3/Crucible/crucibleTeams.json"),fetch("/data/ESS3/GO/goldenOrderSeasonMatches.json"),fetch("/data/ESS3/Crucible/crucibleSeasonMatches.json"),fetch("/data/ESS3/RookieRumble/rookieRumbleSeasonMatches.json"),fetch("/data/RookieRumbleData/rookieRumbleMatchResults.json"),fetch("/data/RookieRumbleData/rookieRumblePlayoffMatches.json"),fetch("/data/cruciblePlayoffs.json"),fetch("/data/ScadubingoData/moonwalkMatches.json"),fetch("/data/ScadubingoData/omenVeilGroupsListed.json"),fetch("/data/ScadubingoData/omenVeilBracket.json"),fetch("/data/VeilBreakData/veilBreakTeams.json"),fetch("/data/VeilBreakData/veilBreakBracketMatches.json"),fetch("/data/VeilBreakData/veilBreakTeams2.json"),fetch("/data/VeilBreakData/veilBreakBracketMatches2.json")]);s.value=await d.json();const me=await h.json(),ke=await S.json();o.value=await w.json(),y.value=await G.json(),m.value=await C.json(),i.value=await B.json(),E.value=await q.json(),A.value=await j.json(),J.value=await g.json(),Q.value=await a.json(),ne.value=await u.json(),Z.value=await b.json(),L.value=await z.json(),k.value=await R.json(),_.value=await ye.json();const ve=await c.json(),he=await p.json(),P=(X,H,Y=null)=>{if(!H)return[];const W=[];if(Array.isArray(H)){for(const M of H)if(M)if(M.matches&&Array.isArray(M.matches))for(const se of M.matches)W.push({...se,_source:X,_round:Y,_week:M.week||null});else M.player1&&M.player2?W.push({...M,_source:X,_round:Y}):W.push(...P(X,M,Y))}else if(typeof H=="object")for(const[M,se]of Object.entries(H)){const be=/quarter|semi|final|loser/i.test(M)?M:Y;W.push(...P(X,se,be))}return W};l.value=[...P("Elden Squares Season 2",me),...P("ESS2 Golden Order Playoffs",ke),...P("Off Season Rookie Rumble",he),...P("Off Season Rookie Rumble Playoffs",A.value),...P("Golden Order",m.value),...P("Crucible",i.value),...P("ESS2 Crucible Playoffs",J.value),...P("Moonwalk",Q.value),...P("Omenveil Groups",ve),...P("Omenveil Bracket",ne.value),...P("VeilBreak 1",k.value),...P("VeilBreak 2",_.value)]}catch(d){console.error("Error loading player or match data:",d)}}),{allPlayers:s,selectedPlayer:O,selectedPlayerName:T,selectPlayer:ie,defaultProfilePic:F,playerMatches:D,getPlayerClass:ue,openLink:de,openImageModal:pe,closeModal:fe,showModal:K,modalImage:x}}}),Ye={class:"player-profiles"},Ze={key:0,class:"player-list-section"},Ke={class:"division-title"},xe={class:"player-grid"},es=["onClick"],ss=["src"],ls={class:"player-name"},as={class:"player-team"},os={class:"player-record"},ns={key:1,class:"player-details fade-in"},ts={class:"player-layout"},rs={class:"player-info"},is=["src"],cs={class:"player-meta"},us=["href"],ds={class:"player-matches"},ps={class:"matches-list"},fs={class:"match-header"},ys={class:"match-source"},ms={class:"match-time"},ks={class:"match-line"},vs={class:"score-line"},hs={class:"match-buttons"},bs=["onClick"],gs=["onClick"],Ps={key:1,class:"no-matches"},Ss={class:"modal-content"},ws=["src"];function js(s,l,O,T,D,F){return r(),t("div",Ye,[l[10]||(l[10]=e("h1",{class:"title"},"Player Profiles",-1)),s.selectedPlayer?(r(),t("div",ns,[e("button",{class:"back-button",onClick:l[0]||(l[0]=o=>s.selectedPlayer=null)},"← Back to All Players"),e("div",ts,[e("div",rs,[e("img",{src:s.selectedPlayer["profile-pic"]||s.defaultProfilePic,alt:"Profile Picture",class:"player-large-pic"},null,8,is),e("div",cs,[e("h2",null,n(s.selectedPlayerName),1),e("p",null,[l[3]||(l[3]=e("strong",null,"Team:",-1)),$(" "+n(s.selectedPlayer.team),1)]),e("p",null,[l[4]||(l[4]=e("strong",null,"Nickname:",-1)),$(" "+n(s.selectedPlayer.nickname),1)]),e("p",null,[l[5]||(l[5]=e("strong",null,"Accolades:",-1)),$(" "+n(s.selectedPlayer.accolades),1)]),e("p",null,[l[6]||(l[6]=e("strong",null,"Bio:",-1)),$(" "+n(s.selectedPlayer.bio),1)]),s.selectedPlayer.twitch?(r(),t("a",{key:0,href:s.selectedPlayer.twitch,target:"_blank",class:"twitch-link"}," Watch on Twitch ",8,us)):I("",!0)])]),e("div",ds,[s.playerMatches.length>0?(r(),t(V,{key:0},[l[9]||(l[9]=e("h3",null,"Match History",-1)),e("div",ps,[(r(!0),t(V,null,N(s.playerMatches,o=>(r(),t("div",{key:o.gameId,class:"match-card"},[e("div",fs,[e("span",ys,n(o.source),1),e("span",ms,n(o.matchTime),1)]),e("div",ks,[e("span",{class:U(["player-name",s.getPlayerClass(o.outcome)])},n(s.selectedPlayerName),3),l[7]||(l[7]=e("span",{class:"vs-text"},"vs",-1)),e("span",{class:U(["player-name",s.getPlayerClass(o.outcome)])},n(o.opponent),3)]),e("div",vs,[e("span",{class:U(["player-score",s.getPlayerClass(o.outcome)])},n(o.playerScore),3),l[8]||(l[8]=e("span",{class:"dash"}," - ",-1)),e("span",{class:U(["player-score",s.getPlayerClass(o.outcome)])},n(o.opponentScore),3)]),e("div",hs,[o.imageLink?(r(),t("button",{key:0,class:"match-button",onClick:y=>s.openImageModal(o.imageLink)}," View Board ",8,bs)):I("",!0),o.vodLink?(r(),t("button",{key:1,class:"match-button",onClick:y=>s.openLink(o.vodLink)}," Watch VOD ",8,gs)):I("",!0)])]))),128))])],64)):(r(),t("div",Ps,"No matches found for this player."))])])])):(r(),t("div",Ze,[(r(!0),t(V,null,N(s.allPlayers,(o,y)=>(r(),t("div",{key:y,class:"division-section fade-in"},[e("h2",Ke,n(y),1),e("div",xe,[(r(!0),t(V,null,N(o,(m,i)=>(r(),t("div",{key:i,class:"player-card",onClick:E=>s.selectPlayer(i,m)},[e("img",{src:m["profile-pic"]||s.defaultProfilePic,alt:"Profile Picture",class:"profile-pic"},null,8,ss),e("div",ls,n(i),1),e("div",as,n(m.team),1),e("div",os,n(m["current-record"]),1)],8,es))),128))])]))),128))])),s.showModal?(r(),t("div",{key:2,class:"modal-overlay",onClick:l[2]||(l[2]=je((...o)=>s.closeModal&&s.closeModal(...o),["self"]))},[e("div",Ss,[e("button",{class:"close-button",onClick:l[1]||(l[1]=(...o)=>s.closeModal&&s.closeModal(...o))},"✕"),e("img",{src:s.modalImage,alt:"Match Board",class:"modal-image"},null,8,ws)])])):I("",!0)])}const Rs=ae(Xe,[["render",js],["__scopeId","data-v-0e4eb63b"]]),Ms=oe({name:"MainProfiles",components:{Navigation:Re,PlayerProfiles:Qe,FullProfiles:Rs},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),$s={class:"main-container"};function _s(s,l,O,T,D,F){const o=te("Navigation"),y=te("FullProfiles");return r(),t("div",null,[le(o),e("div",$s,[l[0]||(l[0]=e("h1",{class:"Title"},"Under Contruction",-1)),le(y)])])}const Bs=ae(Ms,[["render",_s],["__scopeId","data-v-6894321b"]]);export{Bs as default};
