import{d as D,r as p,e as k,f as F,o,c,a as e,t as n,F as h,b as M,n as i,g as P,h as C,i as m,w as H,M as Y,T as K,Y as N,I as W,_ as q,S as J,j as I}from"./index-Bu9X_tmv.js";const Q={class:"container mx-auto p-6"},U={class:"player-select"},X={class:"player-buttons"},Z=["onClick"],ee={class:"profile-table-container"},ae=["src"],se={class:"player-details"},te={class:"player-details"},le=["innerHTML"],ne={key:1,class:"table-container small-table"},oe={class:"results-table"},re={rowspan:2},ue={rowspan:2},ce={rowspan:2},ie={rowspan:2},de=["href"],pe={key:1},ve={rowspan:2},ye=["src"],_e="(I want some feed back on this stuff but for now): ",fe=D({__name:"playerProfiles",setup(B){const l=p(""),_=p([]),r=p({}),v=p([]),w=p([]),f=p(!1),g=p(void 0),L=async()=>{const a=(await(await fetch("/data/goldenOrderPlayerProfile.csv")).text()).trim().split(`
`).map(d=>d.split(",")),u=a[0];v.value=a.slice(1).map(d=>u.reduce((b,z,E)=>(b[z]=d[E]||"",b),{})),_.value=v.value.map(d=>d.Name)},T=s=>{const t=v.value.find(a=>a.Name===s);return t?t["MPS AVG"]:null},$=(s,t)=>{const a=v.value.find(d=>d.Name===s);if(!a)return"N/A";const u=`MPS G${t+1}`;return a[u]||"N/A"},A=s=>{const t=v.value.find(a=>a.Name===s);return t?t["Total Squares"]:null},R=async()=>{const s=await fetch("/data/goldenOrderPlayerData.json");r.value=await s.json()},V=async()=>{const t=await(await fetch("/data/normalizedResults.json")).json();w.value=t.goldenOrder.flatMap(a=>a.matches)},S=k(()=>w.value.filter(s=>s.player1.name===l.value||s.player2.name===l.value)),j=s=>{g.value=s,f.value=!0},y=s=>s==="Bingo"||s==="Majority"?"highlight-green":s==="Lost"?"highlight-red":"",x=k(()=>{const s=r.value[l.value];if(!l.value||!s||!s["division-seed"])return"bg-gray-800";const t=s["division-seed"];return t.includes("Redmane")?"highlight-redmane":t.includes("Recusant")?"highlight-recusant":"bg-gray-800"}),G=s=>{var a;const t=((a=r.value[s])==null?void 0:a["division-seed"])||"";return t.includes("Redmane")?"redmane":t.includes("Recusant")?"recusant":""},O=k(()=>{var t;return(((t=r.value[l.value])==null?void 0:t.accolades)||"").split("|").map(a=>a.trim()).join("<br>")});return F(async()=>{await L(),await R(),await V(),_.value.length>0&&(l.value=_.value[0])}),(s,t)=>(o(),c(h,null,[e("div",Q,[e("div",U,[e("label",{class:"player-select-label"},n(_e)+" Select Player:"),e("div",X,[(o(!0),c(h,null,M(_.value,a=>(o(),c("button",{key:a,onClick:u=>l.value=a,class:i(["player-button",l.value===a?"selected":"",G(a)])},n(a),11,Z))),128))])])]),e("div",ee,[l.value&&r.value[l.value]?(o(),c("div",{key:0,class:i(["player-info",x.value])},[e("img",{src:r.value[l.value]["player-pic"],alt:"Player Image",class:"player-img"},null,8,ae),e("div",se,[e("h2",null,n(l.value),1),e("div",te,[e("p",null,"Division: "+n(r.value[l.value]["division-seed"]),1),e("p",null,"Record: "+n(r.value[l.value].record),1),e("p",null,"Bingo Lines: "+n(r.value[l.value].lines),1),e("p",null,"Total Squares: "+n(A(l.value)),1),e("p",null,"Square Pace AVG: "+n(T(l.value)||"N/A")+" MPS",1),e("p",{innerHTML:O.value,class:"accolades-style"},null,8,le)])])],2)):P("",!0),S.value.length?(o(),c("div",ne,[e("table",oe,[t[1]||(t[1]=e("thead",null,[e("tr",null,[e("th",null,"Game"),e("th",null,"Player"),e("th",null,"Score"),e("th",null,"Win Condition"),e("th",null,"Match Time"),e("th",null,"Square Pace"),e("th",null,"VOD"),e("th",null,"Board")])],-1)),e("tbody",null,[(o(!0),c(h,null,M(S.value,(a,u)=>(o(),c(h,{key:u},[e("tr",{class:i({"new-game-row":u===0||S.value[u-1].gameId!==a.gameId})},[e("td",re,n(u+1),1),e("td",{class:i(y(a.player1.outcome))},n(a.player1.name),3),e("td",{class:i(y(a.player1.outcome))},n(a.player1.score),3),e("td",{class:i(y(a.player1.outcome))},n(a.player1.outcome),3),e("td",ue,n(a.matchTime),1),e("td",ce,n($(l.value,u)||"N/A"),1),e("td",ie,[a.vodLink?(o(),c("a",{key:0,href:a.vodLink,target:"_blank",class:"no-hover"},[m(N)],8,de)):(o(),c("span",pe,[m(N)]))]),e("td",ve,[a.imageLink?(o(),C(W,{key:0,onClick:d=>j(a.imageLink),class:"marika-eye"},null,8,["onClick"])):P("",!0)])],2),e("tr",null,[e("td",{class:i(y(a.player2.outcome))},n(a.player2.name),3),e("td",{class:i(y(a.player2.outcome))},n(a.player2.score),3),e("td",{class:i(y(a.player2.outcome))},n(a.player2.outcome),3)])],64))),128))])])])):P("",!0),(o(),C(K,{to:"body"},[m(Y,{show:f.value,onClose:t[0]||(t[0]=a=>f.value=!1)},{default:H(()=>[e("img",{src:g.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,ye)]),_:1},8,["show"])]))])],64))}}),me=q(fe,[["__scopeId","data-v-e4f99213"]]),ge=D({name:"Stats",components:{PlayerProfiles:me,SquareStats:J}});function he(B,l,_,r,v,w){const f=I("PlayerProfiles"),g=I("SquareStats");return o(),c("div",null,[m(f),l[0]||(l[0]=e("h1",{class:"center"},"Golden Order Square Stats",-1)),l[1]||(l[1]=e("p",{class:"center"},"No Playoffs Counted for Now",-1)),m(g)])}const Se=q(ge,[["render",he],["__scopeId","data-v-69bf8ba6"]]);export{Se as default};
