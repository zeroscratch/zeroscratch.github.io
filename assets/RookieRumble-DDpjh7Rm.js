import{_ as C,m as P,r as w,f as L,j as $,o as m,c as h,a as e,F as R,b as M,n as f,t as i,i as g,g as b,d as T,M as D,I as j,e as Q,h as S,w as B,T as F,q as A,u as I,N as E}from"./index-CyEX6fhA.js";const W="/data/RookieRumbleData/rookieRumbleStandings.json";async function q(){const s=await(await fetch(W)).json(),p=Object.entries(s).map(([u,d])=>{const n=d.wins,c=d.losses,r=n+c,o=N(d.opponentWins,d.opponentLoss);return{...d,name:u,games:r,wr:V(n,r),sos:o}});return p.sort((u,d)=>{if(d.wins!==u.wins)return d.wins-u.wins;const n=parseInt(u.wr),c=parseInt(d.wr);return c!==n?c-n:d.sos!==u.sos?d.sos-u.sos:d.victory.includes(u.name)?d.wins-u.wins:d.lines!==u.lines?d.lines-u.lines:d.squares-u.squares}).forEach((u,d)=>{u.standing=d+1}),p}function V(t,s){if(s===0)return"0%";const p=t/s*100;return`${Math.round(p)}%`}function N(t,s){const p=t+s;return p===0?0:t/p}const U={name:"RookieRumbleTable",components:{TwitchIcon:P},setup(){const t=w([]),s=p=>p==="yes"?"qualified-yes":p==="maybe"?"qualified-maybe":"qualified-no";return L(async()=>{t.value=await q()}),{players:t,getQualificationClass:s}}},G={class:"table-container"},K=["href"];function O(t,s,p,u,d,n){const c=$("TwitchIcon");return m(),h("div",G,[e("table",null,[s[0]||(s[0]=e("thead",null,[e("tr",null,[e("th",null,"Standing"),e("th",null,"Player"),e("th",null,"Wins"),e("th",null,"Losses"),e("th",null,"WR"),e("th",null,"Games"),e("th",null,"Squares"),e("th",null,"Lines"),e("th",null,"Twitch")])],-1)),e("tbody",null,[(m(!0),h(R,null,M(u.players,r=>(m(),h("tr",{key:r.name,class:f(u.getQualificationClass(r.qualified))},[e("td",null,i(r.standing),1),e("td",null,i(r.name),1),e("td",null,i(r.wins),1),e("td",null,i(r.losses),1),e("td",null,i(r.wr),1),e("td",null,i(r.games),1),e("td",null,i(r.squares),1),e("td",null,i(r.lines),1),e("td",null,[r.twitch?(m(),h("a",{key:0,href:r.twitch,class:"twitch-link"},[g(c,{class:"icon"})],8,K)):b("",!0)])],2))),128))])])])}const z=C(U,[["render",O],["__scopeId","data-v-16a76517"]]);async function H(){const t="/data/RookieRumbleData/rookieRumbleMatchResults.json";try{const s=await fetch(t);if(!s.ok)throw new Error(`Failed to fetch stats: ${s.statusText}`);const p=await s.json();if(!Array.isArray(p))throw new Error("Invalid format: expected an array of weeks.");return{matches:p.flatMap(d=>d.matches.map(n=>({...n,week:d.week})))}}catch(s){throw console.error(s),new Error("Failed to load Rookie Rumble Match Results. Please try again later.")}}const J=T({name:"RookieRumbleResultsTable",components:{Modal:D,IconMarikasEye:j},setup(){const t=w({matches:[]}),s=w(!1),p=w(null),u=w(null),d=w(null),n=v=>{p.value=v,s.value=!0},c=v=>v==="Bingo"||v==="Majority"?"highlight-green":v==="Lost"?"highlight-red":"",r=Q(()=>{const v=new Set(t.value.matches.map(y=>y.week));return Array.from(v).sort((y,k)=>y-k)}),o=Q(()=>d.value!==null?t.value.matches.filter(v=>v.week===d.value):t.value.matches);return L(async()=>{try{t.value=await H();const v=r.value;v.length>0&&(d.value=v[v.length-1])}catch(v){u.value=v.message}}),{currentResults:t,showModal:s,modalImage:p,errorMessage:u,selectedWeek:d,weeks:r,filteredMatches:o,openModal:n,getCellClass:c}}}),Y={class:"container"},Z={key:0,class:"error"},X={class:"table-container"},x={class:"results-table"},ee={class:"table-caption"},se={class:"week-button-group"},te=["onClick"],oe={rowspan:2},ne={rowspan:2},ae={rowspan:2},le=["src"];function re(t,s,p,u,d,n){const c=$("IconMarikasEye"),r=$("Modal");return m(),h("div",Y,[t.errorMessage?(m(),h("div",Z,i(t.errorMessage),1)):b("",!0),e("div",X,[e("table",x,[e("caption",ee,[e("div",se,[(m(!0),h(R,null,M(t.weeks,o=>(m(),h("button",{key:o,class:f(["week-button",{active:t.selectedWeek===o}]),onClick:v=>t.selectedWeek=o}," Week "+i(o),11,te))),128)),e("button",{class:f(["week-button",{active:t.selectedWeek===null}]),onClick:s[0]||(s[0]=o=>t.selectedWeek=null)}," All Weeks ",2)])]),s[2]||(s[2]=e("thead",null,[e("tr",null,[e("th",null,"Game"),e("th",null,"Player"),e("th",null,"Score"),e("th",null,"Outcome"),e("th",null,"Time"),e("th",null,"Board")])],-1)),e("tbody",null,[(m(!0),h(R,null,M(t.filteredMatches,(o,v)=>(m(),h(R,{key:v},[e("tr",{class:f({"new-game-row":v===0||t.filteredMatches[v-1].gameId!==o.gameId})},[e("td",oe,i(o.gameId),1),e("td",{class:f(t.getCellClass(o.player1.outcome))},i(o.player1.name),3),e("td",{class:f(t.getCellClass(o.player1.outcome))},i(o.player1.score),3),e("td",{class:f(t.getCellClass(o.player1.outcome))},i(o.player1.outcome),3),e("td",ne,i(o.matchTime),1),e("td",ae,[o.imageLink?(m(),S(c,{key:0,onClick:y=>t.openModal(o.imageLink),class:"marika-eye"},null,8,["onClick"])):b("",!0)])],2),e("tr",null,[e("td",{class:f(t.getCellClass(o.player2.outcome))},i(o.player2.name),3),e("td",{class:f(t.getCellClass(o.player2.outcome))},i(o.player2.score),3),e("td",{class:f(t.getCellClass(o.player2.outcome))},i(o.player2.outcome),3)])],64))),128))])])]),(m(),S(F,{to:"body"},[g(r,{show:t.showModal,onClose:s[1]||(s[1]=o=>t.showModal=!1)},{default:B(()=>[e("img",{src:t.modalImage,alt:"Board",style:{"max-width":"100%",height:"auto"}},null,8,le)]),_:1},8,["show"])]))])}const ie=C(J,[["render",re],["__scopeId","data-v-40f2a17e"]]),ce=T({name:"UpcomingMatchCards",setup(){const t=w([]),s=w(null),p=async()=>{try{const n=await fetch("/data/RookieRumbleData/rookieRumbleUpcomingMatches.json");if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText}`);const c=await n.json(),r=new Date;t.value=c.map(o=>{const v=new Date(o.scheduledAt),y=new Date(r.getTime()-2*60*60*1e3),k=v<=r&&v>=y;return{...o,isLive:k}}).filter(o=>{const v=new Date(o.scheduledAt),y=new Date(r.getTime()-2*60*60*1e3);return v>y})}catch(n){s.value=n.message}},u=n=>new Date(n).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"}),d=n=>{n.isLive&&window.open("https://www.twitch.tv/hoozher")};return L(p),{matches:t,errorMessage:s,formatDate:u,handleMatchClick:d}}}),de={class:"upcoming-matches"},ue={key:0,class:"error"},me={class:"match-grid"},pe=["onClick"],ve={class:"players"},he={class:"player"},fe={class:"player"},ke={class:"scheduled"},_e={class:"referee"},ye={key:0,class:"type"},we={key:1,class:"live-badge"};function ge(t,s,p,u,d,n){return m(),h("div",de,[t.errorMessage?(m(),h("div",ue,i(t.errorMessage),1)):b("",!0),e("div",me,[(m(!0),h(R,null,M(t.matches.slice(0,3),(c,r)=>(m(),h("div",{key:r,class:f(["match-card",{live:c.isLive}]),onClick:o=>t.handleMatchClick(c),style:{cursor:"pointer"}},[e("h3",null,i(c.title),1),e("div",ve,[e("span",he,i(c.firstPlayer),1),s[0]||(s[0]=e("span",{class:"vs"},"vs",-1)),e("span",fe,i(c.secondPlayer),1)]),e("div",ke,i(t.formatDate(c.scheduledAt)),1),e("div",_e,i(c.ref),1),c.matchType===2?(m(),h("div",ye,"Best of 3")):b("",!0),c.isLive?(m(),h("div",we,"LIVE")):b("",!0)],10,pe))),128))])])}const be=C(ce,[["render",ge],["__scopeId","data-v-4cbbd122"]]),$e=T({name:"RookieRumbleSquareStats",setup(){const t=w([]),s=w("name"),p=w("asc"),u=Q(()=>[...t.value].sort((n,c)=>{const r=p.value==="asc"?1:-1,o=s.value;return typeof n[o]=="string"?n[o].localeCompare(c[o])*r:(parseFloat(n[o])-parseFloat(c[o]))*r}));L(async()=>{try{const c=await(await fetch("/data/RookieRumbleData/rookieRumbleSquareStats.json")).json(),r=Object.entries(c),o=42;t.value=r.map(([v,y])=>{const k=y.Completed||0,_=y.Appeared||0;return{name:v,completed:k,appeared:_,completedPercentage:_>0?(k/_*100).toFixed(1):"0.0",appearedPercentage:o>0?(_/o*100).toFixed(1):"0.0"}})}catch(n){console.error("Error loading square stats:",n)}});function d(n){s.value===n?p.value=p.value==="asc"?"desc":"asc":(s.value=n,p.value="desc")}return{sortedSquares:u,changeSort:d,sortKey:s,sortDirection:p}}}),Re={class:"stats-table-container"},Ce={class:"square-stats-table"};function Me(t,s,p,u,d,n){return m(),h("div",Re,[e("table",Ce,[e("thead",null,[e("tr",null,[e("th",{onClick:s[0]||(s[0]=c=>t.changeSort("name"))},"Square ▲▼"),e("th",{onClick:s[1]||(s[1]=c=>t.changeSort("completed"))},"Completed ▲▼"),e("th",{onClick:s[2]||(s[2]=c=>t.changeSort("appeared"))},"Appeared ▲▼"),e("th",{onClick:s[3]||(s[3]=c=>t.changeSort("completedPercentage"))},"Completed % ▲▼"),e("th",{onClick:s[4]||(s[4]=c=>t.changeSort("appearedPercentage"))},"Appeared % ▲▼")])]),e("tbody",null,[(m(!0),h(R,null,M(t.sortedSquares,(c,r)=>(m(),h("tr",{key:r},[e("td",null,i(c.name),1),e("td",null,i(c.completed),1),e("td",null,i(c.appeared),1),e("td",null,i(c.completedPercentage)+"%",1),e("td",null,i(c.appearedPercentage)+"%",1)]))),128))])])])}const Le=C($e,[["render",Me],["__scopeId","data-v-deedb2b1"]]),Se={},Te={class:"key-container"};function Ie(t,s){return m(),h("div",Te,s[0]||(s[0]=[A('<div class="key-item" data-v-e295915b><div class="box green" data-v-e295915b></div><span class="label" data-v-e295915b>Qualified for Playoffs</span></div><div class="key-item" data-v-e295915b><div class="box red" data-v-e295915b></div><span class="label" data-v-e295915b>Eliminated from Playoffs</span></div>',2)]))}const Qe=C(Se,[["render",Ie],["__scopeId","data-v-e295915b"]]),Pe={class:"bracket-container"},De={class:"bracket-side"},je={class:"wrapper"},Be={class:"item"},Fe={class:"item-childrens"},Ae={class:"item-child"},Ee={class:"item"},We={class:"item-childrens"},qe={class:"item-child"},Ve={class:"item"},Ne={class:"item-child"},Ue={class:"item"},Ge={class:"item-childrens"},Ke={class:"wrapper"},Oe={class:"item"},ze={class:"item-childrens"},He={class:"item-child"},Je={class:"item"},Ye={class:"item-childrens"},Ze={class:"item-child"},Xe={class:"item"},xe={class:"item-child"},es={class:"item"},ss={class:"item-childrens"},ts={key:0,class:"match-details"},os={class:"game-info"},ns={class:"player"},as={class:"player"},ls={class:"outcome"},rs={key:0},is={key:1},cs={key:0,class:"icon-row"},ds=["href"],us=["src"],ms={__name:"RookieRumbleBracket",setup(t){const s=w(!1),p=w(void 0),u=w({}),d=w(null);let n="Majority";async function c(){try{const _=await fetch("/data/RookieRumbleData/rookieRumblePlayoffMatches.json");if(!_.ok)throw new Error("Failed to load match data");u.value=await _.json()}catch(_){console.error("Error loading match data:",_)}}L(()=>{c()});function r(_){d.value=u.value[_]}function o(_){var l;const a=(l=u.value[_])==null?void 0:l[0];return a?`${a.player1.name} vs ${a.player2.name}`:"Match Not Played"}function v(_){p.value=_,s.value=!0}function y(_){const{player1:a,player2:l}=_;return a.name==="Lemon"&&a.outcome===n||l.name==="Lemon"&&l.outcome===n?"lemon-win":a.name==="Vakrash"&&a.outcome===n||l.name==="Vakrash"&&l.outcome===n?"vakrash-win":a.name==="Vexphile"&&a.outcome===n||l.name==="Vexphile"&&l.outcome===n?"vexphile-win":a.name==="Jibbe"&&a.outcome===n||l.name==="Jibbe"&&l.outcome===n?"jibbe-win":a.name==="Dyrax"&&a.outcome===n||l.name==="Dyrax"&&l.outcome===n?"dyrax-win":a.name==="Vord"&&a.outcome===n||l.name==="Vord"&&l.outcome===n?"vord-win":a.name==="Thomas"&&a.outcome===n||l.name==="Thomas"&&l.outcome===n?"thomas-win":a.name==="TurtleBeard"&&a.outcome===n||l.name==="TurtleBeard"&&l.outcome===n?"turtlebeard-win":{}}function k(_){var l;const a=(l=u.value[_])==null?void 0:l[0];return a?y(a):{}}return(_,a)=>(m(),h(R,null,[e("div",Pe,[e("div",De,[e("div",je,[e("div",Be,[e("div",{class:"item-parent",onClick:a[0]||(a[0]=l=>r("Finals"))},[e("p",{class:f(k("Finals"))},i(o("Finals")),3)]),e("div",Fe,[e("div",Ae,[e("div",Ee,[e("div",{class:"item-parent",onClick:a[1]||(a[1]=l=>r("Semifinals-1"))},[e("p",{class:f(k("Semifinals-1"))},i(o("Semifinals-1")),3)]),e("div",We,[e("div",qe,[e("div",Ve,[e("div",{class:"item-parent no-parent-connector",onClick:a[2]||(a[2]=l=>r("Quarterfinals-1"))},[e("p",{class:f(k("Quarterfinals-1"))},i(o("Quarterfinals-1")),3)])])]),e("div",{class:"item-child",onClick:a[3]||(a[3]=l=>r("Quarterfinals-2"))},[e("p",{class:f(k("Quarterfinals-2"))},i(o("Quarterfinals-2")),3)])])])]),e("div",Ne,[e("div",Ue,[e("div",{class:"item-parent",onClick:a[4]||(a[4]=l=>r("Semifinals-2"))},[e("p",{class:f(k("Semifinals-2"))},i(o("Semifinals-2")),3)]),e("div",Ge,[e("div",{class:"item-child",onClick:a[5]||(a[5]=l=>r("Quarterfinals-3"))},[e("p",{class:f(k("Quarterfinals-3"))},i(o("Quarterfinals-3")),3)]),e("div",{class:"item-child",onClick:a[6]||(a[6]=l=>r("Quarterfinals-4"))},[e("p",{class:f(k("Quarterfinals-4"))},i(o("Quarterfinals-4")),3)])])])])])])]),e("div",Ke,[e("div",Oe,[e("div",{class:"item-parent",onClick:a[7]||(a[7]=l=>r("LosersFinals"))},[e("p",{class:f(k("LosersFinals"))},i(o("LosersFinals")),3)]),e("div",{class:"item-parent",onClick:a[8]||(a[8]=l=>r("LosersSemifinals"))},[e("p",{class:f(k("LosersSemifinals"))},i(o("LosersSemifinals")),3)]),e("div",ze,[e("div",He,[e("div",Je,[e("div",{class:"item-parent",onClick:a[9]||(a[9]=l=>r("LosersQuarterfinals-1"))},[e("p",{class:f(k("LosersQuarterfinals-1"))},i(o("LosersQuarterfinals-1")),3)]),e("div",Ye,[e("div",Ze,[e("div",Xe,[e("div",{class:"item-parent no-parent-connector",onClick:a[10]||(a[10]=l=>r("LosersRound1-1"))},[e("p",{class:f(k("LosersRound1-1"))},i(o("LosersRound1-1")),3)])])])])])]),e("div",xe,[e("div",es,[e("div",{class:"item-parent",onClick:a[11]||(a[11]=l=>r("LosersQuarterfinals-2"))},[e("p",{class:f(k("LosersQuarterfinals-2"))},i(o("LosersQuarterfinals-2")),3)]),e("div",ss,[e("div",{class:"item-child",onClick:a[12]||(a[12]=l=>r("LosersRound1-2"))},[e("p",{class:f(k("LosersRound1-2"))},i(o("LosersRound1-2")),3)])])])])])])])]),d.value?(m(),h("div",ts,[a[14]||(a[14]=e("h2",null,"Match Details",-1)),(m(!0),h(R,null,M(d.value,l=>(m(),h("div",{class:f(["game-card",y(l)]),key:l.gameid},[e("div",os,[e("div",ns,i(l.player1.name)+" - "+i(l.player1.score),1),e("div",as,i(l.player2.name)+" - "+i(l.player2.score),1),e("div",ls,[l.player1.outcome===I(n)||l.player2.outcome===I(n)?(m(),h("span",rs," Winner: "+i(l.player1.outcome===I(n)?l.player1.name:l.player2.name),1)):(m(),h("span",is," Winner: TBD "))]),l.imageLink||l.vodLink?(m(),h("div",cs,[l.imageLink?(m(),S(j,{key:0,onClick:ys=>v(l.imageLink),class:"marika-eye"},null,8,["onClick"])):b("",!0),l.vodLink?(m(),h("a",{key:1,href:l.vodLink,target:"_blank",class:"no-hover"},[g(P)],8,ds)):b("",!0)])):b("",!0)])],2))),128))])):b("",!0)]),(m(),S(F,{to:"body"},[g(D,{show:s.value,onClose:a[13]||(a[13]=l=>s.value=!1)},{default:B(()=>[e("img",{src:p.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,us)]),_:1},8,["show"])]))],64))}},ps=C(ms,[["__scopeId","data-v-c41686d6"]]),vs="/rookie-rumble-public/the-erdtree-elden-ring-thumb.jpg",hs="/rookie-rumble-public/Rookie_Rumble_2_Logo.png",fs=T({name:"RookieRumble",components:{RookieRumbleTable:z,Navigation:E,RookieRumbleResultsTable:ie,RookieRumbleUpcomingMatches:be,RookieRumbleSquareStats:Le,playoffKey:Qe,PlayoffBracket:ps},mounted(){document.body.style.backgroundColor="#10002b"},beforeUnmount(){document.body.style.backgroundColor="#0d1321"}}),ks={class:"main-container"};function _s(t,s,p,u,d,n){const c=$("Navigation"),r=$("RookieRumbleUpcomingMatches"),o=$("PlayoffBracket"),v=$("RookieRumbleTable"),y=$("playoffKey"),k=$("RookieRumbleResultsTable");return m(),h("div",null,[g(c),e("div",ks,[s[0]||(s[0]=e("div",{class:"top-image-container"},[e("img",{src:vs,class:"background-img"}),e("img",{src:hs,class:"logo"})],-1)),s[1]||(s[1]=e("h1",{class:"Title"},"Upcoming Matches",-1)),g(r),s[2]||(s[2]=e("h1",{class:"Title-Gold"},"Rookie Rumble Playoffs",-1)),g(o),s[3]||(s[3]=e("h1",{class:"Title"},"Rookie Rumble Standings",-1)),g(v),g(y),s[4]||(s[4]=e("h1",{class:"Title"},"Rookie Rumble Match Results",-1)),g(k)])])}const gs=C(fs,[["render",_s],["__scopeId","data-v-60cc6cde"]]);export{gs as default};
