import{H as _e}from"./HeaderGPT-DXnF7ZEl.js";import{t as Q}from"./twitch-icon-C8lVSQdL.js";import{_ as D,d as H,f as $,c as i,o as c,F as T,b as I,a as s,B as ye,t as l,n as M,p as f,e as S,r as g,g as x,D as X,m as C,u as J,A as B,G as fe}from"./index-6qSVoO4U.js";import{U as ge}from"./GoldenOrderUpcomingMatches-B7pw5cRY.js";import{M as ke,I as we}from"./IconMarikasEye-CdB5godV.js";import{Y as be}from"./youtube-icon-g-moZYOx.js";import{_ as Me}from"./SplittingErdtree2-E0p5C5bq.js";import{_ as Ce}from"./elden_squares-BChk0GbN.js";/* empty css                                                                  */const Se=H({name:"CrucibleStandings",components:{TwitchIcon:Q},setup(){const p=g({}),r=_=>{const[v,a]=_.split("-").map(Number);return{wins:v,losses:a}},b=_=>{const{wins:v,losses:a}=r(_.record),u=v+a,t=u>0?(v/u*100).toFixed(1):"0.0";return{..._,wins:v,losses:a,gamesPlayed:u,WR:t}},n=_=>[..._].sort((v,a)=>{var m,w;const u=v.losses>0?v.wins/v.losses:v.wins,t=a.losses>0?a.wins/a.losses:a.wins;return t!==u?t-u:(m=v.H2H)!=null&&m.includes(a.teamName)?-1:(w=a.H2H)!=null&&w.includes(v.teamName)?1:a.lines!==v.lines?a.lines-v.lines:a.squares!==v.squares?a.squares-v.squares:0});return x(async()=>{try{const v=await(await fetch("/data/ESS3/Crucible/crucibleTeams.json")).json(),a={};for(const[u,t]of Object.entries(v)){const m=Object.entries(t).map(([w,y])=>b({teamName:w,...y}));a[u]=n(m)}p.value=a}catch(_){console.error("Error loading crucibleTeams.json:",_)}}),{divisions:p}}}),Te={class:"standings-wrapper"},Ie={class:"title"},We={class:"standings-list"},$e={class:"col-rank-number"},Le={class:"col-team"},Ee={class:"team-name"},je={class:"players"},Oe={class:"player"},Pe={class:"player-name"},Ne={key:0,class:"player-nickname"},Re=["href"],De={class:"player"},Ge={class:"player-name"},Ae={key:0,class:"player-nickname"},Be=["href"],He={class:"col-record-spacing"},xe={class:"col-wr"},Ue={class:"col-games"},Ve={class:"col-squares"},qe={class:"col-lines"};function Fe(p,r,b,n,_,v){const a=$("TwitchIcon");return c(),i("div",Te,[(c(!0),i(T,null,I(p.divisions,(u,t)=>(c(),i("div",{key:t,class:"division-section"},[s("h1",Ie,l(t)+" Standings",1),r[0]||(r[0]=ye('<div class="standings-header" data-v-b3c75c5f><div class="col-rank" data-v-b3c75c5f>Rank</div><div class="col-team" data-v-b3c75c5f>Team Name</div><div class="col-record" data-v-b3c75c5f>Record</div><div class="col-wr" data-v-b3c75c5f>WR%</div><div class="col-games" data-v-b3c75c5f>GP</div><div class="col-squares" data-v-b3c75c5f>Squares</div><div class="col-lines" data-v-b3c75c5f>Lines</div></div>',1)),s("div",We,[(c(!0),i(T,null,I(u,(m,w)=>(c(),i("div",{key:m.teamName,class:M(["team-card",{"playoff-yes":m.Playoffs==="yes","playoff-no":m.Playoffs==="no","playoff-maybe":m.Playoffs==="maybe"}])},[s("div",$e,l(w+1),1),s("div",Le,[s("h2",Ee,l(m.teamName),1),s("div",je,[s("div",Oe,[s("p",Pe,l(m.player1.name),1),m.player1.nickname?(c(),i("p",Ne,'"'+l(m.player1.nickname)+'"',1)):f("",!0),m.player1.twitch?(c(),i("a",{key:1,href:m.player1.twitch,class:"twitch-link",target:"_blank"},[S(a,{class:"icon"})],8,Re)):f("",!0)]),s("div",De,[s("p",Ge,l(m.player2.name),1),m.player2.nickname?(c(),i("p",Ae,'"'+l(m.player2.nickname)+'"',1)):f("",!0),m.player2.twitch?(c(),i("a",{key:1,href:m.player2.twitch,class:"twitch-link",target:"_blank"},[S(a,{class:"icon"})],8,Be)):f("",!0)])])]),s("div",He,l(m.record),1),s("div",xe,l(m.WR)+"%",1),s("div",Ue,l(m.gamesPlayed),1),s("div",Ve,l(m.squares),1),s("div",qe,l(m.lines),1)],2))),128))])]))),128))])}const ze=D(Se,[["render",Fe],["__scopeId","data-v-b3c75c5f"]]),Ke=H({name:"CrucibleMatchResults",setup(){const p=g([]),r=g(8),b=g(!1),n=g(null),_=[{label:"Week 1",value:1},{label:"Week 2",value:2},{label:"Week 3",value:3},{label:"Week 4",value:4},{label:"Week 5",value:5},{label:"Week 6",value:6},{label:"Week 7",value:7},{label:"Week 8",value:8},{label:"All Weeks",value:"all"}],v=async()=>{try{const y=await fetch("/data/ESS3/Crucible/crucibleSeasonMatches.json");p.value=await y.json()}catch(y){console.error("Error loading match data:",y)}},a=C(()=>r.value==="all"?p.value:p.value.filter(y=>y.week===r.value)),u=y=>{window.open(y,"_blank")},t=y=>{n.value=y,b.value=!0},m=()=>{b.value=!1,n.value=null},w=y=>y==="Bingo"||y==="Majority"?"winner":y==="Lost"?"loser":"";return x(v),{selectedWeek:r,weekOptions:_,filteredWeeks:a,openLink:u,openImageModal:t,closeModal:m,getPlayerClass:w,showModal:b,modalImage:n}}}),Ye={class:"match-results-container"},Ze={class:"week-selector"},Je=["onClick"],Qe={class:"week-title"},Xe={class:"matches-list"},es={class:"match-line"},ss={class:"score-line"},ts={class:"match-details"},ns={class:"match-buttons"},os=["onClick"],as=["onClick"],rs={key:0,class:"no-results"},ls={class:"modal-content"},is=["src"];function cs(p,r,b,n,_,v){return c(),i("div",Ye,[r[4]||(r[4]=s("h2",{class:"title"},"Crucible Match Results",-1)),s("div",Ze,[(c(!0),i(T,null,I(p.weekOptions,a=>(c(),i("button",{key:a.value,onClick:u=>p.selectedWeek=a.value,class:M(["week-button",{active:p.selectedWeek===a.value}])},l(a.label),11,Je))),128))]),(c(!0),i(T,null,I(p.filteredWeeks,a=>(c(),i("div",{key:a.week,class:"week-block"},[s("h3",Qe,"Week "+l(a.week),1),s("div",Xe,[(c(!0),i(T,null,I(a.matches,u=>(c(),i("div",{key:u.gameId,class:"match-card"},[s("div",es,[s("span",{class:M(["player-name",p.getPlayerClass(u.player1.outcome)])},l(u.player1.name),3),r[2]||(r[2]=s("span",{class:"vs-text"},"vs",-1)),s("span",{class:M(["player-name",p.getPlayerClass(u.player2.outcome)])},l(u.player2.name),3)]),s("div",ss,[s("span",{class:M(["player-score",p.getPlayerClass(u.player1.outcome)])},l(u.player1.score),3),r[3]||(r[3]=s("span",{class:"dash"}," - ",-1)),s("span",{class:M(["player-score",p.getPlayerClass(u.player2.outcome)])},l(u.player2.score),3)]),s("div",ts,[s("p",null,"Match Time: "+l(u.matchTime),1)]),s("div",ns,[u.imageLink?(c(),i("button",{key:0,class:"match-button",onClick:t=>p.openImageModal(u.imageLink)}," View Board ",8,os)):f("",!0),u.vodLink?(c(),i("button",{key:1,class:"match-button",onClick:t=>p.openLink(u.vodLink)}," Watch VOD ",8,as)):f("",!0)])]))),128))])]))),128)),p.filteredWeeks.length===0?(c(),i("div",rs," No match data available for this week. ")):f("",!0),p.showModal?(c(),i("div",{key:1,class:"modal-overlay",onClick:r[1]||(r[1]=X((...a)=>p.closeModal&&p.closeModal(...a),["self"]))},[s("div",ls,[s("button",{class:"close-button",onClick:r[0]||(r[0]=(...a)=>p.closeModal&&p.closeModal(...a))},"âœ•"),s("img",{src:p.modalImage,alt:"Match Board",class:"modal-image"},null,8,is)])])):f("",!0)])}const ds=D(Ke,[["render",cs],["__scopeId","data-v-f9116b34"]]),us={name:"GoldenOrderUpcoming",components:{IconMarikasEye:we,YoutubeIcon:be,TwitchIcon:Q,Modal:ke},setup(){const p=g({}),r=g({}),b=g(null),n=g([]),_=g(null),v=g(null),a=g("upcoming"),u=g(new Date),t=g(null),m=g(!1),w=g(!1),y=g(""),O=U("11/30/2025 18:00:00 UTC"),L=7200*1e3,P=async()=>{try{const e=await fetch("/data/ESS3/Crucible/crucibleBracket.json").then(d=>d.json()),o=await fetch("/data/ESS3/Crucible/crucibleTeamsFull.json").then(d=>d.json());p.value=e,r.value=o,V()}catch(e){console.error("Error loading upcoming match data:",e)}},E=()=>{const e=[];let o=0;for(const d of Object.keys(p.value)){const h=p.value[d];if(!h||!h.length)continue;const k=h[0];let W;k.scheduledAt&&k.scheduledAt.trim()&&(W=U(k.scheduledAt)),(!W||isNaN(W.getTime()))&&(W=new Date(O.getTime()+o*L));const A=new Date(W.getTime()+L);e.push({key:d,games:h,start:W,end:A,round:d.split("-")[0]}),o++}return e};function U(e){if(!e)return null;const o=e.replace(" UTC",""),[d,h]=o.split(" "),[k,W,A]=d.split("/"),he=`${A}-${k.padStart(2,"0")}-${W.padStart(2,"0")}T${h}Z`,Z=new Date(he);return isNaN(Z.getTime())?null:Z}const V=()=>{const e=E();if(!e.length)return;const o=u.value.getTime(),d=e.find(k=>o>=k.start&&o<k.end);if(d)return N(d,"live");const h=e.find(k=>o<k.start);if(h)return N(h,"upcoming");N(e[0],"upcoming")},N=(e,o)=>{b.value=e.key,n.value=e.games,_.value=e.start,v.value=e.end,a.value=o},G=e=>e<10?"0"+e:""+e,q=e=>{let o=Math.max(0,Math.floor(e/1e3));const d=Math.floor(o/3600);o%=3600;const h=Math.floor(o/60);return o%=60,`${G(d)}:${G(h)}:${G(o)}`},ee=C(()=>{var e,o;if(F.value)return"COMPLETED SERIES";if(a.value==="manual"){const d=u.value.getTime(),h=(e=_.value)==null?void 0:e.getTime(),k=(o=v.value)==null?void 0:o.getTime();return h&&d<h?"UPCOMING MATCH":h&&k&&d>=h&&d<k?"LIVE NOW":"UPCOMING MATCH"}return a.value==="live"?"LIVE NOW":a.value==="upcoming"||!F.value?"UPCOMING MATCH":"COMPLETED SERIES"}),F=C(()=>{const e=R.value;return e.p1wins===0&&e.p2wins===0?!1:e.p1wins===2||e.p2wins===2}),se=C(()=>{if(!_.value)return"";const e=u.value.getTime(),o=_.value.getTime(),d=v.value.getTime();return e<o?`Starts in ${q(o-e)}`:e<d?`Time remaining ${q(d-e)}`:"Series finished"}),te=C(()=>{if(!_.value||a.value==="finished")return"";const e={month:"short",day:"2-digit",hour:"numeric",minute:"2-digit"};return _.value.toLocaleString("en-US",e)}),z=C(()=>E()),ne=e=>{const o=e.games[0].player1.name,d=e.games[0].player2.name;return`${e.round} â€” ${o} vs ${d}`},oe=e=>{m.value=!0;const o=z.value.find(d=>d.key===e);o&&N(o,"manual")},R=C(()=>{if(!n.value.length)return{p1wins:0,p2wins:0,team1:"",team2:""};let e=0,o=0;for(const k of n.value)/majority|bingo/i.test(k.player1.outcome)&&e++,/majority|bingo/i.test(k.player2.outcome)&&o++;const d=n.value[0].player1.name,h=n.value[0].player2.name;return{p1wins:e,p2wins:o,team1:d,team2:h}}),ae=C(()=>{const e=R.value;return!e.p1wins&&!e.p2wins?"Series not started":e.p1wins===e.p2wins?`Series tied ${e.p1wins}-${e.p2wins}`:e.p1wins>e.p2wins&&e.p1wins!=2&&e.p2wins!=2?`${e.team1} leads ${e.p1wins}-${e.p2wins}`:e.p2wins>e.p1wins&&e.p1wins!=2&&e.p2wins!=2?`${e.team2} leads ${e.p2wins}-${e.p1wins}`:"MATCH COMPLETED"}),K=C(()=>{const e=R.value;if(e.p1wins===e.p2wins)return null;if(e.p1wins==2)return e.team1;if(e.p2wins==2)return e.team2}),re=e=>K.value===e,le=C(()=>Math.max(n.value.length,3)),ie=e=>{const o=n.value[e];if(!o)return"none";const d=/majority|bingo/i.test(o.player1.outcome),h=/majority|bingo/i.test(o.player2.outcome);return d&&!h?"team1":h&&!d?"team2":"none"},j=e=>{const o=e.toLowerCase();return o.includes("jarvis")?"var(--team-jarvis)":o.includes("rick fisters")?"var(--team-rick)":o.includes("crashout carries")?"var(--team-crashout)":o.includes("corruption")?"var(--team-corruption)":o.includes("gold but old")?"var(--team-gold)":o.includes("nordic thunder")?"var(--team-nordic)":"var(--team-unknown)"},ce=e=>({"--team-color":j(e)}),de=(e,o)=>{const d=o==="p1"?e.player1.outcome:e.player2.outcome;return/majority|bingo/i.test(d)?"winner-highlight":""},Y=e=>{const o=n.value[e];if(!o)return null;const d=/majority|bingo/i.test(o.player1.outcome),h=/majority|bingo/i.test(o.player2.outcome);return d&&!h?j(o.player1.name):h&&!d?j(o.player2.name):null},ue=e=>{const o=Y(e);return o?{background:`color-mix(in srgb, ${o} 35%, #000 65%)`,borderColor:o,boxShadow:`0 0 12px ${o}`}:{background:"#222",borderColor:"#555",opacity:.35}},me=e=>{let o="var(--team-unknown)";const d=/majority|bingo/i.test(e.player1.outcome),h=/majority|bingo/i.test(e.player2.outcome);return d&&!h&&(o=j(e.player1.name)),h&&!d&&(o=j(e.player2.name)),{background:`radial-gradient(circle at top,
            color-mix(in srgb, ${o} 38%, #000000 62%),
            #050505 65%)
        `}},pe=e=>{y.value=e,w.value=!0},ve=()=>{w.value=!1,y.value=null};return x(()=>{P(),t.value=setInterval(()=>{u.value=new Date,!m.value&&Object.keys(p.value).length&&V()},1e3)}),fe(()=>clearInterval(t.value)),{currentMatchGames:n,currentMatchKey:b,teams:r,statusLabel:ee,countdownLabel:se,nextMatchLabel:te,allMatches:z,prettyName:ne,goToMatch:oe,bracketRoundTag:C(()=>{var e;return((e=b.value)==null?void 0:e.split("-")[0])??""}),seriesScore:R,getSeriesResultText:ae,maxGames:le,gameWinnerForIndex:ie,isSeriesWinner:re,seriesWinnerTeam:K,getWinnerColor:de,getWinnerTeamColor:Y,getDotStyle:ue,getTeamCardStyle:ce,getGameBoxStyle:me,showModal:w,modalImage:y,openModal:pe,closeModal:ve,matchStatus:a,currentStart:_,currentEnd:v}}},ms={key:0,class:"match-wrapper"},ps={class:"status-bar"},vs={key:0,class:"live-dot"},hs={class:"countdown-text"},_s={class:"round-tag-bar"},ys={class:"round-pill"},fs={key:0,class:"next-match-pill"},gs={class:"coming-up-row"},ks=["onClick"],ws={class:"layout"},bs={class:"teams-column"},Ms={class:"team-card-header"},Cs={class:"team-title"},Ss={class:"team-name"},Ts={key:0,class:"winner-crown",title:"Series Winner"},Is={class:"team-stats-grid"},Ws={class:"team-stat"},$s={class:"team-stat"},Ls={class:"team-stat"},Es={class:"twitch-links"},js=["href"],Os={class:"twitch-text"},Ps=["href"],Ns={class:"twitch-text"},Rs={class:"center-column"},Ds={class:"series-header"},Gs={class:"series-outcome"},As={key:0,class:"series-winner-banner"},Bs={class:"team-score side left"},Hs={class:"label"},xs={class:"score"},Us={class:"game-dots"},Vs={class:"team-score side right"},qs={class:"score"},Fs={class:"label"},zs={class:"games-list"},Ks={class:"game-box-header"},Ys={class:"game-title"},Zs={key:0,class:"game-time"},Js={class:"scores"},Qs={class:"outcome-text"},Xs={class:"links"},et=["onClick"],st=["href"],tt={class:"modal-content"},nt=["src"];function ot(p,r,b,n,_,v){const a=$("TwitchIcon"),u=$("IconMarikasEye");return n.currentMatchGames.length?(c(),i("div",ms,[s("div",ps,[s("div",{class:M(["status-pill",{live:n.statusLabel==="LIVE NOW"}])},[n.statusLabel==="LIVE NOW"?(c(),i("span",vs)):f("",!0),J(" "+l(n.statusLabel),1)],2),s("div",hs,l(n.countdownLabel),1)]),s("div",_s,[s("span",ys,l(n.bracketRoundTag),1),r[2]||(r[2]=s("span",{class:"round-subtitle"},"Playoff Matchup",-1)),n.nextMatchLabel?(c(),i("span",fs," Next Match: "+l(n.nextMatchLabel),1)):f("",!0)]),s("div",gs,[(c(!0),i(T,null,I(n.allMatches,t=>(c(),i("div",{key:t.key,class:M(["coming-chip",{active:t.key===n.currentMatchKey}]),onClick:m=>n.goToMatch(t.key)},l(n.prettyName(t)),11,ks))),128))]),s("div",ws,[s("div",bs,[(c(!0),i(T,null,I([n.currentMatchGames[0].player1.name,n.currentMatchGames[0].player2.name],t=>{var m,w,y,O,L,P,E;return c(),i("div",{class:M(["team-card-inner",{"winner-glow":n.isSeriesWinner(t)}]),key:t,style:B(n.getTeamCardStyle(t))},[s("div",Ms,[r[3]||(r[3]=s("div",{class:"team-color-chip"},null,-1)),s("h2",Cs,[s("span",Ss,l(t),1),n.isSeriesWinner(t)?(c(),i("span",Ts," ðŸ‘‘ ")):f("",!0)])]),s("div",Is,[s("p",Ws,[r[4]||(r[4]=s("span",null,"Record",-1)),s("strong",null,l(((m=n.teams[t])==null?void 0:m.record)||"N/A"),1)]),s("p",$s,[r[5]||(r[5]=s("span",null,"Squares",-1)),s("strong",null,l(((w=n.teams[t])==null?void 0:w.squares)??"â€”"),1)]),s("p",Ls,[r[6]||(r[6]=s("span",null,"Lines",-1)),s("strong",null,l(((y=n.teams[t])==null?void 0:y.lines)??"â€”"),1)])]),s("div",Es,[(L=(O=n.teams[t])==null?void 0:O.player1)!=null&&L.twitch?(c(),i("a",{key:0,href:n.teams[t].player1.twitch,target:"_blank",class:"twitch-link"},[S(a,{class:"twitch-icon"}),s("span",Os,l(n.teams[t].player1.name),1)],8,js)):f("",!0),(E=(P=n.teams[t])==null?void 0:P.player2)!=null&&E.twitch?(c(),i("a",{key:1,href:n.teams[t].player2.twitch,target:"_blank",class:"twitch-link"},[S(a,{class:"twitch-icon"}),s("span",Ns,l(n.teams[t].player2.name),1)],8,Ps)):f("",!0)])],6)}),128))]),s("div",Rs,[s("div",Ds,[r[8]||(r[8]=s("h3",{class:"bo3-title"},"BEST OF 3 SERIES",-1)),s("p",Gs,l(n.getSeriesResultText),1),n.seriesWinnerTeam?(c(),i("p",As,[r[7]||(r[7]=s("span",{class:"crown-icon"},"ðŸ‘‘",-1)),J(" "+l(n.seriesWinnerTeam)+" wins the series! ",1)])):f("",!0)]),s("div",{class:M(["bo3-scoreboard",{"bo3-scoreboard-live":p.isLive}])},[s("div",Bs,[s("span",Hs,l(n.seriesScore.team1),1),s("span",xs,l(n.seriesScore.p1wins),1)]),s("div",Us,[(c(!0),i(T,null,I(n.maxGames,t=>(c(),i("div",{key:"dot-"+t,class:M(["game-dot",{"not-played":!n.currentMatchGames[t-1]}]),style:B(n.getDotStyle(t-1))},l(t),7))),128))]),s("div",Vs,[s("span",qs,l(n.seriesScore.p2wins),1),s("span",Fs,l(n.seriesScore.team2),1)])],2),s("div",zs,[(c(!0),i(T,null,I(n.currentMatchGames,t=>(c(),i("div",{key:t.gameid,class:"game-box",style:B(n.getGameBoxStyle(t))},[s("div",Ks,[s("h4",Ys,"Game "+l(t.gameid),1),t.matchTime?(c(),i("span",Zs," â± "+l(t.matchTime),1)):f("",!0)]),s("div",Js,[s("p",{class:M(n.getWinnerColor(t,"p1"))},l(t.player1.name)+" â€” "+l(t.player1.score),3),s("p",{class:M(n.getWinnerColor(t,"p2"))},l(t.player2.name)+" â€” "+l(t.player2.score),3)]),s("p",Qs,l(/majority|bingo/i.test(t.player1.outcome)?t.player1.outcome:/majority|bingo/i.test(t.player2.outcome)?t.player2.outcome:"No board decided yet"),1),s("div",Xs,[t.imageLink&&t.imageLink.trim()?(c(),i("button",{key:0,onClick:m=>n.openModal(t.imageLink),class:"image-button","aria-label":"Open board image"},[S(u,{class:"marika-eye"})],8,et)):f("",!0),t.vodLink?(c(),i("a",{key:1,href:t.vodLink,target:"_blank",class:"vod-button","aria-label":"Open VOD"},[S(a,{class:"youtube-icon"})],8,st)):f("",!0)])],4))),128))])])]),n.showModal?(c(),i("div",{key:0,class:"modal-overlay",onClick:r[1]||(r[1]=X((...t)=>n.closeModal&&n.closeModal(...t),["self"]))},[s("div",tt,[s("button",{class:"close-button",onClick:r[0]||(r[0]=(...t)=>n.closeModal&&n.closeModal(...t))},"âœ•"),s("img",{src:n.modalImage,alt:"Match Board",class:"modal-image"},null,8,nt)])])):f("",!0)])):f("",!0)}const at=D(us,[["render",ot],["__scopeId","data-v-e8650069"]]),rt=H({name:"Crucible",components:{Navigation:_e,Standings:ze,Results:ds,UpcomingMatches:ge,CruciblePlayoffs:at},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),lt={class:"main-container"};function it(p,r,b,n,_,v){const a=$("Navigation"),u=$("CruciblePlayoffs"),t=$("Standings"),m=$("Results");return c(),i("div",null,[S(a),s("div",lt,[r[0]||(r[0]=s("div",{class:"top-image-container"},[s("img",{src:Me,class:"background-img"}),s("img",{src:Ce,class:"logo"})],-1)),S(u),S(t),S(m)])])}const ft=D(rt,[["render",it],["__scopeId","data-v-31f1ade7"]]);export{ft as default};
