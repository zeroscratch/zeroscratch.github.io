import{d as I,r as p,e as P,f as F,o,c as u,i as v,N as H,a as e,F as h,b as N,n as i,t as n,g as b,h as B,w as Y,M as K,T as W,Y as D,I as J,_ as q,S as Q,p as U,j as M}from"./index-BIK47HUQ.js";const X={class:"container mx-auto p-6"},Z={class:"player-select"},ee={class:"player-buttons"},ae=["onClick"],se={class:"profile-table-container"},te=["src"],le={class:"player-details"},ne={class:"player-details"},oe=["innerHTML"],re={key:1,class:"table-container small-table"},ce={class:"results-table"},ue={rowspan:2},ie={rowspan:2},de={rowspan:2},pe={rowspan:2},ve=["href"],ye={key:1},_e={rowspan:2},fe=["src"],me=I({__name:"playerProfiles",setup(L){const l=p(""),f=p([]),r=p({}),y=p([]),k=p([]),m=p(!1),g=p(void 0),w=async()=>{const a=(await(await fetch("/data/goldenOrderPlayerProfile.csv")).text()).trim().split(`
`).map(d=>d.split(",")),c=a[0];y.value=a.slice(1).map(d=>c.reduce((C,z,E)=>(C[z]=d[E]||"",C),{})),f.value=y.value.map(d=>d.Name)},T=s=>{const t=y.value.find(a=>a.Name===s);return t?t["MPS AVG"]:null},$=(s,t)=>{const a=y.value.find(d=>d.Name===s);if(!a)return"N/A";const c=`MPS G${t+1}`;return a[c]||"N/A"},A=s=>{const t=y.value.find(a=>a.Name===s);return t?t["Total Squares"]:null},G=async()=>{const s=await fetch("/data/goldenOrderPlayerData.json");r.value=await s.json()},R=async()=>{const t=await(await fetch("/data/normalizedResults.json")).json();k.value=t.goldenOrder.flatMap(a=>a.matches)},S=P(()=>k.value.filter(s=>s.player1.name===l.value||s.player2.name===l.value)),V=s=>{g.value=s,m.value=!0},_=s=>s==="Bingo"||s==="Majority"?"highlight-green":s==="Lost"?"highlight-red":"",j=P(()=>{const s=r.value[l.value];if(!l.value||!s||!s["division-seed"])return"bg-gray-800";const t=s["division-seed"];return t.includes("Redmane")?"highlight-redmane":t.includes("Recusant")?"highlight-recusant":"bg-gray-800"}),x=s=>{var a;const t=((a=r.value[s])==null?void 0:a["division-seed"])||"";return t.includes("Redmane")?"redmane":t.includes("Recusant")?"recusant":""},O=P(()=>{var t;return(((t=r.value[l.value])==null?void 0:t.accolades)||"").split("|").map(a=>a.trim()).join("<br>")});return F(async()=>{await w(),await G(),await R(),f.value.length>0&&(l.value=f.value[0])}),(s,t)=>(o(),u(h,null,[v(H,{class:"alpha"}),e("div",X,[e("div",Z,[t[1]||(t[1]=e("label",{class:"player-select-label"},"Select Player:",-1)),e("div",ee,[(o(!0),u(h,null,N(f.value,a=>(o(),u("button",{key:a,onClick:c=>l.value=a,class:i(["player-button",l.value===a?"selected":"",x(a)])},n(a),11,ae))),128))])])]),e("div",se,[l.value&&r.value[l.value]?(o(),u("div",{key:0,class:i(["player-info",j.value])},[e("img",{src:r.value[l.value]["player-pic"],alt:"Player Image",class:"player-img"},null,8,te),e("div",le,[e("h2",null,n(l.value),1),e("div",ne,[e("p",null,"Division: "+n(r.value[l.value]["division-seed"]),1),e("p",null,"Record: "+n(r.value[l.value].record),1),e("p",null,"Bingo Lines: "+n(r.value[l.value].lines),1),e("p",null,"Total Squares: "+n(A(l.value)),1),e("p",null,"Square Pace AVG: "+n(T(l.value)||"N/A")+" MPS",1),e("p",{innerHTML:O.value,class:"accolades-style"},null,8,oe)])])],2)):b("",!0),S.value.length?(o(),u("div",re,[e("table",ce,[t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",null,"Game"),e("th",null,"Player"),e("th",null,"Score"),e("th",null,"Win Condition"),e("th",null,"Match Time"),e("th",null,"Square Pace"),e("th",null,"VOD"),e("th",null,"Board")])],-1)),e("tbody",null,[(o(!0),u(h,null,N(S.value,(a,c)=>(o(),u(h,{key:c},[e("tr",{class:i({"new-game-row":c===0||S.value[c-1].gameId!==a.gameId})},[e("td",ue,n(c+1),1),e("td",{class:i(_(a.player1.outcome))},n(a.player1.name),3),e("td",{class:i(_(a.player1.outcome))},n(a.player1.score),3),e("td",{class:i(_(a.player1.outcome))},n(a.player1.outcome),3),e("td",ie,n(a.matchTime),1),e("td",de,n($(l.value,c)||"N/A"),1),e("td",pe,[a.vodLink?(o(),u("a",{key:0,href:a.vodLink,target:"_blank",class:"no-hover"},[v(D)],8,ve)):(o(),u("span",ye,[v(D)]))]),e("td",_e,[a.imageLink?(o(),B(J,{key:0,onClick:d=>V(a.imageLink),class:"marika-eye"},null,8,["onClick"])):b("",!0)])],2),e("tr",null,[e("td",{class:i(_(a.player2.outcome))},n(a.player2.name),3),e("td",{class:i(_(a.player2.outcome))},n(a.player2.score),3),e("td",{class:i(_(a.player2.outcome))},n(a.player2.outcome),3)])],64))),128))])])])):b("",!0),(o(),B(W,{to:"body"},[v(K,{show:m.value,onClose:t[0]||(t[0]=a=>m.value=!1)},{default:Y(()=>[e("img",{src:g.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,fe)]),_:1},8,["show"])]))])],64))}}),ge=q(me,[["__scopeId","data-v-74a854dc"]]),he=I({name:"Stats",components:{PlayerProfiles:ge,SquareStats:Q,playoffBracket:U}});function ke(L,l,f,r,y,k){const m=M("PlayerProfiles"),g=M("playoffBracket"),w=M("SquareStats");return o(),u("div",null,[v(m),l[0]||(l[0]=e("h1",{class:"center"},"Golden Order Bracket",-1)),v(g),l[1]||(l[1]=e("h1",{class:"center"},"Golden Order Square Stats",-1)),l[2]||(l[2]=e("p",{class:"center"},"No Playoffs Counted for Now",-1)),v(w)])}const Se=q(he,[["render",ke],["__scopeId","data-v-122175bc"]]);export{Se as default};
