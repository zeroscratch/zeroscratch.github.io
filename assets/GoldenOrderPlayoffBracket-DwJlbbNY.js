import{d as T,r as g,g as $,c as d,t as n,a as e,F as L,b as x,o as l,_ as N,y as C,p as S,n as h,e as E,C as B,T as F}from"./index-BPcs2dOJ.js";import{M,I as G}from"./IconMarikasEye-DcMboBOc.js";import{Y as O}from"./youtube-icon-BXEFbuZ7.js";const q=async()=>{const f="/data/ESS2/goldenOrderSquareStats.json";try{const r=await fetch(f);if(!r.ok)throw new Error(`Failed to fetch challenge records: ${r.statusText}`);const y=await r.json();return{records:Object.entries(y).map(([m,i])=>({name:m,completed:i.Completed,appeared:i.Appeared,ratio:i.Ratio,appearance:i.Appearance}))}}catch(r){throw console.error(r),new Error("Failed to load challenge records. Please try again later.")}},H={class:"container"},I={key:0,class:"error"},P={key:1,class:"table-container"},W={class:"results-table"},J={class:"left-column"},K=T({__name:"GoldenOrderSquareStatsTable",setup(f){const r=g({records:[]}),y=g(null),v=g("name"),m=g("asc");$(async()=>{let u=71;try{const c=await q();r.value.records=c.records.map(t=>{const o=t.appeared>0?Number((t.completed/t.appeared*100).toFixed(0)):0,s=Number((t.appeared/u*100).toFixed(0));return{...t,ratio:o,appearance:s}}),r.value.records.sort((t,o)=>t.name.localeCompare(o.name))}catch(c){y.value=c.message}});const i=u=>{v.value===u?m.value=m.value==="asc"?"desc":"asc":(v.value=u,m.value="desc"),r.value.records.sort((c,t)=>{let o=parseFloat(c[u]),s=parseFloat(t[u]);return m.value==="asc"?o-s:s-o})},p=()=>{v.value==="name"?m.value=m.value==="asc"?"desc":"asc":(v.value="name",m.value="desc"),r.value.records.sort((u,c)=>{const t=u.name.toLowerCase(),o=c.name.toLowerCase();return m.value==="asc"?t.localeCompare(o):o.localeCompare(t)})};return(u,c)=>(l(),d("div",H,[y.value?(l(),d("div",I,n(y.value),1)):(l(),d("div",P,[e("table",W,[e("thead",null,[e("tr",null,[e("th",{onClick:p,class:"sortable"},"Square Name ⬍"),e("th",{onClick:c[0]||(c[0]=t=>i("completed")),class:"sortable"},"Completed ⬍"),e("th",{onClick:c[1]||(c[1]=t=>i("appeared")),class:"sortable"},"Appeared ⬍"),e("th",{onClick:c[2]||(c[2]=t=>i("ratio")),class:"sortable"},"Completion % ⬍"),e("th",{onClick:c[3]||(c[3]=t=>i("appearance")),class:"sortable"},"Appearance % ⬍")])]),e("tbody",null,[(l(!0),d(L,null,x(r.value.records,(t,o)=>(l(),d("tr",{key:o},[e("td",J,n(t.name),1),e("td",null,n(t.completed),1),e("td",null,n(t.appeared),1),e("td",null,n(t.ratio)+"%",1),e("td",null,n(t.appearance)+"%",1)]))),128))])])]))]))}}),ye=N(K,[["__scopeId","data-v-ce1226ac"]]),Q={class:"bracket-container"},A={class:"wrapper"},U={class:"item"},j={class:"item-childrens"},z={class:"item-child"},V={class:"item"},X={class:"item-childrens"},Y={class:"item-child"},D={class:"item"},Z={class:"item-child"},ee={class:"item"},se={class:"item-childrens"},ae={key:0,class:"match-details"},te={class:"game-info"},oe={class:"player"},ne={class:"player"},ie={class:"outcome"},ce={key:0},re={key:1},le={key:0,class:"icon-row"},me=["href"],de=["src"],ue=T({__name:"GoldenOrderPlayoffBracket",setup(f){const r=g(!1),y=g(void 0),v=g({"match-1":[{gameid:1,player1:{name:"Helios",score:11,outcome:"loss",division:"Redmane"},player2:{name:"Shura",score:13,outcome:"win",division:"Recusant"},matchTime:"01:47:04",vodLink:"https://youtu.be/mnQ9ez-6FSg?si=nu5473GKwosFcJK9&t=36",imageLink:"/img/ESS2/shura-v-helios-playoff-1.png"},{gameid:2,player1:{name:"Helios",score:11,outcome:"loss",division:"Redmane"},player2:{name:"Shura",score:13,outcome:"win",division:"Recusant"},matchTime:"01:35:28",vodLink:"https://youtu.be/mnQ9ez-6FSg?si=cJPvwFMhXHrZJjtK&t=7975",imageLink:"/img/ESS2/shura-v-helios-playoff-2.png"}],"match-2":[{gameid:1,player1:{name:"Helios",score:13,outcome:"win",division:"Redmane"},player2:{name:"Nartock",score:11,outcome:"loss",division:"Recusant"},matchTime:"01:25:58",vodLink:"https://youtu.be/3ZFmE6-GSeU?si=bsO4j3X-hXwwBRYs&t=12",imageLink:"/img/ESS2/helios-v-nartock-1.png"},{gameid:2,player1:{name:"Helios",score:13,outcome:"win",division:"Redmane"},player2:{name:"Nartock",score:11,outcome:"loss",division:"Recusant"},matchTime:"01:35:40",vodLink:"https://youtu.be/3ZFmE6-GSeU?si=4pXYcSVTq64wdwuY&t=5553",imageLink:"/img/ESS2/helios-v-nartock-2.png"}],"match-3":[{gameid:1,player1:{name:"Shura",score:10,outcome:"win",division:"Recusant"},player2:{name:"Nexus",score:8,outcome:"loss",division:"Recusant"},matchTime:"01:06:42",vodLink:"https://youtu.be/ct-uvJf-m6o?si=iURg-9jRgkpWPqXz&t=18",imageLink:"/img/ESS2/shura-v-nexus-playoff-1.png"},{gameid:2,player1:{name:"Shura",score:9,outcome:"loss",division:"Recusant"},player2:{name:"Nexus",score:13,outcome:"win",division:"Recusant"},matchTime:"01:47:13",vodLink:"https://youtu.be/ct-uvJf-m6o?si=xrfOdwt9I2ZQncLA&t=4608",imageLink:"/img/ESS2/shura-v-nexus-playoff-2.png"},{gameid:3,player1:{name:"Shura",score:13,outcome:"win",division:"Recusant"},player2:{name:"Nexus",score:9,outcome:"loss",division:"Recusant"},matchTime:"01:33:41",vodLink:"https://youtu.be/ct-uvJf-m6o?si=lbTyTi4Ie50agOZH&t=11683",imageLink:"/img/ESS2/shura-v-nexus-playoff-3.png"}],"match-4":[{gameid:1,player1:{name:"Helios",score:13,outcome:"win",division:"Redmane"},player2:{name:"Stocko",score:11,outcome:"loss",division:"Recusant"},matchTime:"01:35:01",vodLink:"https://youtu.be/ffp1NLJP4UQ?si=eZflCt6ElQvwycQ0",imageLink:"/img/ESS2/helios-v-stocko-1.png"},{gameid:2,player1:{name:"Helios",score:13,outcome:"win",division:"Redmane"},player2:{name:"Stocko",score:9,outcome:"loss",division:"Recusant"},matchTime:"01:32:15",vodLink:"https://youtu.be/ffp1NLJP4UQ?si=MDTsflYcS12gpfTf&t=6083",imageLink:"/img/ESS2/helios-v-stocko-2.png"}],"match-5":[{gameid:1,player1:{name:"Nartock",score:10,outcome:"win",division:"Recusant"},player2:{name:"Asym",score:9,outcome:"loss",division:"Redmane"},matchTime:"01:24:44",vodLink:"https://youtu.be/9arl1szKycE?si=HrDt7HOXdB1-2gJq",imageLink:"/img/ESS2/nartock-v-asym-1.png"},{gameid:2,player1:{name:"Nartock",score:13,outcome:"win",division:"Recusant"},player2:{name:"Asym",score:8,outcome:"loss",division:"Redmane"},matchTime:"01:25:29",vodLink:"https://youtu.be/9arl1szKycE?si=le_p_vKwK-rcnLEd&t=5658",imageLink:"/img/ESS2/nartock-v-asym-2.png"}],"match-6":[{gameid:1,player1:{name:"Shura",score:6,outcome:"loss",division:"Recusant"},player2:{name:"Rambler",score:5,outcome:"win",division:"Redmane"},matchTime:"00:58:24",vodLink:"https://youtu.be/bEkfBsSLed8?si=TQE6LV8cjXLYCX5v&t=11",imageLink:"/img/ESS2/rambler-v-shura-1.png"},{gameid:2,player1:{name:"Shura",score:12,outcome:"win",division:"Recusant"},player2:{name:"Rambler",score:7,outcome:"loss",division:"Redmane"},matchTime:"01:19:02",vodLink:"https://youtu.be/bEkfBsSLed8?si=zqhp71fo1mUm2OUI&t=4149",imageLink:"/img/ESS2/rambler-v-shura-2.png"},{gameid:3,player1:{name:"Shura",score:13,outcome:"win",division:"Recusant"},player2:{name:"Rambler",score:5,outcome:"loss",division:"Redmane"},matchTime:"01:14:23",vodLink:"https://youtu.be/bEkfBsSLed8?si=PDKutuzFO19j-Qda&t=4154",imageLink:"/img/ESS2/rambler-v-shura-3.png"}],"match-7":[{gameid:1,player1:{name:"Nexus",score:13,outcome:"win",division:"Recusant"},player2:{name:"Strump",score:11,outcome:"loss",division:"Redmane"},matchTime:"01:40:35",vodLink:"https://youtu.be/TNgGGxtVCBg?si=KLVnU5SICq6G29-Y",imageLink:"/img/ESS2/nexus-v-strump-1.png"},{gameid:2,player1:{name:"Nexus",score:9,outcome:"win",division:"Recusant"},player2:{name:"Strump",score:2,outcome:"loss",division:"Redmane"},matchTime:"00:57:59",vodLink:"https://youtu.be/TNgGGxtVCBg?si=GpOusW6UQxdfwEMJ&t=6571",imageLink:"/img/ESS2/nexus-v-strump-2.png"}],"match-8":[{gameid:1,player1:{name:"Nartock",score:13,outcome:"win",division:"Recusant"},player2:{name:"Nexus",score:7,outcome:"loss",division:"Recusant"},matchTime:"01:08:10",vodLink:"https://www.twitch.tv/videos/2444244332?t=00h28m04s",imageLink:"/img/ESS2/nexus-v-nartock-playoffs-1.png"},{gameid:2,player1:{name:"Nartock",score:13,outcome:"win",division:"Recusant"},player2:{name:"Nexus",score:6,outcome:"loss",division:"Recusant"},matchTime:"01:10:34",vodLink:"https://www.twitch.tv/videos/2444244332?t=02h00m38s",imageLink:"/img/ESS2/nexus-v-nartock-playoff-2.png"}]}),m=g(null);function i(o){m.value=v.value[o]}function p(o){var a;const s=(a=v.value[o])==null?void 0:a[0];return s?`${s.player1.name} vs ${s.player2.name}`:"Match Not Played"}const u=o=>{y.value=o,r.value=!0},c=o=>{const{player1:s,player2:a}=o;return s.outcome==="win"?{"redmane-win":s.division==="Redmane","recusant-win":s.division==="Recusant"}:a.outcome==="win"?{"redmane-win":a.division==="Redmane","recusant-win":a.division==="Recusant"}:{}};function t(o){const s=v.value[o];if(!s||s.length===0)return"";let a=0,k=0;for(const b of s)b.player1.outcome==="win"&&a++,b.player2.outcome==="win"&&k++;const _=a>k?"player1":k>a?"player2":null;if(!_)return"";const w=_==="player1"?s[0].player1.name.trim().toLowerCase():s[0].player2.name.trim().toLowerCase();console.log(`Winner Name: ${w}`);const R=new Set(["nartock","shura","nexus"]);return console.log(`Recusant Players: ${[...R]}`),w==="helios"?(console.log("Winner is Helios"),"redmane-win"):R.has(w)?(console.log("Winner is Recusant"),"recusant-win"):(console.log("Fallback: Neutral"),"bg-neutral")}return(o,s)=>(l(),d(L,null,[e("div",Q,[e("div",A,[e("div",U,[e("div",{class:"item-parent",onClick:s[0]||(s[0]=a=>i("match-1"))},[e("p",{class:h(t("match-1"))},n(p("match-1")),3)]),e("div",j,[e("div",z,[e("div",V,[e("div",{class:"item-parent",onClick:s[1]||(s[1]=a=>i("match-2"))},[e("p",{class:h(t("match-2"))},n(p("match-2")),3)]),e("div",X,[e("div",Y,[e("div",D,[e("div",{class:"item-parent no-parent-connector",onClick:s[2]||(s[2]=a=>i("match-4"))},[e("p",{class:h(t("match-4"))},n(p("match-4")),3)])])]),e("div",{class:"item-child",onClick:s[3]||(s[3]=a=>i("match-5"))},[e("p",{class:h(t("match-5"))},n(p("match-5")),3)])])])]),e("div",Z,[e("div",ee,[e("div",{class:"item-parent",onClick:s[4]||(s[4]=a=>i("match-3"))},[e("p",{class:h(t("match-3"))},n(p("match-3")),3)]),e("div",se,[e("div",{class:"item-child",onClick:s[5]||(s[5]=a=>i("match-6"))},[e("p",{class:h(t("match-6"))},n(p("match-6")),3)]),e("div",{class:"item-child",onClick:s[6]||(s[6]=a=>i("match-7"))},[e("p",{class:h(t("match-7"))},n(p("match-7")),3)])])])])])]),e("div",{class:"third-place",onClick:s[7]||(s[7]=a=>i("match-8"))},[e("p",{class:h(t("match-8"))}," 3rd Place Match: "+n(p("match-8")),3)])]),m.value?(l(),d("div",ae,[s[9]||(s[9]=e("h2",null,"Match Details",-1)),(l(!0),d(L,null,x(m.value,a=>(l(),d("div",{class:h(["game-card",c(a)]),key:a.gameid},[e("div",te,[e("div",oe,n(a.player1.name)+" ("+n(a.player1.division)+") - "+n(a.player1.score),1),e("div",ne,n(a.player2.name)+" ("+n(a.player2.division)+") - "+n(a.player2.score),1),e("div",ie,[a.player1.outcome==="win"||a.player2.outcome==="win"?(l(),d("span",ce," Winner: "+n(a.player1.outcome==="win"?a.player1.name:a.player2.name),1)):(l(),d("span",re," Winner: TBD "))]),a.imageLink||a.vodLink?(l(),d("div",le,[a.imageLink?(l(),C(G,{key:0,onClick:k=>u(a.imageLink),class:"marika-eye"},null,8,["onClick"])):S("",!0),a.vodLink?(l(),d("a",{key:1,href:a.vodLink,target:"_blank",class:"no-hover"},[E(O)],8,me)):S("",!0)])):S("",!0)])],2))),128))])):S("",!0)]),(l(),C(F,{to:"body"},[E(M,{show:r.value,onClose:s[8]||(s[8]=a=>r.value=!1)},{default:B(()=>[e("img",{src:y.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,de)]),_:1},8,["show"])]))],64))}}),ge=N(ue,[["__scopeId","data-v-f2117a2a"]]);export{ye as S,ge as p};
