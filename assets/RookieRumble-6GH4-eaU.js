import{_ as C,m as P,r as b,f as S,j as g,o as p,c as f,a as e,F as R,b as M,n as h,t as i,i as w,g as $,d as T,M as D,I as F,e as Q,h as L,w as j,T as B,q,u as I,N as A}from"./index-BlHAnnPc.js";import{_ as E}from"./the-erdtree-elden-ring-thumb-BQpfM_5J.js";const W="/data/RookieRumbleData/rookieRumbleStandings.json";async function N(){const s=await(await fetch(W)).json(),v=Object.entries(s).map(([m,d])=>{const l=d.wins,c=d.losses,r=l+c,o=G(d.opponentWins,d.opponentLoss);return{...d,name:m,games:r,wr:V(l,r),sos:o}});return v.sort((m,d)=>{if(d.wins!==m.wins)return d.wins-m.wins;const l=parseInt(m.wr),c=parseInt(d.wr);return c!==l?c-l:d.sos!==m.sos?d.sos-m.sos:d.victory.includes(m.name)?d.wins-m.wins:d.lines!==m.lines?d.lines-m.lines:d.squares-m.squares}).forEach((m,d)=>{m.standing=d+1}),v}function V(t,s){if(s===0)return"0%";const v=t/s*100;return`${Math.round(v)}%`}function G(t,s){const v=t+s;return v===0?0:t/v}const U={name:"RookieRumbleTable",components:{TwitchIcon:P},setup(){const t=b([]),s=v=>v==="yes"?"qualified-yes":v==="maybe"?"qualified-maybe":"qualified-no";return S(async()=>{t.value=await N()}),{players:t,getQualificationClass:s}}},K={class:"table-container"},O=["href"];function z(t,s,v,m,d,l){const c=g("TwitchIcon");return p(),f("div",K,[e("table",null,[s[0]||(s[0]=e("thead",null,[e("tr",null,[e("th",null,"Standing"),e("th",null,"Player"),e("th",null,"Wins"),e("th",null,"Losses"),e("th",null,"WR"),e("th",null,"Games"),e("th",null,"Squares"),e("th",null,"Lines"),e("th",null,"Twitch")])],-1)),e("tbody",null,[(p(!0),f(R,null,M(m.players,r=>(p(),f("tr",{key:r.name,class:h(m.getQualificationClass(r.qualified))},[e("td",null,i(r.standing),1),e("td",null,i(r.name),1),e("td",null,i(r.wins),1),e("td",null,i(r.losses),1),e("td",null,i(r.wr),1),e("td",null,i(r.games),1),e("td",null,i(r.squares),1),e("td",null,i(r.lines),1),e("td",null,[r.twitch?(p(),f("a",{key:0,href:r.twitch,class:"twitch-link"},[w(c,{class:"icon"})],8,O)):$("",!0)])],2))),128))])])])}const H=C(U,[["render",z],["__scopeId","data-v-16a76517"]]);async function J(){const t="/data/RookieRumbleData/rookieRumbleMatchResults.json";try{const s=await fetch(t);if(!s.ok)throw new Error(`Failed to fetch stats: ${s.statusText}`);const v=await s.json();if(!Array.isArray(v))throw new Error("Invalid format: expected an array of weeks.");return{matches:v.flatMap(d=>d.matches.map(l=>({...l,week:d.week})))}}catch(s){throw console.error(s),new Error("Failed to load Rookie Rumble Match Results. Please try again later.")}}const Y=T({name:"RookieRumbleResultsTable",components:{Modal:D,IconMarikasEye:F},setup(){const t=b({matches:[]}),s=b(!1),v=b(null),m=b(null),d=b(null),l=u=>{v.value=u,s.value=!0},c=u=>u==="Bingo"||u==="Majority"?"highlight-green":u==="Lost"?"highlight-red":"",r=Q(()=>{const u=new Set(t.value.matches.map(y=>y.week));return Array.from(u).sort((y,k)=>y-k)}),o=Q(()=>d.value!==null?t.value.matches.filter(u=>u.week===d.value):t.value.matches);return S(async()=>{try{t.value=await J();const u=r.value;u.length>0&&(d.value=u[u.length-1])}catch(u){m.value=u.message}}),{currentResults:t,showModal:s,modalImage:v,errorMessage:m,selectedWeek:d,weeks:r,filteredMatches:o,openModal:l,getCellClass:c}}}),Z={class:"container"},X={key:0,class:"error"},x={class:"table-container"},ee={class:"results-table"},se={class:"table-caption"},te={class:"week-button-group"},oe=["onClick"],ne={rowspan:2},ae={rowspan:2},le={rowspan:2},re=["src"];function ie(t,s,v,m,d,l){const c=g("IconMarikasEye"),r=g("Modal");return p(),f("div",Z,[t.errorMessage?(p(),f("div",X,i(t.errorMessage),1)):$("",!0),e("div",x,[e("table",ee,[e("caption",se,[e("div",te,[(p(!0),f(R,null,M(t.weeks,o=>(p(),f("button",{key:o,class:h(["week-button",{active:t.selectedWeek===o}]),onClick:u=>t.selectedWeek=o}," Week "+i(o),11,oe))),128)),e("button",{class:h(["week-button",{active:t.selectedWeek===null}]),onClick:s[0]||(s[0]=o=>t.selectedWeek=null)}," All Weeks ",2)])]),s[2]||(s[2]=e("thead",null,[e("tr",null,[e("th",null,"Game"),e("th",null,"Player"),e("th",null,"Score"),e("th",null,"Outcome"),e("th",null,"Time"),e("th",null,"Board")])],-1)),e("tbody",null,[(p(!0),f(R,null,M(t.filteredMatches,(o,u)=>(p(),f(R,{key:u},[e("tr",{class:h({"new-game-row":u===0||t.filteredMatches[u-1].gameId!==o.gameId})},[e("td",ne,i(o.gameId),1),e("td",{class:h(t.getCellClass(o.player1.outcome))},i(o.player1.name),3),e("td",{class:h(t.getCellClass(o.player1.outcome))},i(o.player1.score),3),e("td",{class:h(t.getCellClass(o.player1.outcome))},i(o.player1.outcome),3),e("td",ae,i(o.matchTime),1),e("td",le,[o.imageLink?(p(),L(c,{key:0,onClick:y=>t.openModal(o.imageLink),class:"marika-eye"},null,8,["onClick"])):$("",!0)])],2),e("tr",null,[e("td",{class:h(t.getCellClass(o.player2.outcome))},i(o.player2.name),3),e("td",{class:h(t.getCellClass(o.player2.outcome))},i(o.player2.score),3),e("td",{class:h(t.getCellClass(o.player2.outcome))},i(o.player2.outcome),3)])],64))),128))])])]),(p(),L(B,{to:"body"},[w(r,{show:t.showModal,onClose:s[1]||(s[1]=o=>t.showModal=!1)},{default:j(()=>[e("img",{src:t.modalImage,alt:"Board",style:{"max-width":"100%",height:"auto"}},null,8,re)]),_:1},8,["show"])]))])}const ce=C(Y,[["render",ie],["__scopeId","data-v-40f2a17e"]]),de=T({name:"UpcomingMatchCards",setup(){const t=b([]),s=b(null),v=async()=>{try{const l=await fetch("/data/RookieRumbleData/rookieRumbleUpcomingMatches.json");if(!l.ok)throw new Error(`Failed to fetch: ${l.statusText}`);const c=await l.json(),r=new Date;t.value=c.map(o=>{const u=new Date(o.scheduledAt),y=new Date(r.getTime()-2*60*60*1e3),k=u<=r&&u>=y;return{...o,isLive:k}}).filter(o=>{const u=new Date(o.scheduledAt),y=new Date(r.getTime()-2*60*60*1e3);return u>y})}catch(l){s.value=l.message}},m=l=>new Date(l).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZoneName:"short"}),d=l=>{l.isLive&&window.open("https://www.twitch.tv/hoozher")};return S(v),{matches:t,errorMessage:s,formatDate:m,handleMatchClick:d}}}),ue={class:"upcoming-matches"},me={key:0,class:"error"},pe={class:"match-grid"},ve=["onClick"],fe={class:"players"},he={class:"player"},ke={class:"player"},_e={class:"scheduled"},ye={class:"referee"},be={key:0,class:"type"},we={key:1,class:"live-badge"};function ge(t,s,v,m,d,l){return p(),f("div",ue,[t.errorMessage?(p(),f("div",me,i(t.errorMessage),1)):$("",!0),e("div",pe,[(p(!0),f(R,null,M(t.matches.slice(0,3),(c,r)=>(p(),f("div",{key:r,class:h(["match-card",{live:c.isLive}]),onClick:o=>t.handleMatchClick(c),style:{cursor:"pointer"}},[e("h3",null,i(c.title),1),e("div",fe,[e("span",he,i(c.firstPlayer),1),s[0]||(s[0]=e("span",{class:"vs"},"vs",-1)),e("span",ke,i(c.secondPlayer),1)]),e("div",_e,i(t.formatDate(c.scheduledAt)),1),e("div",ye,i(c.ref),1),c.matchType===2?(p(),f("div",be,"Best of 3")):$("",!0),c.isLive?(p(),f("div",we,"LIVE")):$("",!0)],10,ve))),128))])])}const $e=C(de,[["render",ge],["__scopeId","data-v-4cbbd122"]]),Re=T({name:"RookieRumbleSquareStats",setup(){const t=b([]),s=b("name"),v=b("asc"),m=Q(()=>{const l=v.value==="asc"?1:-1,c=s.value;return[...t.value].sort((r,o)=>{const u=r[c],y=o[c];return typeof u=="number"&&typeof y=="number"?(u-y)*l:String(u).localeCompare(String(y),void 0,{sensitivity:"base"})*l})});S(async()=>{try{const c=await(await fetch("/data/RookieRumbleData/rookieRumbleSquareStats.json")).json(),r=Object.entries(c),o=100;t.value=r.map(([u,y])=>{const k=y.Completed??0,_=y.Appeared??0;return{name:u,completed:k,appeared:_,completedPercentage:_>0?Number((k/_*100).toFixed(1)):0,appearedPercentage:o>0?Number((_/o*100).toFixed(1)):0}})}catch(l){console.error("Error loading square stats:",l)}});function d(l){s.value===l?v.value=v.value==="asc"?"desc":"asc":(s.value=l,v.value="desc")}return{sortedSquares:m,changeSort:d,sortKey:s,sortDirection:v}}}),Ce={class:"stats-table-container"},Me={class:"square-stats-table"};function Se(t,s,v,m,d,l){return p(),f("div",Ce,[e("table",Me,[e("thead",null,[e("tr",null,[e("th",{onClick:s[0]||(s[0]=c=>t.changeSort("name"))},"Square ▲▼"),e("th",{onClick:s[1]||(s[1]=c=>t.changeSort("completed"))},"Completed ▲▼"),e("th",{onClick:s[2]||(s[2]=c=>t.changeSort("appeared"))},"Appeared ▲▼"),e("th",{onClick:s[3]||(s[3]=c=>t.changeSort("completedPercentage"))},"Completed % ▲▼"),e("th",{onClick:s[4]||(s[4]=c=>t.changeSort("appearedPercentage"))},"Appeared % ▲▼")])]),e("tbody",null,[(p(!0),f(R,null,M(t.sortedSquares,(c,r)=>(p(),f("tr",{key:r},[e("td",null,i(c.name),1),e("td",null,i(c.completed),1),e("td",null,i(c.appeared),1),e("td",null,i(c.completedPercentage.toFixed(1))+"%",1),e("td",null,i(c.appearedPercentage.toFixed(1))+"%",1)]))),128))])])])}const Le=C(Re,[["render",Se],["__scopeId","data-v-14b507e1"]]),Te={},Ie={class:"key-container"};function Qe(t,s){return p(),f("div",Ie,s[0]||(s[0]=[q('<div class="key-item" data-v-e295915b><div class="box green" data-v-e295915b></div><span class="label" data-v-e295915b>Qualified for Playoffs</span></div><div class="key-item" data-v-e295915b><div class="box red" data-v-e295915b></div><span class="label" data-v-e295915b>Eliminated from Playoffs</span></div>',2)]))}const Pe=C(Te,[["render",Qe],["__scopeId","data-v-e295915b"]]),De={class:"bracket-container"},Fe={class:"bracket-side"},je={class:"wrapper"},Be={class:"item"},qe={class:"item-childrens"},Ae={class:"item-child"},Ee={class:"item"},We={class:"item-childrens"},Ne={class:"item-child"},Ve={class:"item"},Ge={class:"item-child"},Ue={class:"item"},Ke={class:"item-childrens"},Oe={class:"wrapper"},ze={class:"item"},He={class:"item-childrens"},Je={class:"item-child"},Ye={class:"item"},Ze={class:"item-childrens"},Xe={class:"item-child"},xe={class:"item"},es={class:"item-child"},ss={class:"item"},ts={class:"item-childrens"},os={key:0,class:"match-details"},ns={class:"game-info"},as={class:"player"},ls={class:"player"},rs={class:"outcome"},is={key:0},cs={key:1},ds={key:0,class:"icon-row"},us=["href"],ms=["src"],ps={__name:"RookieRumbleBracket",setup(t){const s=b(!1),v=b(void 0),m=b({}),d=b(null);let l="Majority";async function c(){try{const _=await fetch("/data/RookieRumbleData/rookieRumblePlayoffMatches.json");if(!_.ok)throw new Error("Failed to load match data");m.value=await _.json()}catch(_){console.error("Error loading match data:",_)}}S(()=>{c()});function r(_){d.value=m.value[_]}function o(_){var a;const n=(a=m.value[_])==null?void 0:a[0];return n?`${n.player1.name} vs ${n.player2.name}`:"Match Not Played"}function u(_){v.value=_,s.value=!0}function y(_){const{player1:n,player2:a}=_;return n.name==="Lemon"&&n.outcome===l||a.name==="Lemon"&&a.outcome===l?"lemon-win":n.name==="Vakrash"&&n.outcome===l||a.name==="Vakrash"&&a.outcome===l?"vakrash-win":n.name==="Vexphile"&&n.outcome===l||a.name==="Vexphile"&&a.outcome===l?"vexphile-win":n.name==="Jibbe"&&n.outcome===l||a.name==="Jibbe"&&a.outcome===l?"jibbe-win":n.name==="Dyrax"&&n.outcome===l||a.name==="Dyrax"&&a.outcome===l?"dyrax-win":n.name==="Vord"&&n.outcome===l||a.name==="Vord"&&a.outcome===l?"vord-win":n.name==="Thomas"&&n.outcome===l||a.name==="Thomas"&&a.outcome===l?"thomas-win":n.name==="TurtleBeard"&&n.outcome===l||a.name==="TurtleBeard"&&a.outcome===l?"turtlebeard-win":{}}function k(_){var a;const n=(a=m.value[_])==null?void 0:a[0];return n?y(n):{}}return(_,n)=>(p(),f(R,null,[e("div",De,[e("div",Fe,[e("div",je,[e("div",Be,[e("div",{class:"item-parent",onClick:n[0]||(n[0]=a=>r("GrandFinals"))},[e("p",{class:h(k("GrandFinals"))},i(o("GrandFinals")),3)]),e("div",{class:"item-parent",onClick:n[1]||(n[1]=a=>r("Finals"))},[e("p",{class:h(k("Finals"))},i(o("Finals")),3)]),e("div",qe,[e("div",Ae,[e("div",Ee,[e("div",{class:"item-parent",onClick:n[2]||(n[2]=a=>r("Semifinals-1"))},[e("p",{class:h(k("Semifinals-1"))},i(o("Semifinals-1")),3)]),e("div",We,[e("div",Ne,[e("div",Ve,[e("div",{class:"item-parent no-parent-connector",onClick:n[3]||(n[3]=a=>r("Quarterfinals-1"))},[e("p",{class:h(k("Quarterfinals-1"))},i(o("Quarterfinals-1")),3)])])]),e("div",{class:"item-child",onClick:n[4]||(n[4]=a=>r("Quarterfinals-2"))},[e("p",{class:h(k("Quarterfinals-2"))},i(o("Quarterfinals-2")),3)])])])]),e("div",Ge,[e("div",Ue,[e("div",{class:"item-parent",onClick:n[5]||(n[5]=a=>r("Semifinals-2"))},[e("p",{class:h(k("Semifinals-2"))},i(o("Semifinals-2")),3)]),e("div",Ke,[e("div",{class:"item-child",onClick:n[6]||(n[6]=a=>r("Quarterfinals-3"))},[e("p",{class:h(k("Quarterfinals-3"))},i(o("Quarterfinals-3")),3)]),e("div",{class:"item-child",onClick:n[7]||(n[7]=a=>r("Quarterfinals-4"))},[e("p",{class:h(k("Quarterfinals-4"))},i(o("Quarterfinals-4")),3)])])])])])])]),e("div",Oe,[e("div",ze,[e("div",{class:"item-parent",onClick:n[8]||(n[8]=a=>r("LosersFinals"))},[e("p",{class:h(k("LosersFinals"))},i(o("LosersFinals")),3)]),e("div",{class:"item-parent",onClick:n[9]||(n[9]=a=>r("LosersSemifinals"))},[e("p",{class:h(k("LosersSemifinals"))},i(o("LosersSemifinals")),3)]),e("div",He,[e("div",Je,[e("div",Ye,[e("div",{class:"item-parent",onClick:n[10]||(n[10]=a=>r("LosersQuarterfinals-1"))},[e("p",{class:h(k("LosersQuarterfinals-1"))},i(o("LosersQuarterfinals-1")),3)]),e("div",Ze,[e("div",Xe,[e("div",xe,[e("div",{class:"item-parent no-parent-connector",onClick:n[11]||(n[11]=a=>r("LosersRound1-1"))},[e("p",{class:h(k("LosersRound1-1"))},i(o("LosersRound1-1")),3)])])])])])]),e("div",es,[e("div",ss,[e("div",{class:"item-parent",onClick:n[12]||(n[12]=a=>r("LosersQuarterfinals-2"))},[e("p",{class:h(k("LosersQuarterfinals-2"))},i(o("LosersQuarterfinals-2")),3)]),e("div",ts,[e("div",{class:"item-child",onClick:n[13]||(n[13]=a=>r("LosersRound1-2"))},[e("p",{class:h(k("LosersRound1-2"))},i(o("LosersRound1-2")),3)])])])])])])])]),d.value?(p(),f("div",os,[n[15]||(n[15]=e("h2",null,"Match Details",-1)),(p(!0),f(R,null,M(d.value,a=>(p(),f("div",{class:h(["game-card",y(a)]),key:a.gameid},[e("div",ns,[e("div",as,i(a.player1.name)+" - "+i(a.player1.score),1),e("div",ls,i(a.player2.name)+" - "+i(a.player2.score),1),e("div",rs,[a.player1.outcome===I(l)||a.player2.outcome===I(l)?(p(),f("span",is," Winner: "+i(a.player1.outcome===I(l)?a.player1.name:a.player2.name),1)):(p(),f("span",cs," Winner: TBD "))]),a.imageLink||a.vodLink?(p(),f("div",ds,[a.imageLink?(p(),L(F,{key:0,onClick:ys=>u(a.imageLink),class:"marika-eye"},null,8,["onClick"])):$("",!0),a.vodLink?(p(),f("a",{key:1,href:a.vodLink,target:"_blank",class:"no-hover"},[w(P)],8,us)):$("",!0)])):$("",!0)])],2))),128))])):$("",!0)]),(p(),L(B,{to:"body"},[w(D,{show:s.value,onClose:n[14]||(n[14]=a=>s.value=!1)},{default:j(()=>[e("img",{src:v.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,ms)]),_:1},8,["show"])]))],64))}},vs=C(ps,[["__scopeId","data-v-665d36c1"]]),fs="/rookie-rumble-public/Rookie_Rumble_2_Logo.png",hs=T({name:"RookieRumble",components:{RookieRumbleTable:H,Navigation:A,RookieRumbleResultsTable:ce,RookieRumbleUpcomingMatches:$e,RookieRumbleSquareStats:Le,playoffKey:Pe,PlayoffBracket:vs},mounted(){document.body.style.backgroundColor="#10002b"},beforeUnmount(){document.body.style.backgroundColor="#0d1321"}}),ks={class:"main-container"};function _s(t,s,v,m,d,l){const c=g("Navigation"),r=g("RookieRumbleUpcomingMatches"),o=g("PlayoffBracket"),u=g("RookieRumbleTable"),y=g("playoffKey"),k=g("RookieRumbleResultsTable"),_=g("RookieRumbleSquareStats");return p(),f("div",null,[w(c),e("div",ks,[s[0]||(s[0]=e("div",{class:"top-image-container"},[e("img",{src:E,class:"background-img"}),e("img",{src:fs,class:"logo"})],-1)),w(r),s[1]||(s[1]=e("h1",{class:"Title-Gold"},"Rookie Rumble Playoffs",-1)),w(o),s[2]||(s[2]=e("h1",{class:"Title"},"Rookie Rumble Standings",-1)),w(u),w(y),s[3]||(s[3]=e("h1",{class:"Title"},"Rookie Rumble Match Results",-1)),w(k),s[4]||(s[4]=e("h1",{class:"Title"},"Rookie Rumble Square Stats",-1)),w(_)])])}const gs=C(hs,[["render",_s],["__scopeId","data-v-87ab54ca"]]);export{gs as default};
