import{d as D,r as p,e as k,f as F,o,c as i,a,t as n,F as g,b as C,n as u,g as b,h as S,i as m,w as H,M as Y,T as K,Y as I,I as W,_ as B,p as J,j as N}from"./index-Dq5Lx9uV.js";const Q={class:"container mx-auto p-6"},U={class:"player-select"},X={class:"player-buttons"},Z=["onClick"],ee={class:"profile-table-container"},ae=["src"],se={class:"player-details"},te={class:"player-details"},le=["innerHTML"],ne={key:1,class:"table-container small-table"},oe={class:"results-table"},re={rowspan:2},ce={rowspan:2},ie={rowspan:2},ue={rowspan:2},de=["href"],pe={key:1},ve={rowspan:2},ye=["src"],_e="(I want some feed back on this stuff but for now): ",fe=D({__name:"playerProfiles",setup(L){const l=p(""),_=p([]),r=p({}),v=p([]),w=p([]),f=p(!1),h=p(void 0),T=async()=>{const e=(await(await fetch("/data/goldenOrderPlayerProfile.csv")).text()).trim().split(`
`).map(d=>d.split(",")),c=e[0];v.value=e.slice(1).map(d=>c.reduce((M,z,E)=>(M[z]=d[E]||"",M),{})),_.value=v.value.map(d=>d.Name)},$=s=>{const t=v.value.find(e=>e.Name===s);return t?t["MPS AVG"]:null},A=(s,t)=>{const e=v.value.find(d=>d.Name===s);if(!e)return"N/A";const c=`MPS G${t+1}`;return e[c]||"N/A"},R=s=>{const t=v.value.find(e=>e.Name===s);return t?t["Total Squares"]:null},V=async()=>{const s=await fetch("/data/goldenOrderPlayerData.json");r.value=await s.json()},j=async()=>{const t=await(await fetch("/data/normalizedResults.json")).json();w.value=t.goldenOrder.flatMap(e=>e.matches)},P=k(()=>w.value.filter(s=>s.player1.name===l.value||s.player2.name===l.value)),x=s=>{h.value=s,f.value=!0},y=s=>s==="Bingo"||s==="Majority"?"highlight-green":s==="Lost"?"highlight-red":"",q=k(()=>{const s=r.value[l.value];if(!l.value||!s||!s["division-seed"])return"bg-gray-800";const t=s["division-seed"];return t.includes("Redmane")?"highlight-redmane":t.includes("Recusant")?"highlight-recusant":"bg-gray-800"}),G=s=>{var e;const t=((e=r.value[s])==null?void 0:e["division-seed"])||"";return t.includes("Redmane")?"redmane":t.includes("Recusant")?"recusant":""},O=k(()=>{var t;return(((t=r.value[l.value])==null?void 0:t.accolades)||"").split("|").map(e=>e.trim()).join("<br>")});return F(async()=>{await T(),await V(),await j(),_.value.length>0&&(l.value=_.value[0])}),(s,t)=>(o(),i(g,null,[a("div",Q,[a("div",U,[a("label",{class:"player-select-label"},n(_e)+" Select Player:"),a("div",X,[(o(!0),i(g,null,C(_.value,e=>(o(),i("button",{key:e,onClick:c=>l.value=e,class:u(["player-button",l.value===e?"selected":"",G(e)])},n(e),11,Z))),128))])])]),a("div",ee,[l.value&&r.value[l.value]?(o(),i("div",{key:0,class:u(["player-info",q.value])},[a("img",{src:r.value[l.value]["player-pic"],alt:"Player Image",class:"player-img"},null,8,ae),a("div",se,[a("h2",null,n(l.value),1),a("div",te,[a("p",null,"Division: "+n(r.value[l.value]["division-seed"]),1),a("p",null,"Record: "+n(r.value[l.value].record),1),a("p",null,"Bingo Lines: "+n(r.value[l.value].lines),1),a("p",null,"Total Squares: "+n(R(l.value)),1),a("p",null,"Square Pace AVG: "+n($(l.value)||"N/A")+" MPS",1),a("p",{innerHTML:O.value,class:"accolades-style"},null,8,le)])])],2)):b("",!0),P.value.length?(o(),i("div",ne,[a("table",oe,[t[1]||(t[1]=a("thead",null,[a("tr",null,[a("th",null,"Game"),a("th",null,"Player"),a("th",null,"Score"),a("th",null,"Win Condition"),a("th",null,"Match Time"),a("th",null,"Square Pace"),a("th",null,"VOD"),a("th",null,"Board")])],-1)),a("tbody",null,[(o(!0),i(g,null,C(P.value,(e,c)=>(o(),i(g,{key:c},[a("tr",{class:u({"new-game-row":c===0||P.value[c-1].gameId!==e.gameId})},[a("td",re,n(c+1),1),a("td",{class:u(y(e.player1.outcome))},n(e.player1.name),3),a("td",{class:u(y(e.player1.outcome))},n(e.player1.score),3),a("td",{class:u(y(e.player1.outcome))},n(e.player1.outcome),3),a("td",ce,n(e.matchTime),1),a("td",ie,n(A(l.value,c)||"N/A"),1),a("td",ue,[e.vodLink?(o(),i("a",{key:0,href:e.vodLink,target:"_blank",class:"no-hover"},[m(I)],8,de)):(o(),i("span",pe,[m(I)]))]),a("td",ve,[e.imageLink?(o(),S(W,{key:0,onClick:d=>x(e.imageLink),class:"marika-eye"},null,8,["onClick"])):b("",!0)])],2),a("tr",null,[a("td",{class:u(y(e.player2.outcome))},n(e.player2.name),3),a("td",{class:u(y(e.player2.outcome))},n(e.player2.score),3),a("td",{class:u(y(e.player2.outcome))},n(e.player2.outcome),3)])],64))),128))])])])):b("",!0),(o(),S(K,{to:"body"},[m(Y,{show:f.value,onClose:t[0]||(t[0]=e=>f.value=!1)},{default:H(()=>[a("img",{src:h.value,alt:"Board Image",style:{"max-width":"100%",height:"auto"}},null,8,ye)]),_:1},8,["show"])]))])],64))}}),me=B(fe,[["__scopeId","data-v-e4f99213"]]),he=D({name:"Stats",components:{PlayerProfiles:me,playerPlayoffs:J}});function ge(L,l,_,r,v,w){const f=N("PlayerProfiles"),h=N("playerPlayoffs");return o(),i("div",null,[m(f),m(h)])}const Pe=B(he,[["render",ge],["__scopeId","data-v-1bbe824a"]]);export{Pe as default};
