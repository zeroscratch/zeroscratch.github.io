import{_ as $,d as C,j as b,c,o as i,F as f,b as g,a as e,s as S,t as r,g as _,i as w,q as W,r as h,f as M,n as y,y as N,e as I,l as R,N as L}from"./index-BS9OTwnq.js";import{U as T}from"./GoldenOrderUpcomingMatches-B29U5vx2.js";import{_ as j}from"./SplittingErdtree2-E0p5C5bq.js";const q=C({name:"CrucibleStandings",components:{TwitchIcon:W},setup(){const t=h({}),o=v=>{const[n,s]=v.split("-").map(Number);return{wins:n,losses:s}},p=v=>{const{wins:n,losses:s}=o(v.record),a=n+s,d=a>0?(n/a*100).toFixed(1):"0.0";return{...v,wins:n,losses:s,gamesPlayed:a,WR:d}},m=v=>[...v].sort((n,s)=>{var a,d;return s.wins!==n.wins?s.wins-n.wins:n.losses!==s.losses?n.losses-s.losses:s.lines!==n.lines?s.lines-n.lines:s.squares!==n.squares?s.squares-n.squares:(a=n.H2H)!=null&&a.includes(s.teamName)?-1:(d=s.H2H)!=null&&d.includes(n.teamName)?1:0});return M(async()=>{try{const n=await(await fetch("/data/ESS3/Crucible/crucibleTeams.json")).json(),s={};for(const[a,d]of Object.entries(n)){const l=Object.entries(d).map(([k,u])=>p({teamName:k,...u}));s[a]=m(l)}t.value=s}catch(v){console.error("Error loading crucibleTeams.json:",v)}}),{divisions:t}}}),P={class:"standings-wrapper"},B={class:"title"},E={class:"standings-list"},V={class:"col-rank-number"},O={class:"col-team"},H={class:"team-name"},D={class:"players"},F={class:"player"},U={class:"player-name"},z={key:0,class:"player-nickname"},A=["href"],G={class:"player"},J={class:"player-name"},K={key:0,class:"player-nickname"},Q=["href"],X={class:"col-record-spacing"},Y={class:"col-wr"},Z={class:"col-games"},x={class:"col-squares"},ss={class:"col-lines"};function es(t,o,p,m,v,n){const s=b("TwitchIcon");return i(),c("div",P,[(i(!0),c(f,null,g(t.divisions,(a,d)=>(i(),c("div",{key:d,class:"division-section"},[e("h1",B,r(d)+" Standings",1),o[0]||(o[0]=S('<div class="standings-header" data-v-c509799f><div class="col-rank" data-v-c509799f>Rank</div><div class="col-team" data-v-c509799f>Team Name</div><div class="col-record" data-v-c509799f>Record</div><div class="col-wr" data-v-c509799f>WR%</div><div class="col-games" data-v-c509799f>GP</div><div class="col-squares" data-v-c509799f>Squares</div><div class="col-lines" data-v-c509799f>Lines</div></div>',1)),e("div",E,[(i(!0),c(f,null,g(a,(l,k)=>(i(),c("div",{key:l.teamName,class:"team-card"},[e("div",V,r(k+1),1),e("div",O,[e("h2",H,r(l.teamName),1),e("div",D,[e("div",F,[e("p",U,r(l.player1.name),1),l.player1.nickname?(i(),c("p",z,'"'+r(l.player1.nickname)+'"',1)):_("",!0),l.player1.twitch?(i(),c("a",{key:1,href:l.player1.twitch,class:"twitch-link",target:"_blank"},[w(s,{class:"icon"})],8,A)):_("",!0)]),e("div",G,[e("p",J,r(l.player2.name),1),l.player2.nickname?(i(),c("p",K,'"'+r(l.player2.nickname)+'"',1)):_("",!0),l.player2.twitch?(i(),c("a",{key:1,href:l.player2.twitch,class:"twitch-link",target:"_blank"},[w(s,{class:"icon"})],8,Q)):_("",!0)])])]),e("div",X,r(l.record),1),e("div",Y,r(l.WR)+"%",1),e("div",Z,r(l.gamesPlayed),1),e("div",x,r(l.squares),1),e("div",ss,r(l.lines),1)]))),128))])]))),128))])}const as=$(q,[["render",es],["__scopeId","data-v-c509799f"]]),ts=C({name:"CrucibleMatchResults",setup(){const t=h([]),o=h(4),p=h(!1),m=h(null),v=[{label:"Week 1",value:1},{label:"Week 2",value:2},{label:"Week 3",value:3},{label:"Week 4",value:4},{label:"All Weeks",value:"all"}],n=async()=>{try{const u=await fetch("/data/ESS3/Crucible/crucibleSeasonMatches.json");t.value=await u.json()}catch(u){console.error("Error loading match data:",u)}},s=I(()=>o.value==="all"?t.value:t.value.filter(u=>u.week===o.value)),a=u=>{window.open(u,"_blank")},d=u=>{m.value=u,p.value=!0},l=()=>{p.value=!1,m.value=null},k=u=>u==="Bingo"||u==="Majority"?"winner":u==="Lost"?"loser":"";return M(n),{selectedWeek:o,weekOptions:v,filteredWeeks:s,openLink:a,openImageModal:d,closeModal:l,getPlayerClass:k,showModal:p,modalImage:m}}}),ns={class:"match-results-container"},os={class:"week-selector"},ls=["onClick"],cs={class:"week-title"},is={class:"matches-list"},rs={class:"match-line"},ds={class:"score-line"},us={class:"match-details"},vs={class:"match-buttons"},ps=["onClick"],ms=["onClick"],_s={key:0,class:"no-results"},ks={class:"modal-content"},ys=["src"];function hs(t,o,p,m,v,n){return i(),c("div",ns,[o[4]||(o[4]=e("h2",{class:"title"},"Crucible Match Results",-1)),e("div",os,[(i(!0),c(f,null,g(t.weekOptions,s=>(i(),c("button",{key:s.value,onClick:a=>t.selectedWeek=s.value,class:y(["week-button",{active:t.selectedWeek===s.value}])},r(s.label),11,ls))),128))]),(i(!0),c(f,null,g(t.filteredWeeks,s=>(i(),c("div",{key:s.week,class:"week-block"},[e("h3",cs,"Week "+r(s.week),1),e("div",is,[(i(!0),c(f,null,g(s.matches,a=>(i(),c("div",{key:a.gameId,class:"match-card"},[e("div",rs,[e("span",{class:y(["player-name",t.getPlayerClass(a.player1.outcome)])},r(a.player1.name),3),o[2]||(o[2]=e("span",{class:"vs-text"},"vs",-1)),e("span",{class:y(["player-name",t.getPlayerClass(a.player2.outcome)])},r(a.player2.name),3)]),e("div",ds,[e("span",{class:y(["player-score",t.getPlayerClass(a.player1.outcome)])},r(a.player1.score),3),o[3]||(o[3]=e("span",{class:"dash"}," - ",-1)),e("span",{class:y(["player-score",t.getPlayerClass(a.player2.outcome)])},r(a.player2.score),3)]),e("div",us,[e("p",null,"Match Time: "+r(a.matchTime),1)]),e("div",vs,[a.imageLink?(i(),c("button",{key:0,class:"match-button",onClick:d=>t.openImageModal(a.imageLink)}," View Board ",8,ps)):_("",!0),a.vodLink?(i(),c("button",{key:1,class:"match-button",onClick:d=>t.openLink(a.vodLink)}," Watch VOD ",8,ms)):_("",!0)])]))),128))])]))),128)),t.filteredWeeks.length===0?(i(),c("div",_s," No match data available for this week. ")):_("",!0),t.showModal?(i(),c("div",{key:1,class:"modal-overlay",onClick:o[1]||(o[1]=N((...s)=>t.closeModal&&t.closeModal(...s),["self"]))},[e("div",ks,[e("button",{class:"close-button",onClick:o[0]||(o[0]=(...s)=>t.closeModal&&t.closeModal(...s))},"âœ•"),e("img",{src:t.modalImage,alt:"Match Board",class:"modal-image"},null,8,ys)])])):_("",!0)])}const fs=$(ts,[["render",hs],["__scopeId","data-v-d3562f23"]]),gs=C({name:"Crucible",components:{Navigation:L,Standings:as,Results:fs,UpcomingMatches:T},mounted(){document.body.style.background="linear-gradient(90deg,rgba(79, 43, 0, 1) 0%, rgba(8, 0, 7, 1) 100%)"},beforeUnmount(){document.body.style.background="#0d1321"}}),ws={class:"main-container"};function bs(t,o,p,m,v,n){const s=b("Navigation"),a=b("Standings"),d=b("Results");return i(),c("div",null,[w(s),e("div",ws,[o[0]||(o[0]=e("div",{class:"top-image-container"},[e("img",{src:j,class:"background-img"}),e("img",{src:R,class:"logo"})],-1)),w(a),w(d)])])}const Ss=$(gs,[["render",bs],["__scopeId","data-v-e06ed0cf"]]);export{Ss as default};
